(this.webpackJsonp=this.webpackJsonp||[]).push([["data-pipeline"],{"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/data-pipeline-sheet/index.coffee fc19bf9b73cd1e2228a2e16b5305099e":function(e,s,d){"use strict";d.r(s);var t,i=d("/app/node_modules/d3-graphviz/build/d3-graphviz.js"),o=d("/app/node_modules/lodash/lodash.js"),p=d.n(o),a=d("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/api/index.coffee"),l=d("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/chart-options-editor/form-builder/widgets/dropdown-select/index.js"),n=d("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/chart-options-editor/form-builder/widgets/autocomplete/index.coffee"),r={name:"DataPipeline",components:{DropdownSelect:l.a,WidgetAutocomplete:n.a},props:{slideId:{type:Number,default:void 0}},data:function(){return{allViewIds:{},allViewTypes:["whole pipeline","domain","slide","report","dashboard"],dotSource:void 0,selectedViewType:this.slideId?"slide":"whole pipeline",typedId:this.slideId||""}},computed:{allPossibleViewIds:function(){if(!this.isWholePipeline)return this.allViewIds[this.selectedViewType]},currentViewId:function(){return p.a.get(this.suggestedViewIds,"[0]",this.typedId)},displayTypeDropdown:function(){return null==this.slideId},displayIdDropdown:function(){return!this.isWholePipeline&&null==this.slideId},isWholePipeline:function(){return"whole pipeline"===this.selectedViewType},suggestedViewIds:function(){var e=this;return p.a.filter(this.allPossibleViewIds,function(s){return p.a.includes(s,e.typedId||"")})},viewType:function(){if(!this.isWholePipeline)return this.selectedViewType}},mounted:function(){return this.runRequest()},methods:{getPossibleViewIds:function(){return p.a.map(this.suggestedViewIds,function(e){return{value:e}})},render:function(){var e=this.$refs.viz.offsetHeight,s=this.$refs.viz.offsetWidth,d=!0,t=!1,o=void 0;try{for(var p,a=this.$refs.viz.children[Symbol.iterator]();!(d=(p=a.next()).done);d=!0){p.value.remove()}}catch(e){t=!0,o=e}finally{try{d||null==a.return||a.return()}finally{if(t)throw o}}var l=document.createElement("div");return this.$refs.viz.appendChild(l),i.graphviz(l,{zoom:!0,width:s,height:e,fit:!0}).renderDot(this.dotSource)},runRequest:function(){var e=this;return a.a.smallApp.data.pipeline(this.$store.getters.smallAppId,this.viewType,this.currentViewId,this.$store.getters.stage).then(function(s){return s.metadata&&(e.allViewIds={domain:s.metadata.domains,slide:s.metadata.slides,report:s.metadata.reports,dashboard:s.metadata.dashboards},p.a.forEach(e.allViewIds,function(s,d){return e.allViewIds[d]=p.a.sortBy(s,[function(e){return e.toString().toLowerCase()}])})),e.dotSource=s.dot,e.render()})},updateViewType:function(e){return this.selectedViewType=e,this.typedId=this.suggestedViewIds?this.suggestedViewIds[0]:void 0,this.runRequest()},updateViewId:function(e){return this.typedId=e,this.runRequest()}}},u=(d("/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/studio/data-pipeline/index.vue?vue&type=style&index=0&lang=scss&"),d("/app/node_modules/vue-loader/lib/runtime/componentNormalizer.js")),c=Object(u.a)(r,function(){var e=this,s=e.$createElement,d=e._self._c||s;return d("div",{staticClass:"data-pipeline"},[e.displayTypeDropdown?d("DropdownSelect",{staticClass:"data-pipeline__dropdown-type",attrs:{value:e.selectedViewType,"field-name":"Select the view type",options:e.allViewTypes},on:{input:e.updateViewType}}):e._e(),e._v(" "),e.displayIdDropdown?d("WidgetAutocomplete",{staticClass:"data-pipeline__dropdown-id",attrs:{value:e.typedId,"field-name":"Select the "+e.selectedViewType,"get-suggestions":e.getPossibleViewIds},on:{input:e.updateViewId}}):e._e(),e._v(" "),d("div",{ref:"viz",staticClass:"viz-container"})],1)},[],!1,null,null,null).exports,f=d("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/utils/tc-sheet/index.js"),m=d("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/data-pipeline-sheet/data-pipeline-sheet.vue.pug");t=d.n(m)()({components:{DataPipeline:c,TcSheet:f.default},props:{slideId:{type:Number,default:function(){}}},methods:{close:function(){return this.$emit("closed")}}});s.default=t},"/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/studio/data-pipeline/index.vue?vue&type=style&index=0&lang=scss&":function(e,s,d){},"/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/studio/data-pipeline/index.vue?vue&type=style&index=0&lang=scss&":function(e,s,d){"use strict";var t=d("/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/studio/data-pipeline/index.vue?vue&type=style&index=0&lang=scss&");d.n(t).a},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/data-pipeline-sheet/data-pipeline-sheet.vue.pug":function(e,s,d){var t=function(){var e=this.$createElement,s=this._self._c||e;return s("tc-sheet",{on:{closed:this.close}},[s("template",{slot:"header"},[s("div",{staticClass:"studio-header__title"},[this._v("Data pipeline")])]),s("data-pipeline",{attrs:{slideId:this.slideId}}),this._e()],2)},i=[];e.exports=function(e){var s="function"==typeof e?e.options:e;return s.render=t,s.staticRenderFns=i,e}},"ignored /app/node_modules/viz.js crypto":function(e,s){},"ignored /app/node_modules/viz.js fs":function(e,s){},"ignored /app/node_modules/viz.js path":function(e,s){}}]);