/*! For license information please see chunk.vendors~tc-story-chart-editor~tc-story-debug-panel~tc-story-editor-sheet~tc-story-highlighted-kpi-editor.js.LICENSE */
(this.webpackJsonp=this.webpackJsonp||[]).push([["vendors~tc-story-chart-editor~tc-story-debug-panel~tc-story-editor-sheet~tc-story-highlighted-kpi-editor"],{"/app/node_modules/lodash/fromPairs.js":function(e,t){e.exports=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n}},"/app/node_modules/lodash/mapValues.js":function(e,t,r){var n=r("/app/node_modules/lodash/_baseAssignValue.js"),i=r("/app/node_modules/lodash/_baseForOwn.js"),a=r("/app/node_modules/lodash/_baseIteratee.js");e.exports=function(e,t){var r={};return t=a(t,3),i(e,function(e,i,a){n(r,i,t(e,i,a))}),r}},"/app/node_modules/weaverbird/dist/weaverbird.esm.js":function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return Kg}),r.d(t,"b",function(){return b_}),r.d(t,"c",function(){return Zv}),r.d(t,"d",function(){return Jv}),r.d(t,"e",function(){return Cv}),r.d(t,"f",function(){return Pv}),r.d(t,"g",function(){return Kv}),r.d(t,"h",function(){return tg}),r.d(t,"i",function(){return Yv});var n=r("/app/node_modules/vue/dist/vue.common.js"),i=r.n(n),a=r("/app/node_modules/vuex/dist/vuex.common.js"),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function s(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}function l(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}u((n=n.apply(e,t||[])).next())})}function f(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function m(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function g(e,t){return e(t={exports:{}},t.exports),t.exports}function y(e){return e&&e.default||e}var b=g(function(e,t){(function(){var r,n=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",o="__lodash_hash_undefined__",s=500,u="__lodash_placeholder__",c=1,l=2,f=4,p=1,m=2,h=1,v=2,g=4,y=8,b=16,x=32,w=64,_=128,N=256,E=512,S=30,M="...",A=800,O=16,C=1,P=2,T=1/0,k=9007199254740991,R=1.7976931348623157e308,I=NaN,j=4294967295,F=j-1,D=j>>>1,$=[["ary",_],["bind",h],["bindKey",v],["curry",y],["curryRight",b],["flip",E],["partial",x],["partialRight",w],["rearg",N]],z="[object Arguments]",L="[object Array]",B="[object AsyncFunction]",q="[object Boolean]",U="[object Date]",V="[object DOMException]",H="[object Error]",W="[object Function]",G="[object GeneratorFunction]",Z="[object Map]",J="[object Number]",Q="[object Null]",K="[object Object]",Y="[object Proxy]",X="[object RegExp]",ee="[object Set]",te="[object String]",re="[object Symbol]",ne="[object Undefined]",ie="[object WeakMap]",ae="[object WeakSet]",oe="[object ArrayBuffer]",se="[object DataView]",ue="[object Float32Array]",ce="[object Float64Array]",le="[object Int8Array]",fe="[object Int16Array]",pe="[object Int32Array]",me="[object Uint8Array]",he="[object Uint8ClampedArray]",de="[object Uint16Array]",ve="[object Uint32Array]",ge=/\b__p \+= '';/g,ye=/\b(__p \+=) '' \+/g,be=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xe=/&(?:amp|lt|gt|quot|#39);/g,we=/[&<>"']/g,_e=RegExp(xe.source),Ne=RegExp(we.source),Ee=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,Me=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,Te=RegExp(Pe.source),ke=/^\s+|\s+$/g,Re=/^\s+/,Ie=/\s+$/,je=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,De=/,? & /,$e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ze=/\\(\\)?/g,Le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Be=/\w*$/,qe=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,He=/^0o[0-7]+$/i,We=/^(?:0|[1-9]\d*)$/,Ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,Je=/['\n\r\u2028\u2029\\]/g,Qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ye="[\\ud800-\\udfff]",Xe="["+Ke+"]",et="["+Qe+"]",tt="\\d+",rt="[\\u2700-\\u27bf]",nt="[a-z\\xdf-\\xf6\\xf8-\\xff]",it="[^\\ud800-\\udfff"+Ke+tt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",at="\\ud83c[\\udffb-\\udfff]",ot="[^\\ud800-\\udfff]",st="(?:\\ud83c[\\udde6-\\uddff]){2}",ut="[\\ud800-\\udbff][\\udc00-\\udfff]",ct="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lt="(?:"+nt+"|"+it+")",ft="(?:"+ct+"|"+it+")",pt="(?:"+et+"|"+at+")"+"?",mt="[\\ufe0e\\ufe0f]?"+pt+("(?:\\u200d(?:"+[ot,st,ut].join("|")+")[\\ufe0e\\ufe0f]?"+pt+")*"),ht="(?:"+[rt,st,ut].join("|")+")"+mt,dt="(?:"+[ot+et+"?",et,st,ut,Ye].join("|")+")",vt=RegExp("['’]","g"),gt=RegExp(et,"g"),yt=RegExp(at+"(?="+at+")|"+dt+mt,"g"),bt=RegExp([ct+"?"+nt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Xe,ct,"$"].join("|")+")",ft+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Xe,ct+lt,"$"].join("|")+")",ct+"?"+lt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ct+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tt,ht].join("|"),"g"),xt=RegExp("[\\u200d\\ud800-\\udfff"+Qe+"\\ufe0e\\ufe0f]"),wt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_t=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Nt=-1,Et={};Et[ue]=Et[ce]=Et[le]=Et[fe]=Et[pe]=Et[me]=Et[he]=Et[de]=Et[ve]=!0,Et[z]=Et[L]=Et[oe]=Et[q]=Et[se]=Et[U]=Et[H]=Et[W]=Et[Z]=Et[J]=Et[K]=Et[X]=Et[ee]=Et[te]=Et[ie]=!1;var St={};St[z]=St[L]=St[oe]=St[se]=St[q]=St[U]=St[ue]=St[ce]=St[le]=St[fe]=St[pe]=St[Z]=St[J]=St[K]=St[X]=St[ee]=St[te]=St[re]=St[me]=St[he]=St[de]=St[ve]=!0,St[H]=St[W]=St[ie]=!1;var Mt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},At=parseFloat,Ot=parseInt,Ct="object"==typeof d&&d&&d.Object===Object&&d,Pt="object"==typeof self&&self&&self.Object===Object&&self,Tt=Ct||Pt||Function("return this")(),kt=t&&!t.nodeType&&t,Rt=kt&&e&&!e.nodeType&&e,It=Rt&&Rt.exports===kt,jt=It&&Ct.process,Ft=function(){try{var e=Rt&&Rt.require&&Rt.require("util").types;return e||jt&&jt.binding&&jt.binding("util")}catch(e){}}(),Dt=Ft&&Ft.isArrayBuffer,$t=Ft&&Ft.isDate,zt=Ft&&Ft.isMap,Lt=Ft&&Ft.isRegExp,Bt=Ft&&Ft.isSet,qt=Ft&&Ft.isTypedArray;function Ut(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Vt(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function Ht(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Wt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Gt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Zt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function Jt(e,t){return!!(null==e?0:e.length)&&ar(e,t,0)>-1}function Qt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Kt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Yt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Xt(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function er(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function tr(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var rr=cr("length");function nr(e,t,r){var n;return r(e,function(e,r,i){if(t(e,r,i))return n=r,!1}),n}function ir(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function ar(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):ir(e,sr,r)}function or(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function sr(e){return e!=e}function ur(e,t){var r=null==e?0:e.length;return r?pr(e,t)/r:I}function cr(e){return function(t){return null==t?r:t[e]}}function lr(e){return function(t){return null==e?r:e[t]}}function fr(e,t,r,n,i){return i(e,function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)}),r}function pr(e,t){for(var n,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function mr(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function hr(e){return function(t){return e(t)}}function dr(e,t){return Kt(t,function(t){return e[t]})}function vr(e,t){return e.has(t)}function gr(e,t){for(var r=-1,n=e.length;++r<n&&ar(t,e[r],0)>-1;);return r}function yr(e,t){for(var r=e.length;r--&&ar(t,e[r],0)>-1;);return r}var br=lr({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),xr=lr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function wr(e){return"\\"+Mt[e]}function _r(e){return xt.test(e)}function Nr(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function Er(e,t){return function(r){return e(t(r))}}function Sr(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r];o!==t&&o!==u||(e[r]=u,a[i++]=r)}return a}function Mr(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function Ar(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function Or(e){return _r(e)?function(e){var t=yt.lastIndex=0;for(;yt.test(e);)++t;return t}(e):rr(e)}function Cr(e){return _r(e)?function(e){return e.match(yt)||[]}(e):function(e){return e.split("")}(e)}var Pr=lr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Tr=function e(t){var d,Qe=(t=null==t?Tt:Tr.defaults(Tt.Object(),t,Tr.pick(Tt,_t))).Array,Ke=t.Date,Ye=t.Error,Xe=t.Function,et=t.Math,tt=t.Object,rt=t.RegExp,nt=t.String,it=t.TypeError,at=Qe.prototype,ot=Xe.prototype,st=tt.prototype,ut=t["__core-js_shared__"],ct=ot.toString,lt=st.hasOwnProperty,ft=0,pt=(d=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",mt=st.toString,ht=ct.call(tt),dt=Tt._,yt=rt("^"+ct.call(lt).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xt=It?t.Buffer:r,Mt=t.Symbol,Ct=t.Uint8Array,Pt=xt?xt.allocUnsafe:r,kt=Er(tt.getPrototypeOf,tt),Rt=tt.create,jt=st.propertyIsEnumerable,Ft=at.splice,rr=Mt?Mt.isConcatSpreadable:r,lr=Mt?Mt.iterator:r,kr=Mt?Mt.toStringTag:r,Rr=function(){try{var e=$a(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ir=t.clearTimeout!==Tt.clearTimeout&&t.clearTimeout,jr=Ke&&Ke.now!==Tt.Date.now&&Ke.now,Fr=t.setTimeout!==Tt.setTimeout&&t.setTimeout,Dr=et.ceil,$r=et.floor,zr=tt.getOwnPropertySymbols,Lr=xt?xt.isBuffer:r,Br=t.isFinite,qr=at.join,Ur=Er(tt.keys,tt),Vr=et.max,Hr=et.min,Wr=Ke.now,Gr=t.parseInt,Zr=et.random,Jr=at.reverse,Qr=$a(t,"DataView"),Kr=$a(t,"Map"),Yr=$a(t,"Promise"),Xr=$a(t,"Set"),en=$a(t,"WeakMap"),tn=$a(tt,"create"),rn=en&&new en,nn={},an=lo(Qr),on=lo(Kr),sn=lo(Yr),un=lo(Xr),cn=lo(en),ln=Mt?Mt.prototype:r,fn=ln?ln.valueOf:r,pn=ln?ln.toString:r;function mn(e){if(Os(e)&&!gs(e)&&!(e instanceof gn)){if(e instanceof vn)return e;if(lt.call(e,"__wrapped__"))return fo(e)}return new vn(e)}var hn=function(){function e(){}return function(t){if(!As(t))return{};if(Rt)return Rt(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function dn(){}function vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function yn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function bn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function wn(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new xn;++t<r;)this.add(e[t])}function _n(e){var t=this.__data__=new bn(e);this.size=t.size}function Nn(e,t){var r=gs(e),n=!r&&vs(e),i=!r&&!n&&ws(e),a=!r&&!n&&!i&&Fs(e),o=r||n||i||a,s=o?mr(e.length,nt):[],u=s.length;for(var c in e)!t&&!lt.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ha(c,u))||s.push(c);return s}function En(e){var t=e.length;return t?e[wi(0,t-1)]:r}function Sn(e,t){return so(ra(e),In(t,0,e.length))}function Mn(e){return so(ra(e))}function An(e,t,n){(n===r||ms(e[t],n))&&(n!==r||t in e)||kn(e,t,n)}function On(e,t,n){var i=e[t];lt.call(e,t)&&ms(i,n)&&(n!==r||t in e)||kn(e,t,n)}function Cn(e,t){for(var r=e.length;r--;)if(ms(e[r][0],t))return r;return-1}function Pn(e,t,r,n){return zn(e,function(e,i,a){t(n,e,r(e),a)}),n}function Tn(e,t){return e&&na(t,iu(t),e)}function kn(e,t,r){"__proto__"==t&&Rr?Rr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Rn(e,t){for(var n=-1,i=t.length,a=Qe(i),o=null==e;++n<i;)a[n]=o?r:Xs(e,t[n]);return a}function In(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function jn(e,t,n,i,a,o){var s,u=t&c,p=t&l,m=t&f;if(n&&(s=a?n(e,i,a,o):n(e)),s!==r)return s;if(!As(e))return e;var h=gs(e);if(h){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&lt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!u)return ra(e,s)}else{var d=Ba(e),v=d==W||d==G;if(ws(e))return Qi(e,u);if(d==K||d==z||v&&!a){if(s=p||v?{}:Ua(e),!u)return p?function(e,t){return na(e,La(e),t)}(e,function(e,t){return e&&na(t,au(t),e)}(s,e)):function(e,t){return na(e,za(e),t)}(e,Tn(s,e))}else{if(!St[d])return a?e:{};s=function(e,t,r){var n,i,a,o=e.constructor;switch(t){case oe:return Ki(e);case q:case U:return new o(+e);case se:return function(e,t){var r=t?Ki(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case ue:case ce:case le:case fe:case pe:case me:case he:case de:case ve:return Yi(e,r);case Z:return new o;case J:case te:return new o(e);case X:return(a=new(i=e).constructor(i.source,Be.exec(i))).lastIndex=i.lastIndex,a;case ee:return new o;case re:return n=e,fn?tt(fn.call(n)):{}}}(e,d,u)}}o||(o=new _n);var g=o.get(e);if(g)return g;o.set(e,s),Rs(e)?e.forEach(function(r){s.add(jn(r,t,n,r,e,o))}):Cs(e)&&e.forEach(function(r,i){s.set(i,jn(r,t,n,i,e,o))});var y=h?r:(m?p?Ta:Pa:p?au:iu)(e);return Ht(y||e,function(r,i){y&&(r=e[i=r]),On(s,i,jn(r,t,n,i,e,o))}),s}function Fn(e,t,n){var i=n.length;if(null==e)return!i;for(e=tt(e);i--;){var a=n[i],o=t[a],s=e[a];if(s===r&&!(a in e)||!o(s))return!1}return!0}function Dn(e,t,n){if("function"!=typeof e)throw new it(a);return no(function(){e.apply(r,n)},t)}function $n(e,t,r,i){var a=-1,o=Jt,s=!0,u=e.length,c=[],l=t.length;if(!u)return c;r&&(t=Kt(t,hr(r))),i?(o=Qt,s=!1):t.length>=n&&(o=vr,s=!1,t=new wn(t));e:for(;++a<u;){var f=e[a],p=null==r?f:r(f);if(f=i||0!==f?f:0,s&&p==p){for(var m=l;m--;)if(t[m]===p)continue e;c.push(f)}else o(t,p,i)||c.push(f)}return c}mn.templateSettings={escape:Ee,evaluate:Se,interpolate:Me,variable:"",imports:{_:mn}},mn.prototype=dn.prototype,mn.prototype.constructor=mn,vn.prototype=hn(dn.prototype),vn.prototype.constructor=vn,gn.prototype=hn(dn.prototype),gn.prototype.constructor=gn,yn.prototype.clear=function(){this.__data__=tn?tn(null):{},this.size=0},yn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yn.prototype.get=function(e){var t=this.__data__;if(tn){var n=t[e];return n===o?r:n}return lt.call(t,e)?t[e]:r},yn.prototype.has=function(e){var t=this.__data__;return tn?t[e]!==r:lt.call(t,e)},yn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tn&&t===r?o:t,this},bn.prototype.clear=function(){this.__data__=[],this.size=0},bn.prototype.delete=function(e){var t=this.__data__,r=Cn(t,e);return!(r<0||(r==t.length-1?t.pop():Ft.call(t,r,1),--this.size,0))},bn.prototype.get=function(e){var t=this.__data__,n=Cn(t,e);return n<0?r:t[n][1]},bn.prototype.has=function(e){return Cn(this.__data__,e)>-1},bn.prototype.set=function(e,t){var r=this.__data__,n=Cn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},xn.prototype.clear=function(){this.size=0,this.__data__={hash:new yn,map:new(Kr||bn),string:new yn}},xn.prototype.delete=function(e){var t=Fa(this,e).delete(e);return this.size-=t?1:0,t},xn.prototype.get=function(e){return Fa(this,e).get(e)},xn.prototype.has=function(e){return Fa(this,e).has(e)},xn.prototype.set=function(e,t){var r=Fa(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},wn.prototype.add=wn.prototype.push=function(e){return this.__data__.set(e,o),this},wn.prototype.has=function(e){return this.__data__.has(e)},_n.prototype.clear=function(){this.__data__=new bn,this.size=0},_n.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},_n.prototype.get=function(e){return this.__data__.get(e)},_n.prototype.has=function(e){return this.__data__.has(e)},_n.prototype.set=function(e,t){var r=this.__data__;if(r instanceof bn){var i=r.__data__;if(!Kr||i.length<n-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new xn(i)}return r.set(e,t),this.size=r.size,this};var zn=oa(Gn),Ln=oa(Zn,!0);function Bn(e,t){var r=!0;return zn(e,function(e,n,i){return r=!!t(e,n,i)}),r}function qn(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(u===r?s==s&&!js(s):n(s,u)))var u=s,c=o}return c}function Un(e,t){var r=[];return zn(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function Vn(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=Va),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?Vn(s,t-1,r,n,i):Yt(i,s):n||(i[i.length]=s)}return i}var Hn=sa(),Wn=sa(!0);function Gn(e,t){return e&&Hn(e,t,iu)}function Zn(e,t){return e&&Wn(e,t,iu)}function Jn(e,t){return Zt(t,function(t){return Es(e[t])})}function Qn(e,t){for(var n=0,i=(t=Wi(t,e)).length;null!=e&&n<i;)e=e[co(t[n++])];return n&&n==i?e:r}function Kn(e,t,r){var n=t(e);return gs(e)?n:Yt(n,r(e))}function Yn(e){return null==e?e===r?ne:Q:kr&&kr in tt(e)?function(e){var t=lt.call(e,kr),n=e[kr];try{e[kr]=r;var i=!0}catch(e){}var a=mt.call(e);return i&&(t?e[kr]=n:delete e[kr]),a}(e):function(e){return mt.call(e)}(e)}function Xn(e,t){return e>t}function ei(e,t){return null!=e&&lt.call(e,t)}function ti(e,t){return null!=e&&t in tt(e)}function ri(e,t,n){for(var i=n?Qt:Jt,a=e[0].length,o=e.length,s=o,u=Qe(o),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=Kt(f,hr(t))),c=Hr(f.length,c),u[s]=!n&&(t||a>=120&&f.length>=120)?new wn(s&&f):r}f=e[0];var p=-1,m=u[0];e:for(;++p<a&&l.length<c;){var h=f[p],d=t?t(h):h;if(h=n||0!==h?h:0,!(m?vr(m,d):i(l,d,n))){for(s=o;--s;){var v=u[s];if(!(v?vr(v,d):i(e[s],d,n)))continue e}m&&m.push(d),l.push(h)}}return l}function ni(e,t,n){var i=null==(e=eo(e,t=Wi(t,e)))?e:e[co(No(t))];return null==i?r:Ut(i,e,n)}function ii(e){return Os(e)&&Yn(e)==z}function ai(e,t,n,i,a){return e===t||(null==e||null==t||!Os(e)&&!Os(t)?e!=e&&t!=t:function(e,t,n,i,a,o){var s=gs(e),u=gs(t),c=s?L:Ba(e),l=u?L:Ba(t),f=(c=c==z?K:c)==K,h=(l=l==z?K:l)==K,d=c==l;if(d&&ws(e)){if(!ws(t))return!1;s=!0,f=!1}if(d&&!f)return o||(o=new _n),s||Fs(e)?Oa(e,t,n,i,a,o):function(e,t,r,n,i,a,o){switch(r){case se:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case oe:return!(e.byteLength!=t.byteLength||!a(new Ct(e),new Ct(t)));case q:case U:case J:return ms(+e,+t);case H:return e.name==t.name&&e.message==t.message;case X:case te:return e==t+"";case Z:var s=Nr;case ee:var u=n&p;if(s||(s=Mr),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;n|=m,o.set(e,t);var l=Oa(s(e),s(t),n,i,a,o);return o.delete(e),l;case re:if(fn)return fn.call(e)==fn.call(t)}return!1}(e,t,c,n,i,a,o);if(!(n&p)){var v=f&&lt.call(e,"__wrapped__"),g=h&&lt.call(t,"__wrapped__");if(v||g){var y=v?e.value():e,b=g?t.value():t;return o||(o=new _n),a(y,b,n,i,o)}}return!!d&&(o||(o=new _n),function(e,t,n,i,a,o){var s=n&p,u=Pa(e),c=u.length,l=Pa(t).length;if(c!=l&&!s)return!1;for(var f=c;f--;){var m=u[f];if(!(s?m in t:lt.call(t,m)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var d=!0;o.set(e,t),o.set(t,e);for(var v=s;++f<c;){m=u[f];var g=e[m],y=t[m];if(i)var b=s?i(y,g,m,t,e,o):i(g,y,m,e,t,o);if(!(b===r?g===y||a(g,y,n,i,o):b)){d=!1;break}v||(v="constructor"==m)}if(d&&!v){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w)&&(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,i,a,o))}(e,t,n,i,ai,a))}function oi(e,t,n,i){var a=n.length,o=a,s=!i;if(null==e)return!o;for(e=tt(e);a--;){var u=n[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var c=(u=n[a])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===r&&!(c in e))return!1}else{var h=new _n;if(i)var d=i(l,f,c,e,t,h);if(!(d===r?ai(f,l,p|m,i,h):d))return!1}}return!0}function si(e){return!(!As(e)||(t=e,pt&&pt in t))&&(Es(e)?yt:Ve).test(lo(e));var t}function ui(e){return"function"==typeof e?e:null==e?Pu:"object"==typeof e?gs(e)?hi(e[0],e[1]):mi(e):zu(e)}function ci(e){if(!Qa(e))return Ur(e);var t=[];for(var r in tt(e))lt.call(e,r)&&"constructor"!=r&&t.push(r);return t}function li(e){if(!As(e))return function(e){var t=[];if(null!=e)for(var r in tt(e))t.push(r);return t}(e);var t=Qa(e),r=[];for(var n in e)("constructor"!=n||!t&&lt.call(e,n))&&r.push(n);return r}function fi(e,t){return e<t}function pi(e,t){var r=-1,n=bs(e)?Qe(e.length):[];return zn(e,function(e,i,a){n[++r]=t(e,i,a)}),n}function mi(e){var t=Da(e);return 1==t.length&&t[0][2]?Ya(t[0][0],t[0][1]):function(r){return r===e||oi(r,e,t)}}function hi(e,t){return Ga(e)&&Ka(t)?Ya(co(e),t):function(n){var i=Xs(n,e);return i===r&&i===t?eu(n,e):ai(t,i,p|m)}}function di(e,t,n,i,a){e!==t&&Hn(t,function(o,s){if(a||(a=new _n),As(o))!function(e,t,n,i,a,o,s){var u=to(e,n),c=to(t,n),l=s.get(c);if(l)An(e,n,l);else{var f=o?o(u,c,n+"",e,t,s):r,p=f===r;if(p){var m=gs(c),h=!m&&ws(c),d=!m&&!h&&Fs(c);f=c,m||h||d?gs(u)?f=u:xs(u)?f=ra(u):h?(p=!1,f=Qi(c,!0)):d?(p=!1,f=Yi(c,!0)):f=[]:Ts(c)||vs(c)?(f=u,vs(u)?f=Vs(u):As(u)&&!Es(u)||(f=Ua(c))):p=!1}p&&(s.set(c,f),a(f,c,i,o,s),s.delete(c)),An(e,n,f)}}(e,t,s,n,di,i,a);else{var u=i?i(to(e,s),o,s+"",e,t,a):r;u===r&&(u=o),An(e,s,u)}},au)}function vi(e,t){var n=e.length;if(n)return Ha(t+=t<0?n:0,n)?e[t]:r}function gi(e,t,r){var n=-1;return t=Kt(t.length?t:[Pu],hr(ja())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(pi(e,function(e,r,i){return{criteria:Kt(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var u=Xi(i[n],a[n]);if(u){if(n>=s)return u;var c=r[n];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,r)})}function yi(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=Qn(e,o);r(s,o)&&Mi(a,Wi(o,e),s)}return a}function bi(e,t,r,n){var i=n?or:ar,a=-1,o=t.length,s=e;for(e===t&&(t=ra(t)),r&&(s=Kt(e,hr(r)));++a<o;)for(var u=0,c=t[a],l=r?r(c):c;(u=i(s,l,u,n))>-1;)s!==e&&Ft.call(s,u,1),Ft.call(e,u,1);return e}function xi(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;Ha(i)?Ft.call(e,i,1):$i(e,i)}}return e}function wi(e,t){return e+$r(Zr()*(t-e+1))}function _i(e,t){var r="";if(!e||t<1||t>k)return r;do{t%2&&(r+=e),(t=$r(t/2))&&(e+=e)}while(t);return r}function Ni(e,t){return io(Xa(e,t,Pu),e+"")}function Ei(e){return En(mu(e))}function Si(e,t){var r=mu(e);return so(r,In(t,0,r.length))}function Mi(e,t,n,i){if(!As(e))return e;for(var a=-1,o=(t=Wi(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var c=co(t[a]),l=n;if(a!=s){var f=u[c];(l=i?i(f,c,u):r)===r&&(l=As(f)?f:Ha(t[a+1])?[]:{})}On(u,c,l),u=u[c]}return e}var Ai=rn?function(e,t){return rn.set(e,t),e}:Pu,Oi=Rr?function(e,t){return Rr(e,"toString",{configurable:!0,enumerable:!1,value:Au(t),writable:!0})}:Pu;function Ci(e){return so(mu(e))}function Pi(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Qe(i);++n<i;)a[n]=e[n+t];return a}function Ti(e,t){var r;return zn(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function ki(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=D){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!js(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return Ri(e,t,Pu,r)}function Ri(e,t,n,i){t=n(t);for(var a=0,o=null==e?0:e.length,s=t!=t,u=null===t,c=js(t),l=t===r;a<o;){var f=$r((a+o)/2),p=n(e[f]),m=p!==r,h=null===p,d=p==p,v=js(p);if(s)var g=i||d;else g=l?d&&(i||m):u?d&&m&&(i||!h):c?d&&m&&!h&&(i||!v):!h&&!v&&(i?p<=t:p<t);g?a=f+1:o=f}return Hr(o,F)}function Ii(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!ms(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function ji(e){return"number"==typeof e?e:js(e)?I:+e}function Fi(e){if("string"==typeof e)return e;if(gs(e))return Kt(e,Fi)+"";if(js(e))return pn?pn.call(e):"";var t=e+"";return"0"==t&&1/e==-T?"-0":t}function Di(e,t,r){var i=-1,a=Jt,o=e.length,s=!0,u=[],c=u;if(r)s=!1,a=Qt;else if(o>=n){var l=t?null:_a(e);if(l)return Mr(l);s=!1,a=vr,c=new wn}else c=t?[]:u;e:for(;++i<o;){var f=e[i],p=t?t(f):f;if(f=r||0!==f?f:0,s&&p==p){for(var m=c.length;m--;)if(c[m]===p)continue e;t&&c.push(p),u.push(f)}else a(c,p,r)||(c!==u&&c.push(p),u.push(f))}return u}function $i(e,t){return null==(e=eo(e,t=Wi(t,e)))||delete e[co(No(t))]}function zi(e,t,r,n){return Mi(e,t,r(Qn(e,t)),n)}function Li(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?Pi(e,n?0:a,n?a+1:i):Pi(e,n?a+1:0,n?i:a)}function Bi(e,t){var r=e;return r instanceof gn&&(r=r.value()),Xt(t,function(e,t){return t.func.apply(t.thisArg,Yt([e],t.args))},r)}function qi(e,t,r){var n=e.length;if(n<2)return n?Di(e[0]):[];for(var i=-1,a=Qe(n);++i<n;)for(var o=e[i],s=-1;++s<n;)s!=i&&(a[i]=$n(a[i]||o,e[s],t,r));return Di(Vn(a,1),t,r)}function Ui(e,t,n){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var u=i<o?t[i]:r;n(s,e[i],u)}return s}function Vi(e){return xs(e)?e:[]}function Hi(e){return"function"==typeof e?e:Pu}function Wi(e,t){return gs(e)?e:Ga(e,t)?[e]:uo(Hs(e))}var Gi=Ni;function Zi(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:Pi(e,t,n)}var Ji=Ir||function(e){return Tt.clearTimeout(e)};function Qi(e,t){if(t)return e.slice();var r=e.length,n=Pt?Pt(r):new e.constructor(r);return e.copy(n),n}function Ki(e){var t=new e.constructor(e.byteLength);return new Ct(t).set(new Ct(e)),t}function Yi(e,t){var r=t?Ki(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Xi(e,t){if(e!==t){var n=e!==r,i=null===e,a=e==e,o=js(e),s=t!==r,u=null===t,c=t==t,l=js(t);if(!u&&!l&&!o&&e>t||o&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!a)return 1;if(!i&&!o&&!l&&e<t||l&&n&&a&&!i&&!o||u&&n&&a||!s&&a||!c)return-1}return 0}function ea(e,t,r,n){for(var i=-1,a=e.length,o=r.length,s=-1,u=t.length,c=Vr(a-o,0),l=Qe(u+c),f=!n;++s<u;)l[s]=t[s];for(;++i<o;)(f||i<a)&&(l[r[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function ta(e,t,r,n){for(var i=-1,a=e.length,o=-1,s=r.length,u=-1,c=t.length,l=Vr(a-s,0),f=Qe(l+c),p=!n;++i<l;)f[i]=e[i];for(var m=i;++u<c;)f[m+u]=t[u];for(;++o<s;)(p||i<a)&&(f[m+r[o]]=e[i++]);return f}function ra(e,t){var r=-1,n=e.length;for(t||(t=Qe(n));++r<n;)t[r]=e[r];return t}function na(e,t,n,i){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],c=i?i(n[u],e[u],u,n,e):r;c===r&&(c=e[u]),a?kn(n,u,c):On(n,u,c)}return n}function ia(e,t){return function(r,n){var i=gs(r)?Vt:Pn,a=t?t():{};return i(r,e,ja(n,2),a)}}function aa(e){return Ni(function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:r,s=a>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(a--,o):r,s&&Wa(n[0],n[1],s)&&(o=a<3?r:o,a=1),t=tt(t);++i<a;){var u=n[i];u&&e(t,u,i,o)}return t})}function oa(e,t){return function(r,n){if(null==r)return r;if(!bs(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=tt(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function sa(e){return function(t,r,n){for(var i=-1,a=tt(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}}function ua(e){return function(t){var n=_r(t=Hs(t))?Cr(t):r,i=n?n[0]:t.charAt(0),a=n?Zi(n,1).join(""):t.slice(1);return i[e]()+a}}function ca(e){return function(t){return Xt(Eu(vu(t).replace(vt,"")),e,"")}}function la(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=hn(e.prototype),n=e.apply(r,t);return As(n)?n:r}}function fa(e){return function(t,n,i){var a=tt(t);if(!bs(t)){var o=ja(n,3);t=iu(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,i);return s>-1?a[o?t[s]:s]:r}}function pa(e){return Ca(function(t){var n=t.length,i=n,o=vn.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new it(a);if(o&&!u&&"wrapper"==Ra(s))var u=new vn([],!0)}for(i=u?i:n;++i<n;){var c=Ra(s=t[i]),l="wrapper"==c?ka(s):r;u=l&&Za(l[0])&&l[1]==(_|y|x|N)&&!l[4].length&&1==l[9]?u[Ra(l[0])].apply(u,l[3]):1==s.length&&Za(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&gs(r))return u.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}})}function ma(e,t,n,i,a,o,s,u,c,l){var f=t&_,p=t&h,m=t&v,d=t&(y|b),g=t&E,x=m?r:la(e);return function h(){for(var v=arguments.length,y=Qe(v),b=v;b--;)y[b]=arguments[b];if(d)var w=Ia(h),_=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(y,w);if(i&&(y=ea(y,i,a,d)),o&&(y=ta(y,o,s,d)),v-=_,d&&v<l){var N=Sr(y,w);return xa(e,t,ma,h.placeholder,n,y,N,u,c,l-v)}var E=p?n:this,S=m?E[e]:e;return v=y.length,u?y=function(e,t){for(var n=e.length,i=Hr(t.length,n),a=ra(e);i--;){var o=t[i];e[i]=Ha(o,n)?a[o]:r}return e}(y,u):g&&v>1&&y.reverse(),f&&c<v&&(y.length=c),this&&this!==Tt&&this instanceof h&&(S=x||la(S)),S.apply(E,y)}}function ha(e,t){return function(r,n){return function(e,t,r,n){return Gn(e,function(e,i,a){t(n,r(e),i,a)}),n}(r,e,t(n),{})}}function da(e,t){return function(n,i){var a;if(n===r&&i===r)return t;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=Fi(n),i=Fi(i)):(n=ji(n),i=ji(i)),a=e(n,i)}return a}}function va(e){return Ca(function(t){return t=Kt(t,hr(ja())),Ni(function(r){var n=this;return e(t,function(e){return Ut(e,n,r)})})})}function ga(e,t){var n=(t=t===r?" ":Fi(t)).length;if(n<2)return n?_i(t,e):t;var i=_i(t,Dr(e/Or(t)));return _r(t)?Zi(Cr(i),0,e).join(""):i.slice(0,e)}function ya(e){return function(t,n,i){return i&&"number"!=typeof i&&Wa(t,n,i)&&(n=i=r),t=Ls(t),n===r?(n=t,t=0):n=Ls(n),function(e,t,r,n){for(var i=-1,a=Vr(Dr((t-e)/(r||1)),0),o=Qe(a);a--;)o[n?a:++i]=e,e+=r;return o}(t,n,i=i===r?t<n?1:-1:Ls(i),e)}}function ba(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Us(t),r=Us(r)),e(t,r)}}function xa(e,t,n,i,a,o,s,u,c,l){var f=t&y;t|=f?x:w,(t&=~(f?w:x))&g||(t&=~(h|v));var p=[e,t,a,f?o:r,f?s:r,f?r:o,f?r:s,u,c,l],m=n.apply(r,p);return Za(e)&&ro(m,p),m.placeholder=i,ao(m,e,t)}function wa(e){var t=et[e];return function(e,r){if(e=Us(e),(r=null==r?0:Hr(Bs(r),292))&&Br(e)){var n=(Hs(e)+"e").split("e");return+((n=(Hs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var _a=Xr&&1/Mr(new Xr([,-0]))[1]==T?function(e){return new Xr(e)}:ju;function Na(e){return function(t){var r=Ba(t);return r==Z?Nr(t):r==ee?Ar(t):function(e,t){return Kt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Ea(e,t,n,i,o,s,c,l){var f=t&v;if(!f&&"function"!=typeof e)throw new it(a);var p=i?i.length:0;if(p||(t&=~(x|w),i=o=r),c=c===r?c:Vr(Bs(c),0),l=l===r?l:Bs(l),p-=o?o.length:0,t&w){var m=i,d=o;i=o=r}var E=f?r:ka(e),S=[e,t,n,i,o,m,d,s,c,l];if(E&&function(e,t){var r=e[1],n=t[1],i=r|n,a=i<(h|v|_),o=n==_&&r==y||n==_&&r==N&&e[7].length<=t[8]||n==(_|N)&&t[7].length<=t[8]&&r==y;if(!a&&!o)return e;n&h&&(e[2]=t[2],i|=r&h?0:g);var s=t[3];if(s){var c=e[3];e[3]=c?ea(c,s,t[4]):s,e[4]=c?Sr(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?ta(c,s,t[6]):s,e[6]=c?Sr(e[5],u):t[6]),(s=t[7])&&(e[7]=s),n&_&&(e[8]=null==e[8]?t[8]:Hr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(S,E),e=S[0],t=S[1],n=S[2],i=S[3],o=S[4],!(l=S[9]=S[9]===r?f?0:e.length:Vr(S[9]-p,0))&&t&(y|b)&&(t&=~(y|b)),t&&t!=h)M=t==y||t==b?function(e,t,n){var i=la(e);return function a(){for(var o=arguments.length,s=Qe(o),u=o,c=Ia(a);u--;)s[u]=arguments[u];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:Sr(s,c);return(o-=l.length)<n?xa(e,t,ma,a.placeholder,r,s,l,r,r,n-o):Ut(this&&this!==Tt&&this instanceof a?i:e,this,s)}}(e,t,l):t!=x&&t!=(h|x)||o.length?ma.apply(r,S):function(e,t,r,n){var i=t&h,a=la(e);return function t(){for(var o=-1,s=arguments.length,u=-1,c=n.length,l=Qe(c+s),f=this&&this!==Tt&&this instanceof t?a:e;++u<c;)l[u]=n[u];for(;s--;)l[u++]=arguments[++o];return Ut(f,i?r:this,l)}}(e,t,n,i);else var M=function(e,t,r){var n=t&h,i=la(e);return function t(){return(this&&this!==Tt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,n);return ao((E?Ai:ro)(M,S),e,t)}function Sa(e,t,n,i){return e===r||ms(e,st[n])&&!lt.call(i,n)?t:e}function Ma(e,t,n,i,a,o){return As(e)&&As(t)&&(o.set(t,e),di(e,t,r,Ma,o),o.delete(t)),e}function Aa(e){return Ts(e)?r:e}function Oa(e,t,n,i,a,o){var s=n&p,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=o.get(e);if(l&&o.get(t))return l==t;var f=-1,h=!0,d=n&m?new wn:r;for(o.set(e,t),o.set(t,e);++f<u;){var v=e[f],g=t[f];if(i)var y=s?i(g,v,f,t,e,o):i(v,g,f,e,t,o);if(y!==r){if(y)continue;h=!1;break}if(d){if(!tr(t,function(e,t){if(!vr(d,t)&&(v===e||a(v,e,n,i,o)))return d.push(t)})){h=!1;break}}else if(v!==g&&!a(v,g,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Ca(e){return io(Xa(e,r,yo),e+"")}function Pa(e){return Kn(e,iu,za)}function Ta(e){return Kn(e,au,La)}var ka=rn?function(e){return rn.get(e)}:ju;function Ra(e){for(var t=e.name+"",r=nn[t],n=lt.call(nn,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function Ia(e){return(lt.call(mn,"placeholder")?mn:e).placeholder}function ja(){var e=mn.iteratee||Tu;return e=e===Tu?ui:e,arguments.length?e(arguments[0],arguments[1]):e}function Fa(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Da(e){for(var t=iu(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ka(i)]}return t}function $a(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return si(n)?n:r}var za=zr?function(e){return null==e?[]:(e=tt(e),Zt(zr(e),function(t){return jt.call(e,t)}))}:qu,La=zr?function(e){for(var t=[];e;)Yt(t,za(e)),e=kt(e);return t}:qu,Ba=Yn;function qa(e,t,r){for(var n=-1,i=(t=Wi(t,e)).length,a=!1;++n<i;){var o=co(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&Ms(i)&&Ha(o,i)&&(gs(e)||vs(e))}function Ua(e){return"function"!=typeof e.constructor||Qa(e)?{}:hn(kt(e))}function Va(e){return gs(e)||vs(e)||!!(rr&&e&&e[rr])}function Ha(e,t){var r=typeof e;return!!(t=null==t?k:t)&&("number"==r||"symbol"!=r&&We.test(e))&&e>-1&&e%1==0&&e<t}function Wa(e,t,r){if(!As(r))return!1;var n=typeof t;return!!("number"==n?bs(r)&&Ha(t,r.length):"string"==n&&t in r)&&ms(r[t],e)}function Ga(e,t){if(gs(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!js(e))||Oe.test(e)||!Ae.test(e)||null!=t&&e in tt(t)}function Za(e){var t=Ra(e),r=mn[t];if("function"!=typeof r||!(t in gn.prototype))return!1;if(e===r)return!0;var n=ka(r);return!!n&&e===n[0]}(Qr&&Ba(new Qr(new ArrayBuffer(1)))!=se||Kr&&Ba(new Kr)!=Z||Yr&&"[object Promise]"!=Ba(Yr.resolve())||Xr&&Ba(new Xr)!=ee||en&&Ba(new en)!=ie)&&(Ba=function(e){var t=Yn(e),n=t==K?e.constructor:r,i=n?lo(n):"";if(i)switch(i){case an:return se;case on:return Z;case sn:return"[object Promise]";case un:return ee;case cn:return ie}return t});var Ja=ut?Es:Uu;function Qa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||st)}function Ka(e){return e==e&&!As(e)}function Ya(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in tt(n))}}function Xa(e,t,n){return t=Vr(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=Vr(r.length-t,0),o=Qe(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Qe(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),Ut(e,this,s)}}function eo(e,t){return t.length<2?e:Qn(e,Pi(t,0,-1))}function to(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ro=oo(Ai),no=Fr||function(e,t){return Tt.setTimeout(e,t)},io=oo(Oi);function ao(e,t,r){var n=t+"";return io(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(je,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Ht($,function(r){var n="_."+r[0];t&r[1]&&!Jt(e,n)&&e.push(n)}),e.sort()}(function(e){var t=e.match(Fe);return t?t[1].split(De):[]}(n),r)))}function oo(e){var t=0,n=0;return function(){var i=Wr(),a=O-(i-n);if(n=i,a>0){if(++t>=A)return arguments[0]}else t=0;return e.apply(r,arguments)}}function so(e,t){var n=-1,i=e.length,a=i-1;for(t=t===r?i:t;++n<t;){var o=wi(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var uo=function(e){var t=ss(e,function(e){return r.size===s&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ce,function(e,r,n,i){t.push(n?i.replace(ze,"$1"):r||e)}),t});function co(e){if("string"==typeof e||js(e))return e;var t=e+"";return"0"==t&&1/e==-T?"-0":t}function lo(e){if(null!=e){try{return ct.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function fo(e){if(e instanceof gn)return e.clone();var t=new vn(e.__wrapped__,e.__chain__);return t.__actions__=ra(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var po=Ni(function(e,t){return xs(e)?$n(e,Vn(t,1,xs,!0)):[]}),mo=Ni(function(e,t){var n=No(t);return xs(n)&&(n=r),xs(e)?$n(e,Vn(t,1,xs,!0),ja(n,2)):[]}),ho=Ni(function(e,t){var n=No(t);return xs(n)&&(n=r),xs(e)?$n(e,Vn(t,1,xs,!0),r,n):[]});function vo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Bs(r);return i<0&&(i=Vr(n+i,0)),ir(e,ja(t,3),i)}function go(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return n!==r&&(a=Bs(n),a=n<0?Vr(i+a,0):Hr(a,i-1)),ir(e,ja(t,3),a,!0)}function yo(e){return null!=e&&e.length?Vn(e,1):[]}function bo(e){return e&&e.length?e[0]:r}var xo=Ni(function(e){var t=Kt(e,Vi);return t.length&&t[0]===e[0]?ri(t):[]}),wo=Ni(function(e){var t=No(e),n=Kt(e,Vi);return t===No(n)?t=r:n.pop(),n.length&&n[0]===e[0]?ri(n,ja(t,2)):[]}),_o=Ni(function(e){var t=No(e),n=Kt(e,Vi);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?ri(n,r,t):[]});function No(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Eo=Ni(So);function So(e,t){return e&&e.length&&t&&t.length?bi(e,t):e}var Mo=Ca(function(e,t){var r=null==e?0:e.length,n=Rn(e,t);return xi(e,Kt(t,function(e){return Ha(e,r)?+e:e}).sort(Xi)),n});function Ao(e){return null==e?e:Jr.call(e)}var Oo=Ni(function(e){return Di(Vn(e,1,xs,!0))}),Co=Ni(function(e){var t=No(e);return xs(t)&&(t=r),Di(Vn(e,1,xs,!0),ja(t,2))}),Po=Ni(function(e){var t=No(e);return t="function"==typeof t?t:r,Di(Vn(e,1,xs,!0),r,t)});function To(e){if(!e||!e.length)return[];var t=0;return e=Zt(e,function(e){if(xs(e))return t=Vr(e.length,t),!0}),mr(t,function(t){return Kt(e,cr(t))})}function ko(e,t){if(!e||!e.length)return[];var n=To(e);return null==t?n:Kt(n,function(e){return Ut(t,r,e)})}var Ro=Ni(function(e,t){return xs(e)?$n(e,t):[]}),Io=Ni(function(e){return qi(Zt(e,xs))}),jo=Ni(function(e){var t=No(e);return xs(t)&&(t=r),qi(Zt(e,xs),ja(t,2))}),Fo=Ni(function(e){var t=No(e);return t="function"==typeof t?t:r,qi(Zt(e,xs),r,t)}),Do=Ni(To);var $o=Ni(function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,ko(e,n)});function zo(e){var t=mn(e);return t.__chain__=!0,t}function Lo(e,t){return t(e)}var Bo=Ca(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return Rn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof gn&&Ha(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:Lo,args:[a],thisArg:r}),new vn(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(r),e})):this.thru(a)});var qo=ia(function(e,t,r){lt.call(e,r)?++e[r]:kn(e,r,1)});var Uo=fa(vo),Vo=fa(go);function Ho(e,t){return(gs(e)?Ht:zn)(e,ja(t,3))}function Wo(e,t){return(gs(e)?Wt:Ln)(e,ja(t,3))}var Go=ia(function(e,t,r){lt.call(e,r)?e[r].push(t):kn(e,r,[t])});var Zo=Ni(function(e,t,r){var n=-1,i="function"==typeof t,a=bs(e)?Qe(e.length):[];return zn(e,function(e){a[++n]=i?Ut(t,e,r):ni(e,t,r)}),a}),Jo=ia(function(e,t,r){kn(e,r,t)});function Qo(e,t){return(gs(e)?Kt:pi)(e,ja(t,3))}var Ko=ia(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});var Yo=Ni(function(e,t){if(null==e)return[];var r=t.length;return r>1&&Wa(e,t[0],t[1])?t=[]:r>2&&Wa(t[0],t[1],t[2])&&(t=[t[0]]),gi(e,Vn(t,1),[])}),Xo=jr||function(){return Tt.Date.now()};function es(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Ea(e,_,r,r,r,r,t)}function ts(e,t){var n;if("function"!=typeof t)throw new it(a);return e=Bs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var rs=Ni(function(e,t,r){var n=h;if(r.length){var i=Sr(r,Ia(rs));n|=x}return Ea(e,n,t,r,i)}),ns=Ni(function(e,t,r){var n=h|v;if(r.length){var i=Sr(r,Ia(ns));n|=x}return Ea(t,n,e,r,i)});function is(e,t,n){var i,o,s,u,c,l,f=0,p=!1,m=!1,h=!0;if("function"!=typeof e)throw new it(a);function d(t){var n=i,a=o;return i=o=r,f=t,u=e.apply(a,n)}function v(e){var n=e-l;return l===r||n>=t||n<0||m&&e-f>=s}function g(){var e=Xo();if(v(e))return y(e);c=no(g,function(e){var r=t-(e-l);return m?Hr(r,s-(e-f)):r}(e))}function y(e){return c=r,h&&i?d(e):(i=o=r,u)}function b(){var e=Xo(),n=v(e);if(i=arguments,o=this,l=e,n){if(c===r)return function(e){return f=e,c=no(g,t),p?d(e):u}(l);if(m)return Ji(c),c=no(g,t),d(l)}return c===r&&(c=no(g,t)),u}return t=Us(t)||0,As(n)&&(p=!!n.leading,s=(m="maxWait"in n)?Vr(Us(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),b.cancel=function(){c!==r&&Ji(c),f=0,i=l=o=c=r},b.flush=function(){return c===r?u:y(Xo())},b}var as=Ni(function(e,t){return Dn(e,1,t)}),os=Ni(function(e,t,r){return Dn(e,Us(t)||0,r)});function ss(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(a);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(ss.Cache||xn),r}function us(e){if("function"!=typeof e)throw new it(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ss.Cache=xn;var cs=Gi(function(e,t){var r=(t=1==t.length&&gs(t[0])?Kt(t[0],hr(ja())):Kt(Vn(t,1),hr(ja()))).length;return Ni(function(n){for(var i=-1,a=Hr(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return Ut(e,this,n)})}),ls=Ni(function(e,t){var n=Sr(t,Ia(ls));return Ea(e,x,r,t,n)}),fs=Ni(function(e,t){var n=Sr(t,Ia(fs));return Ea(e,w,r,t,n)}),ps=Ca(function(e,t){return Ea(e,N,r,r,r,t)});function ms(e,t){return e===t||e!=e&&t!=t}var hs=ba(Xn),ds=ba(function(e,t){return e>=t}),vs=ii(function(){return arguments}())?ii:function(e){return Os(e)&&lt.call(e,"callee")&&!jt.call(e,"callee")},gs=Qe.isArray,ys=Dt?hr(Dt):function(e){return Os(e)&&Yn(e)==oe};function bs(e){return null!=e&&Ms(e.length)&&!Es(e)}function xs(e){return Os(e)&&bs(e)}var ws=Lr||Uu,_s=$t?hr($t):function(e){return Os(e)&&Yn(e)==U};function Ns(e){if(!Os(e))return!1;var t=Yn(e);return t==H||t==V||"string"==typeof e.message&&"string"==typeof e.name&&!Ts(e)}function Es(e){if(!As(e))return!1;var t=Yn(e);return t==W||t==G||t==B||t==Y}function Ss(e){return"number"==typeof e&&e==Bs(e)}function Ms(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=k}function As(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Os(e){return null!=e&&"object"==typeof e}var Cs=zt?hr(zt):function(e){return Os(e)&&Ba(e)==Z};function Ps(e){return"number"==typeof e||Os(e)&&Yn(e)==J}function Ts(e){if(!Os(e)||Yn(e)!=K)return!1;var t=kt(e);if(null===t)return!0;var r=lt.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ct.call(r)==ht}var ks=Lt?hr(Lt):function(e){return Os(e)&&Yn(e)==X};var Rs=Bt?hr(Bt):function(e){return Os(e)&&Ba(e)==ee};function Is(e){return"string"==typeof e||!gs(e)&&Os(e)&&Yn(e)==te}function js(e){return"symbol"==typeof e||Os(e)&&Yn(e)==re}var Fs=qt?hr(qt):function(e){return Os(e)&&Ms(e.length)&&!!Et[Yn(e)]};var Ds=ba(fi),$s=ba(function(e,t){return e<=t});function zs(e){if(!e)return[];if(bs(e))return Is(e)?Cr(e):ra(e);if(lr&&e[lr])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[lr]());var t=Ba(e);return(t==Z?Nr:t==ee?Mr:mu)(e)}function Ls(e){return e?(e=Us(e))===T||e===-T?(e<0?-1:1)*R:e==e?e:0:0===e?e:0}function Bs(e){var t=Ls(e),r=t%1;return t==t?r?t-r:t:0}function qs(e){return e?In(Bs(e),0,j):0}function Us(e){if("number"==typeof e)return e;if(js(e))return I;if(As(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=As(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ke,"");var r=Ue.test(e);return r||He.test(e)?Ot(e.slice(2),r?2:8):qe.test(e)?I:+e}function Vs(e){return na(e,au(e))}function Hs(e){return null==e?"":Fi(e)}var Ws=aa(function(e,t){if(Qa(t)||bs(t))na(t,iu(t),e);else for(var r in t)lt.call(t,r)&&On(e,r,t[r])}),Gs=aa(function(e,t){na(t,au(t),e)}),Zs=aa(function(e,t,r,n){na(t,au(t),e,n)}),Js=aa(function(e,t,r,n){na(t,iu(t),e,n)}),Qs=Ca(Rn);var Ks=Ni(function(e,t){e=tt(e);var n=-1,i=t.length,a=i>2?t[2]:r;for(a&&Wa(t[0],t[1],a)&&(i=1);++n<i;)for(var o=t[n],s=au(o),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===r||ms(f,st[l])&&!lt.call(e,l))&&(e[l]=o[l])}return e}),Ys=Ni(function(e){return e.push(r,Ma),Ut(su,r,e)});function Xs(e,t,n){var i=null==e?r:Qn(e,t);return i===r?n:i}function eu(e,t){return null!=e&&qa(e,t,ti)}var tu=ha(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=mt.call(t)),e[t]=r},Au(Pu)),ru=ha(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=mt.call(t)),lt.call(e,t)?e[t].push(r):e[t]=[r]},ja),nu=Ni(ni);function iu(e){return bs(e)?Nn(e):ci(e)}function au(e){return bs(e)?Nn(e,!0):li(e)}var ou=aa(function(e,t,r){di(e,t,r)}),su=aa(function(e,t,r,n){di(e,t,r,n)}),uu=Ca(function(e,t){var r={};if(null==e)return r;var n=!1;t=Kt(t,function(t){return t=Wi(t,e),n||(n=t.length>1),t}),na(e,Ta(e),r),n&&(r=jn(r,c|l|f,Aa));for(var i=t.length;i--;)$i(r,t[i]);return r});var cu=Ca(function(e,t){return null==e?{}:function(e,t){return yi(e,t,function(t,r){return eu(e,r)})}(e,t)});function lu(e,t){if(null==e)return{};var r=Kt(Ta(e),function(e){return[e]});return t=ja(t),yi(e,r,function(e,r){return t(e,r[0])})}var fu=Na(iu),pu=Na(au);function mu(e){return null==e?[]:dr(e,iu(e))}var hu=ca(function(e,t,r){return t=t.toLowerCase(),e+(r?du(t):t)});function du(e){return Nu(Hs(e).toLowerCase())}function vu(e){return(e=Hs(e))&&e.replace(Ge,br).replace(gt,"")}var gu=ca(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),yu=ca(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),bu=ua("toLowerCase");var xu=ca(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});var wu=ca(function(e,t,r){return e+(r?" ":"")+Nu(t)});var _u=ca(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Nu=ua("toUpperCase");function Eu(e,t,n){return e=Hs(e),(t=n?r:t)===r?function(e){return wt.test(e)}(e)?function(e){return e.match(bt)||[]}(e):function(e){return e.match($e)||[]}(e):e.match(t)||[]}var Su=Ni(function(e,t){try{return Ut(e,r,t)}catch(e){return Ns(e)?e:new Ye(e)}}),Mu=Ca(function(e,t){return Ht(t,function(t){t=co(t),kn(e,t,rs(e[t],e))}),e});function Au(e){return function(){return e}}var Ou=pa(),Cu=pa(!0);function Pu(e){return e}function Tu(e){return ui("function"==typeof e?e:jn(e,c))}var ku=Ni(function(e,t){return function(r){return ni(r,e,t)}}),Ru=Ni(function(e,t){return function(r){return ni(e,r,t)}});function Iu(e,t,r){var n=iu(t),i=Jn(t,n);null!=r||As(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Jn(t,iu(t)));var a=!(As(r)&&"chain"in r&&!r.chain),o=Es(e);return Ht(i,function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__);return(r.__actions__=ra(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Yt([this.value()],arguments))})}),e}function ju(){}var Fu=va(Kt),Du=va(Gt),$u=va(tr);function zu(e){return Ga(e)?cr(co(e)):function(e){return function(t){return Qn(t,e)}}(e)}var Lu=ya(),Bu=ya(!0);function qu(){return[]}function Uu(){return!1}var Vu=da(function(e,t){return e+t},0),Hu=wa("ceil"),Wu=da(function(e,t){return e/t},1),Gu=wa("floor");var Zu,Ju=da(function(e,t){return e*t},1),Qu=wa("round"),Ku=da(function(e,t){return e-t},0);return mn.after=function(e,t){if("function"!=typeof t)throw new it(a);return e=Bs(e),function(){if(--e<1)return t.apply(this,arguments)}},mn.ary=es,mn.assign=Ws,mn.assignIn=Gs,mn.assignInWith=Zs,mn.assignWith=Js,mn.at=Qs,mn.before=ts,mn.bind=rs,mn.bindAll=Mu,mn.bindKey=ns,mn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return gs(e)?e:[e]},mn.chain=zo,mn.chunk=function(e,t,n){t=(n?Wa(e,t,n):t===r)?1:Vr(Bs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=Qe(Dr(i/t));a<i;)s[o++]=Pi(e,a,a+=t);return s},mn.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},mn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Qe(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Yt(gs(r)?ra(r):[r],Vn(t,1))},mn.cond=function(e){var t=null==e?0:e.length,r=ja();return e=t?Kt(e,function(e){if("function"!=typeof e[1])throw new it(a);return[r(e[0]),e[1]]}):[],Ni(function(r){for(var n=-1;++n<t;){var i=e[n];if(Ut(i[0],this,r))return Ut(i[1],this,r)}})},mn.conforms=function(e){return function(e){var t=iu(e);return function(r){return Fn(r,e,t)}}(jn(e,c))},mn.constant=Au,mn.countBy=qo,mn.create=function(e,t){var r=hn(e);return null==t?r:Tn(r,t)},mn.curry=function e(t,n,i){var a=Ea(t,y,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},mn.curryRight=function e(t,n,i){var a=Ea(t,b,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},mn.debounce=is,mn.defaults=Ks,mn.defaultsDeep=Ys,mn.defer=as,mn.delay=os,mn.difference=po,mn.differenceBy=mo,mn.differenceWith=ho,mn.drop=function(e,t,n){var i=null==e?0:e.length;return i?Pi(e,(t=n||t===r?1:Bs(t))<0?0:t,i):[]},mn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Pi(e,0,(t=i-(t=n||t===r?1:Bs(t)))<0?0:t):[]},mn.dropRightWhile=function(e,t){return e&&e.length?Li(e,ja(t,3),!0,!0):[]},mn.dropWhile=function(e,t){return e&&e.length?Li(e,ja(t,3),!0):[]},mn.fill=function(e,t,n,i){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&Wa(e,t,n)&&(n=0,i=a),function(e,t,n,i){var a=e.length;for((n=Bs(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:Bs(i))<0&&(i+=a),i=n>i?0:qs(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},mn.filter=function(e,t){return(gs(e)?Zt:Un)(e,ja(t,3))},mn.flatMap=function(e,t){return Vn(Qo(e,t),1)},mn.flatMapDeep=function(e,t){return Vn(Qo(e,t),T)},mn.flatMapDepth=function(e,t,n){return n=n===r?1:Bs(n),Vn(Qo(e,t),n)},mn.flatten=yo,mn.flattenDeep=function(e){return null!=e&&e.length?Vn(e,T):[]},mn.flattenDepth=function(e,t){return null!=e&&e.length?Vn(e,t=t===r?1:Bs(t)):[]},mn.flip=function(e){return Ea(e,E)},mn.flow=Ou,mn.flowRight=Cu,mn.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},mn.functions=function(e){return null==e?[]:Jn(e,iu(e))},mn.functionsIn=function(e){return null==e?[]:Jn(e,au(e))},mn.groupBy=Go,mn.initial=function(e){return null!=e&&e.length?Pi(e,0,-1):[]},mn.intersection=xo,mn.intersectionBy=wo,mn.intersectionWith=_o,mn.invert=tu,mn.invertBy=ru,mn.invokeMap=Zo,mn.iteratee=Tu,mn.keyBy=Jo,mn.keys=iu,mn.keysIn=au,mn.map=Qo,mn.mapKeys=function(e,t){var r={};return t=ja(t,3),Gn(e,function(e,n,i){kn(r,t(e,n,i),e)}),r},mn.mapValues=function(e,t){var r={};return t=ja(t,3),Gn(e,function(e,n,i){kn(r,n,t(e,n,i))}),r},mn.matches=function(e){return mi(jn(e,c))},mn.matchesProperty=function(e,t){return hi(e,jn(t,c))},mn.memoize=ss,mn.merge=ou,mn.mergeWith=su,mn.method=ku,mn.methodOf=Ru,mn.mixin=Iu,mn.negate=us,mn.nthArg=function(e){return e=Bs(e),Ni(function(t){return vi(t,e)})},mn.omit=uu,mn.omitBy=function(e,t){return lu(e,us(ja(t)))},mn.once=function(e){return ts(2,e)},mn.orderBy=function(e,t,n,i){return null==e?[]:(gs(t)||(t=null==t?[]:[t]),gs(n=i?r:n)||(n=null==n?[]:[n]),gi(e,t,n))},mn.over=Fu,mn.overArgs=cs,mn.overEvery=Du,mn.overSome=$u,mn.partial=ls,mn.partialRight=fs,mn.partition=Ko,mn.pick=cu,mn.pickBy=lu,mn.property=zu,mn.propertyOf=function(e){return function(t){return null==e?r:Qn(e,t)}},mn.pull=Eo,mn.pullAll=So,mn.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?bi(e,t,ja(r,2)):e},mn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?bi(e,t,r,n):e},mn.pullAt=Mo,mn.range=Lu,mn.rangeRight=Bu,mn.rearg=ps,mn.reject=function(e,t){return(gs(e)?Zt:Un)(e,us(ja(t,3)))},mn.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=ja(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return xi(e,i),r},mn.rest=function(e,t){if("function"!=typeof e)throw new it(a);return Ni(e,t=t===r?t:Bs(t))},mn.reverse=Ao,mn.sampleSize=function(e,t,n){return t=(n?Wa(e,t,n):t===r)?1:Bs(t),(gs(e)?Sn:Si)(e,t)},mn.set=function(e,t,r){return null==e?e:Mi(e,t,r)},mn.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:Mi(e,t,n,i)},mn.shuffle=function(e){return(gs(e)?Mn:Ci)(e)},mn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Wa(e,t,n)?(t=0,n=i):(t=null==t?0:Bs(t),n=n===r?i:Bs(n)),Pi(e,t,n)):[]},mn.sortBy=Yo,mn.sortedUniq=function(e){return e&&e.length?Ii(e):[]},mn.sortedUniqBy=function(e,t){return e&&e.length?Ii(e,ja(t,2)):[]},mn.split=function(e,t,n){return n&&"number"!=typeof n&&Wa(e,t,n)&&(t=n=r),(n=n===r?j:n>>>0)?(e=Hs(e))&&("string"==typeof t||null!=t&&!ks(t))&&!(t=Fi(t))&&_r(e)?Zi(Cr(e),0,n):e.split(t,n):[]},mn.spread=function(e,t){if("function"!=typeof e)throw new it(a);return t=null==t?0:Vr(Bs(t),0),Ni(function(r){var n=r[t],i=Zi(r,0,t);return n&&Yt(i,n),Ut(e,this,i)})},mn.tail=function(e){var t=null==e?0:e.length;return t?Pi(e,1,t):[]},mn.take=function(e,t,n){return e&&e.length?Pi(e,0,(t=n||t===r?1:Bs(t))<0?0:t):[]},mn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Pi(e,(t=i-(t=n||t===r?1:Bs(t)))<0?0:t,i):[]},mn.takeRightWhile=function(e,t){return e&&e.length?Li(e,ja(t,3),!1,!0):[]},mn.takeWhile=function(e,t){return e&&e.length?Li(e,ja(t,3)):[]},mn.tap=function(e,t){return t(e),e},mn.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new it(a);return As(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),is(e,t,{leading:n,maxWait:t,trailing:i})},mn.thru=Lo,mn.toArray=zs,mn.toPairs=fu,mn.toPairsIn=pu,mn.toPath=function(e){return gs(e)?Kt(e,co):js(e)?[e]:ra(uo(Hs(e)))},mn.toPlainObject=Vs,mn.transform=function(e,t,r){var n=gs(e),i=n||ws(e)||Fs(e);if(t=ja(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:As(e)&&Es(a)?hn(kt(e)):{}}return(i?Ht:Gn)(e,function(e,n,i){return t(r,e,n,i)}),r},mn.unary=function(e){return es(e,1)},mn.union=Oo,mn.unionBy=Co,mn.unionWith=Po,mn.uniq=function(e){return e&&e.length?Di(e):[]},mn.uniqBy=function(e,t){return e&&e.length?Di(e,ja(t,2)):[]},mn.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?Di(e,r,t):[]},mn.unset=function(e,t){return null==e||$i(e,t)},mn.unzip=To,mn.unzipWith=ko,mn.update=function(e,t,r){return null==e?e:zi(e,t,Hi(r))},mn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:zi(e,t,Hi(n),i)},mn.values=mu,mn.valuesIn=function(e){return null==e?[]:dr(e,au(e))},mn.without=Ro,mn.words=Eu,mn.wrap=function(e,t){return ls(Hi(t),e)},mn.xor=Io,mn.xorBy=jo,mn.xorWith=Fo,mn.zip=Do,mn.zipObject=function(e,t){return Ui(e||[],t||[],On)},mn.zipObjectDeep=function(e,t){return Ui(e||[],t||[],Mi)},mn.zipWith=$o,mn.entries=fu,mn.entriesIn=pu,mn.extend=Gs,mn.extendWith=Zs,Iu(mn,mn),mn.add=Vu,mn.attempt=Su,mn.camelCase=hu,mn.capitalize=du,mn.ceil=Hu,mn.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=Us(n))==n?n:0),t!==r&&(t=(t=Us(t))==t?t:0),In(Us(e),t,n)},mn.clone=function(e){return jn(e,f)},mn.cloneDeep=function(e){return jn(e,c|f)},mn.cloneDeepWith=function(e,t){return jn(e,c|f,t="function"==typeof t?t:r)},mn.cloneWith=function(e,t){return jn(e,f,t="function"==typeof t?t:r)},mn.conformsTo=function(e,t){return null==t||Fn(e,t,iu(t))},mn.deburr=vu,mn.defaultTo=function(e,t){return null==e||e!=e?t:e},mn.divide=Wu,mn.endsWith=function(e,t,n){e=Hs(e),t=Fi(t);var i=e.length,a=n=n===r?i:In(Bs(n),0,i);return(n-=t.length)>=0&&e.slice(n,a)==t},mn.eq=ms,mn.escape=function(e){return(e=Hs(e))&&Ne.test(e)?e.replace(we,xr):e},mn.escapeRegExp=function(e){return(e=Hs(e))&&Te.test(e)?e.replace(Pe,"\\$&"):e},mn.every=function(e,t,n){var i=gs(e)?Gt:Bn;return n&&Wa(e,t,n)&&(t=r),i(e,ja(t,3))},mn.find=Uo,mn.findIndex=vo,mn.findKey=function(e,t){return nr(e,ja(t,3),Gn)},mn.findLast=Vo,mn.findLastIndex=go,mn.findLastKey=function(e,t){return nr(e,ja(t,3),Zn)},mn.floor=Gu,mn.forEach=Ho,mn.forEachRight=Wo,mn.forIn=function(e,t){return null==e?e:Hn(e,ja(t,3),au)},mn.forInRight=function(e,t){return null==e?e:Wn(e,ja(t,3),au)},mn.forOwn=function(e,t){return e&&Gn(e,ja(t,3))},mn.forOwnRight=function(e,t){return e&&Zn(e,ja(t,3))},mn.get=Xs,mn.gt=hs,mn.gte=ds,mn.has=function(e,t){return null!=e&&qa(e,t,ei)},mn.hasIn=eu,mn.head=bo,mn.identity=Pu,mn.includes=function(e,t,r,n){e=bs(e)?e:mu(e),r=r&&!n?Bs(r):0;var i=e.length;return r<0&&(r=Vr(i+r,0)),Is(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&ar(e,t,r)>-1},mn.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Bs(r);return i<0&&(i=Vr(n+i,0)),ar(e,t,i)},mn.inRange=function(e,t,n){return t=Ls(t),n===r?(n=t,t=0):n=Ls(n),function(e,t,r){return e>=Hr(t,r)&&e<Vr(t,r)}(e=Us(e),t,n)},mn.invoke=nu,mn.isArguments=vs,mn.isArray=gs,mn.isArrayBuffer=ys,mn.isArrayLike=bs,mn.isArrayLikeObject=xs,mn.isBoolean=function(e){return!0===e||!1===e||Os(e)&&Yn(e)==q},mn.isBuffer=ws,mn.isDate=_s,mn.isElement=function(e){return Os(e)&&1===e.nodeType&&!Ts(e)},mn.isEmpty=function(e){if(null==e)return!0;if(bs(e)&&(gs(e)||"string"==typeof e||"function"==typeof e.splice||ws(e)||Fs(e)||vs(e)))return!e.length;var t=Ba(e);if(t==Z||t==ee)return!e.size;if(Qa(e))return!ci(e).length;for(var r in e)if(lt.call(e,r))return!1;return!0},mn.isEqual=function(e,t){return ai(e,t)},mn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?ai(e,t,r,n):!!i},mn.isError=Ns,mn.isFinite=function(e){return"number"==typeof e&&Br(e)},mn.isFunction=Es,mn.isInteger=Ss,mn.isLength=Ms,mn.isMap=Cs,mn.isMatch=function(e,t){return e===t||oi(e,t,Da(t))},mn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,oi(e,t,Da(t),n)},mn.isNaN=function(e){return Ps(e)&&e!=+e},mn.isNative=function(e){if(Ja(e))throw new Ye(i);return si(e)},mn.isNil=function(e){return null==e},mn.isNull=function(e){return null===e},mn.isNumber=Ps,mn.isObject=As,mn.isObjectLike=Os,mn.isPlainObject=Ts,mn.isRegExp=ks,mn.isSafeInteger=function(e){return Ss(e)&&e>=-k&&e<=k},mn.isSet=Rs,mn.isString=Is,mn.isSymbol=js,mn.isTypedArray=Fs,mn.isUndefined=function(e){return e===r},mn.isWeakMap=function(e){return Os(e)&&Ba(e)==ie},mn.isWeakSet=function(e){return Os(e)&&Yn(e)==ae},mn.join=function(e,t){return null==e?"":qr.call(e,t)},mn.kebabCase=gu,mn.last=No,mn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=Bs(n))<0?Vr(i+a,0):Hr(a,i-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,a):ir(e,sr,a,!0)},mn.lowerCase=yu,mn.lowerFirst=bu,mn.lt=Ds,mn.lte=$s,mn.max=function(e){return e&&e.length?qn(e,Pu,Xn):r},mn.maxBy=function(e,t){return e&&e.length?qn(e,ja(t,2),Xn):r},mn.mean=function(e){return ur(e,Pu)},mn.meanBy=function(e,t){return ur(e,ja(t,2))},mn.min=function(e){return e&&e.length?qn(e,Pu,fi):r},mn.minBy=function(e,t){return e&&e.length?qn(e,ja(t,2),fi):r},mn.stubArray=qu,mn.stubFalse=Uu,mn.stubObject=function(){return{}},mn.stubString=function(){return""},mn.stubTrue=function(){return!0},mn.multiply=Ju,mn.nth=function(e,t){return e&&e.length?vi(e,Bs(t)):r},mn.noConflict=function(){return Tt._===this&&(Tt._=dt),this},mn.noop=ju,mn.now=Xo,mn.pad=function(e,t,r){e=Hs(e);var n=(t=Bs(t))?Or(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return ga($r(i),r)+e+ga(Dr(i),r)},mn.padEnd=function(e,t,r){e=Hs(e);var n=(t=Bs(t))?Or(e):0;return t&&n<t?e+ga(t-n,r):e},mn.padStart=function(e,t,r){e=Hs(e);var n=(t=Bs(t))?Or(e):0;return t&&n<t?ga(t-n,r)+e:e},mn.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Gr(Hs(e).replace(Re,""),t||0)},mn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Wa(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Ls(e),t===r?(t=e,e=0):t=Ls(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var a=Zr();return Hr(e+a*(t-e+At("1e-"+((a+"").length-1))),t)}return wi(e,t)},mn.reduce=function(e,t,r){var n=gs(e)?Xt:fr,i=arguments.length<3;return n(e,ja(t,4),r,i,zn)},mn.reduceRight=function(e,t,r){var n=gs(e)?er:fr,i=arguments.length<3;return n(e,ja(t,4),r,i,Ln)},mn.repeat=function(e,t,n){return t=(n?Wa(e,t,n):t===r)?1:Bs(t),_i(Hs(e),t)},mn.replace=function(){var e=arguments,t=Hs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},mn.result=function(e,t,n){var i=-1,a=(t=Wi(t,e)).length;for(a||(a=1,e=r);++i<a;){var o=null==e?r:e[co(t[i])];o===r&&(i=a,o=n),e=Es(o)?o.call(e):o}return e},mn.round=Qu,mn.runInContext=e,mn.sample=function(e){return(gs(e)?En:Ei)(e)},mn.size=function(e){if(null==e)return 0;if(bs(e))return Is(e)?Or(e):e.length;var t=Ba(e);return t==Z||t==ee?e.size:ci(e).length},mn.snakeCase=xu,mn.some=function(e,t,n){var i=gs(e)?tr:Ti;return n&&Wa(e,t,n)&&(t=r),i(e,ja(t,3))},mn.sortedIndex=function(e,t){return ki(e,t)},mn.sortedIndexBy=function(e,t,r){return Ri(e,t,ja(r,2))},mn.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ki(e,t);if(n<r&&ms(e[n],t))return n}return-1},mn.sortedLastIndex=function(e,t){return ki(e,t,!0)},mn.sortedLastIndexBy=function(e,t,r){return Ri(e,t,ja(r,2),!0)},mn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ki(e,t,!0)-1;if(ms(e[r],t))return r}return-1},mn.startCase=wu,mn.startsWith=function(e,t,r){return e=Hs(e),r=null==r?0:In(Bs(r),0,e.length),t=Fi(t),e.slice(r,r+t.length)==t},mn.subtract=Ku,mn.sum=function(e){return e&&e.length?pr(e,Pu):0},mn.sumBy=function(e,t){return e&&e.length?pr(e,ja(t,2)):0},mn.template=function(e,t,n){var i=mn.templateSettings;n&&Wa(e,t,n)&&(t=r),e=Hs(e),t=Zs({},t,i,Sa);var a,o,s=Zs({},t.imports,i.imports,Sa),u=iu(s),c=dr(s,u),l=0,f=t.interpolate||Ze,p="__p += '",m=rt((t.escape||Ze).source+"|"+f.source+"|"+(f===Me?Le:Ze).source+"|"+(t.evaluate||Ze).source+"|$","g"),h="//# sourceURL="+(lt.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Nt+"]")+"\n";e.replace(m,function(t,r,n,i,s,u){return n||(n=i),p+=e.slice(l,u).replace(Je,wr),r&&(a=!0,p+="' +\n__e("+r+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),p+="';\n";var d=lt.call(t,"variable")&&t.variable;d||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(ge,""):p).replace(ye,"$1").replace(be,"$1;"),p="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Su(function(){return Xe(u,h+"return "+p).apply(r,c)});if(v.source=p,Ns(v))throw v;return v},mn.times=function(e,t){if((e=Bs(e))<1||e>k)return[];var r=j,n=Hr(e,j);t=ja(t),e-=j;for(var i=mr(n,t);++r<e;)t(r);return i},mn.toFinite=Ls,mn.toInteger=Bs,mn.toLength=qs,mn.toLower=function(e){return Hs(e).toLowerCase()},mn.toNumber=Us,mn.toSafeInteger=function(e){return e?In(Bs(e),-k,k):0===e?e:0},mn.toString=Hs,mn.toUpper=function(e){return Hs(e).toUpperCase()},mn.trim=function(e,t,n){if((e=Hs(e))&&(n||t===r))return e.replace(ke,"");if(!e||!(t=Fi(t)))return e;var i=Cr(e),a=Cr(t);return Zi(i,gr(i,a),yr(i,a)+1).join("")},mn.trimEnd=function(e,t,n){if((e=Hs(e))&&(n||t===r))return e.replace(Ie,"");if(!e||!(t=Fi(t)))return e;var i=Cr(e);return Zi(i,0,yr(i,Cr(t))+1).join("")},mn.trimStart=function(e,t,n){if((e=Hs(e))&&(n||t===r))return e.replace(Re,"");if(!e||!(t=Fi(t)))return e;var i=Cr(e);return Zi(i,gr(i,Cr(t))).join("")},mn.truncate=function(e,t){var n=S,i=M;if(As(t)){var a="separator"in t?t.separator:a;n="length"in t?Bs(t.length):n,i="omission"in t?Fi(t.omission):i}var o=(e=Hs(e)).length;if(_r(e)){var s=Cr(e);o=s.length}if(n>=o)return e;var u=n-Or(i);if(u<1)return i;var c=s?Zi(s,0,u).join(""):e.slice(0,u);if(a===r)return c+i;if(s&&(u+=c.length-u),ks(a)){if(e.slice(u).search(a)){var l,f=c;for(a.global||(a=rt(a.source,Hs(Be.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var p=l.index;c=c.slice(0,p===r?u:p)}}else if(e.indexOf(Fi(a),u)!=u){var m=c.lastIndexOf(a);m>-1&&(c=c.slice(0,m))}return c+i},mn.unescape=function(e){return(e=Hs(e))&&_e.test(e)?e.replace(xe,Pr):e},mn.uniqueId=function(e){var t=++ft;return Hs(e)+t},mn.upperCase=_u,mn.upperFirst=Nu,mn.each=Ho,mn.eachRight=Wo,mn.first=bo,Iu(mn,(Zu={},Gn(mn,function(e,t){lt.call(mn.prototype,t)||(Zu[t]=e)}),Zu),{chain:!1}),mn.VERSION="4.17.15",Ht(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){mn[e].placeholder=mn}),Ht(["drop","take"],function(e,t){gn.prototype[e]=function(n){n=n===r?1:Vr(Bs(n),0);var i=this.__filtered__&&!t?new gn(this):this.clone();return i.__filtered__?i.__takeCount__=Hr(n,i.__takeCount__):i.__views__.push({size:Hr(n,j),type:e+(i.__dir__<0?"Right":"")}),i},gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Ht(["filter","map","takeWhile"],function(e,t){var r=t+1,n=r==C||3==r;gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ja(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),Ht(["head","last"],function(e,t){var r="take"+(t?"Right":"");gn.prototype[e]=function(){return this[r](1).value()[0]}}),Ht(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");gn.prototype[e]=function(){return this.__filtered__?new gn(this):this[r](1)}}),gn.prototype.compact=function(){return this.filter(Pu)},gn.prototype.find=function(e){return this.filter(e).head()},gn.prototype.findLast=function(e){return this.reverse().find(e)},gn.prototype.invokeMap=Ni(function(e,t){return"function"==typeof e?new gn(this):this.map(function(r){return ni(r,e,t)})}),gn.prototype.reject=function(e){return this.filter(us(ja(e)))},gn.prototype.slice=function(e,t){e=Bs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new gn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=Bs(t))<0?n.dropRight(-t):n.take(t-e)),n)},gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},gn.prototype.toArray=function(){return this.take(j)},Gn(gn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=mn[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(mn.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,u=t instanceof gn,c=s[0],l=u||gs(t),f=function(e){var t=a.apply(mn,Yt([e],s));return i&&p?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var p=this.__chain__,m=!!this.__actions__.length,h=o&&!p,d=u&&!m;if(!o&&l){t=d?t:new gn(this);var v=e.apply(t,s);return v.__actions__.push({func:Lo,args:[f],thisArg:r}),new vn(v,p)}return h&&d?e.apply(this,s):(v=this.thru(f),h?i?v.value()[0]:v.value():v)})}),Ht(["pop","push","shift","sort","splice","unshift"],function(e){var t=at[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);mn.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(gs(i)?i:[],e)}return this[r](function(r){return t.apply(gs(r)?r:[],e)})}}),Gn(gn.prototype,function(e,t){var r=mn[t];if(r){var n=r.name+"";lt.call(nn,n)||(nn[n]=[]),nn[n].push({name:t,func:r})}}),nn[ma(r,v).name]=[{name:"wrapper",func:r}],gn.prototype.clone=function(){var e=new gn(this.__wrapped__);return e.__actions__=ra(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ra(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ra(this.__views__),e},gn.prototype.reverse=function(){if(this.__filtered__){var e=new gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=gs(e),n=t<0,i=r?e.length:0,a=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Hr(t,e+o);break;case"takeRight":e=Vr(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,c=n?s:o-1,l=this.__iteratees__,f=l.length,p=0,m=Hr(u,this.__takeCount__);if(!r||!n&&i==u&&m==u)return Bi(e,this.__actions__);var h=[];e:for(;u--&&p<m;){for(var d=-1,v=e[c+=t];++d<f;){var g=l[d],y=g.iteratee,b=g.type,x=y(v);if(b==P)v=x;else if(!x){if(b==C)continue e;break e}}h[p++]=v}return h},mn.prototype.at=Bo,mn.prototype.chain=function(){return zo(this)},mn.prototype.commit=function(){return new vn(this.value(),this.__chain__)},mn.prototype.next=function(){this.__values__===r&&(this.__values__=zs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},mn.prototype.plant=function(e){for(var t,n=this;n instanceof dn;){var i=fo(n);i.__index__=0,i.__values__=r,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t},mn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof gn){var t=e;return this.__actions__.length&&(t=new gn(this)),(t=t.reverse()).__actions__.push({func:Lo,args:[Ao],thisArg:r}),new vn(t,this.__chain__)}return this.thru(Ao)},mn.prototype.toJSON=mn.prototype.valueOf=mn.prototype.value=function(){return Bi(this.__wrapped__,this.__actions__)},mn.prototype.first=mn.prototype.head,lr&&(mn.prototype[lr]=function(){return this}),mn}();Rt?((Rt.exports=Tr)._=Tr,kt._=Tr):Tt._=Tr}).call(d)});function x(e){return!!e.and}function w(e){return!!e.or}var _=function(e){function t(t){return e.call(this,"Unsupported step <"+t+">")||this}return s(t,e),t}(Error);function N(e,t,r){r.value=function(e){throw new _(e.name)},r.value.__vqb_step_supported__=!1}var E=function(){function e(){}return Object.defineProperty(e.prototype,"supportedSteps",{get:function(){var e=this;return M().filter(function(t){return!1!==e.constructor.prototype[t].__vqb_step_supported__}).sort()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unsupportedSteps",{get:function(){var e=this;return M().filter(function(t){return!1===e.constructor.prototype[t].__vqb_step_supported__}).sort()},enumerable:!0,configurable:!0}),e.prototype.supports=function(e){return!this.unsupportedSteps.includes(e)},e.prototype.aggregate=function(e){},e.prototype.argmax=function(e){},e.prototype.argmin=function(e){},e.prototype.concatenate=function(e){},e.prototype.custom=function(e){},e.prototype.domain=function(e){},e.prototype.duplicate=function(e){},e.prototype.delete=function(e){},e.prototype.fillna=function(e){},e.prototype.filter=function(e){},e.prototype.formula=function(e){},e.prototype.fromdate=function(e){},e.prototype.lowercase=function(e){},e.prototype.percentage=function(e){},e.prototype.pivot=function(e){},e.prototype.rename=function(e){},e.prototype.replace=function(e){},e.prototype.select=function(e){},e.prototype.sort=function(e){},e.prototype.split=function(e){},e.prototype.substring=function(e){},e.prototype.todate=function(e){},e.prototype.top=function(e){},e.prototype.unpivot=function(e){},e.prototype.uppercase=function(e){},e.prototype.translate=function(e){var t,r,n=[];try{for(var i=p(e),a=i.next();!a.done;a=i.next()){var o=a.value,s=this[o.name];n.push(s(o))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},c([N],e.prototype,"aggregate",null),c([N],e.prototype,"argmax",null),c([N],e.prototype,"argmin",null),c([N],e.prototype,"concatenate",null),c([N],e.prototype,"custom",null),c([N],e.prototype,"domain",null),c([N],e.prototype,"duplicate",null),c([N],e.prototype,"delete",null),c([N],e.prototype,"fillna",null),c([N],e.prototype,"filter",null),c([N],e.prototype,"formula",null),c([N],e.prototype,"fromdate",null),c([N],e.prototype,"lowercase",null),c([N],e.prototype,"percentage",null),c([N],e.prototype,"pivot",null),c([N],e.prototype,"rename",null),c([N],e.prototype,"replace",null),c([N],e.prototype,"select",null),c([N],e.prototype,"sort",null),c([N],e.prototype,"split",null),c([N],e.prototype,"substring",null),c([N],e.prototype,"todate",null),c([N],e.prototype,"top",null),c([N],e.prototype,"unpivot",null),c([N],e.prototype,"uppercase",null),e}();function S(e){var t=new Set(["constructor","supportedSteps","unsupportedSteps","supports","translate"]);return new Set(Object.getOwnPropertyNames(E.prototype)).has(e)&&!t.has(e)}function M(){var e,t,r=[];try{for(var n=p(Object.getOwnPropertyNames(E.prototype)),i=n.next();!i.done;i=n.next()){var a=i.value;S(a)&&r.push(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r}M().sort();Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isNaN=Number.isNaN||function(e){return e!=e};var A=function(e){return e&&e.constructor.prototype.isBigNumber||!1},O=g(function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.clone=function e(n){var i=r(n);if("number"===i||"string"===i||"boolean"===i||null==n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(t){return e(t)});if(n instanceof Date)return new Date(n.valueOf());if(A(n))return n;if(n instanceof RegExp)throw new TypeError("Cannot clone "+n);return t.map(n,e)},t.map=function(e,r){var n={};for(var i in e)t.hasOwnProperty(e,i)&&(n[i]=r(e[i]));return n},t.extend=function(e,r){for(var n in r)t.hasOwnProperty(r,n)&&(e[n]=r[n]);return e},t.deepExtend=function e(r,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var i in n)if(t.hasOwnProperty(n,i))if(n[i]&&n[i].constructor===Object)void 0===r[i]&&(r[i]={}),r[i].constructor===Object?e(r[i],n[i]):r[i]=n[i];else{if(Array.isArray(n[i]))throw new TypeError("Arrays are not supported by deepExtend");r[i]=n[i]}return r},t.deepEqual=function(e,r){var n,i,a;if(Array.isArray(e)){if(!Array.isArray(r))return!1;if(e.length!==r.length)return!1;for(i=0,a=e.length;i<a;i++)if(!t.deepEqual(e[i],r[i]))return!1;return!0}if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(n in e)if(!t.deepEqual(e[n],r[n]))return!1;for(n in r)if(!t.deepEqual(e[n],r[n]))return!1;return!0}return e===r},t.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(e){}return!1},t.lazy=function(e,r,n){if(t.canDefineProperty()){var i,a=!0;Object.defineProperty(e,r,{get:function(){return a&&(i=n(),a=!1),i},set:function(e){i=e,a=!1},configurable:!0,enumerable:!0})}else e[r]=n()},t.traverse=function(e,t){var r=e;if(t)for(var n=t.split("."),i=0;i<n.length;i++){var a=n[i];a in r||(r[a]={}),r=r[a]}return r},t.hasOwnProperty=function(e,t){return e&&Object.hasOwnProperty.call(e,t)},t.isFactory=function(e){return e&&"function"==typeof e.factory}}),C=(O.clone,O.map,O.extend,O.deepExtend,O.deepEqual,O.canDefineProperty,O.lazy,O.traverse,O.isFactory,g(function(e,t){e.exports=function(){function e(){return!0}function t(){return!1}function r(){}return function n(){var i=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],a={name:"any",test:e},o=[],s=[],u={types:i,conversions:s,ignore:o};function c(e){var t=$(u.types,function(t){return t.name===e});if(t)return t;if("any"===e)return a;var r=$(u.types,function(t){return t.name.toLowerCase()===e.toLowerCase()});throw new TypeError('Unknown type "'+e+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function l(e){return e===a?999:u.types.indexOf(e)}function f(e){var t=$(u.types,function(t){return t.test(e)});if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function p(e){return e.map(function(e){var t=e.types.map(x);return(e.restParam?"...":"")+t.join("|")}).join(",")}function m(e,t){var r=0===e.indexOf("..."),n=r?e.length>3?e.slice(3):"any":e,i=n.split("|").map(T).filter(k).filter(P),a=function(e,t){var r={};return e.forEach(function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||r[e.from]||(r[e.from]=e)}),Object.keys(r).map(function(e){return r[e]})}(t,i),o=i.map(function(e){var t=c(e);return{name:e,typeIndex:l(t),test:t.test,conversion:null,conversionIndex:-1}}),s=a.map(function(e){var r=c(e.from);return{name:e.from,typeIndex:l(r),test:r.test,conversion:e,conversionIndex:t.indexOf(e)}});return{types:o.concat(s),restParam:r}}function h(e){var t=j(e);return!!t&&t.restParam}function d(e){return e.types.some(function(e){return null!=e.conversion})}function v(t){if(t&&0!==t.types.length){if(1===t.types.length)return c(t.types[0].name).test;if(2===t.types.length){var r=c(t.types[0].name).test,n=c(t.types[1].name).test;return function(e){return r(e)||n(e)}}var i=t.types.map(function(e){return c(e.name).test});return function(e){for(var t=0;t<i.length;t++)if(i[t](e))return!0;return!1}}return e}function g(e){var t,r,n,i;if(h(e)){var a=(t=(i=e,i.slice(0,i.length-1)).map(v)).length,o=v(j(e));return function(e){for(var r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return function(e){for(var t=a;t<e.length;t++)if(!o(e[t]))return!1;return!0}(e)&&e.length>=a+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(r=v(e[0]),function(e){return r(e[0])&&1===e.length}):2===e.length?(r=v(e[0]),n=v(e[1]),function(e){return r(e[0])&&n(e[1])&&2===e.length}):(t=e.map(v),function(e){for(var r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return e.length===t.length})}function y(e,t){return t<e.params.length?e.params[t]:h(e.params)?j(e.params):null}function b(e,t,r){var n=y(e,t),i=n?r?n.types.filter(w):n.types:[];return i.map(x)}function x(e){return e.name}function w(e){return null===e.conversion||void 0===e.conversion}function _(e,t){var r=function(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return Object.keys(t)}(z(e,function(e){return b(e,t,!1)}));return-1!==r.indexOf("any")?["any"]:r}function N(e){for(var t=999,r=0;r<e.types.length;r++)w(e.types[r])&&(t=Math.min(t,e.types[r].typeIndex));return t}function E(e){for(var t=999,r=0;r<e.types.length;r++)w(e.types[r])||(t=Math.min(t,e.types[r].conversionIndex));return t}function S(e,t){var r;return 0!=(r=e.restParam-t.restParam)?r:0!=(r=d(e)-d(t))?r:0!=(r=N(e)-N(t))?r:E(e)-E(t)}function M(e,t){var r,n,i=Math.min(e.params.length,t.params.length);if(0!=(n=e.params.some(d)-t.params.some(d)))return n;for(r=0;r<i;r++)if(0!=(n=d(e.params[r])-d(t.params[r])))return n;for(r=0;r<i;r++)if(0!==(n=S(e.params[r],t.params[r])))return n;return e.params.length-t.params.length}function A(e){var t,r,n,i,a=[],o=[];switch(e.types.forEach(function(e){e.conversion&&(a.push(c(e.conversion.from).test),o.push(e.conversion.convert))}),o.length){case 0:return function(e){return e};case 1:return t=a[0],n=o[0],function(e){return t(e)?n(e):e};case 2:return t=a[0],r=a[1],n=o[0],i=o[1],function(e){return t(e)?n(e):r(e)?i(e):e};default:return function(e){for(var t=0;t<o.length;t++)if(a[t](e))return o[t](e);return e}}}function O(e,t){return function e(r,n,i){if(n<r.length){var a,o=r[n],s=t?o.types.filter(w):o.types;if(o.restParam){var u=s.filter(w);a=u.length<s.length?[u,s]:[s]}else a=s.map(function(e){return[e]});return z(a,function(t){return e(r,n+1,i.concat([t]))})}var c=i.map(function(e,t){return{types:e,restParam:t===r.length-1&&h(r)}});return[c]}(e,0,[])}function C(e,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(n).map(function(e){return function(e,t,r){var n=[];return""!==e.trim()&&(n=e.split(",").map(T).map(function(e,t,n){var i=m(e,r);if(i.restParam&&t!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return i})),n.some(I)?null:{params:n,fn:t}}(e,n[e],u.conversions)}).filter(R).forEach(function(e){var t=$(i,function(t){return function(e,t){for(var r=Math.max(e.params.length,t.params.length),n=0;n<r;n++){var i=b(e,n,!0),a=b(t,n,!0);if(!D(i,a))return!1}var o=e.params.length,s=t.params.length,u=h(e.params),c=h(t.params);return u?c?o===s:s>=o:c?o>=s:o===s}(t,e)});if(t)throw new TypeError('Conflicting signatures "'+p(t.params)+'" and "'+p(e.params)+'".');i.push(e)});var a=z(i,function(e){var t=e?O(e.params,!1):[];return t.map(function(t){return{params:t,fn:e.fn}})}).filter(R);a.sort(M);var o=a[0]&&a[0].params.length<=2&&!h(a[0].params),s=a[1]&&a[1].params.length<=2&&!h(a[1].params),c=a[2]&&a[2].params.length<=2&&!h(a[2].params),l=a[3]&&a[3].params.length<=2&&!h(a[3].params),x=a[4]&&a[4].params.length<=2&&!h(a[4].params),w=a[5]&&a[5].params.length<=2&&!h(a[5].params),N=o&&s&&c&&l&&x&&w,E=a.map(function(e){return g(e.params)}),S=o?v(a[0].params[0]):t,C=s?v(a[1].params[0]):t,P=c?v(a[2].params[0]):t,k=l?v(a[3].params[0]):t,j=x?v(a[4].params[0]):t,L=w?v(a[5].params[0]):t,B=o?v(a[0].params[1]):t,q=s?v(a[1].params[1]):t,U=c?v(a[2].params[1]):t,V=l?v(a[3].params[1]):t,H=x?v(a[4].params[1]):t,W=w?v(a[5].params[1]):t,G=a.map(function(e){return function(e,t){var r=t;if(e.some(d)){var n=h(e),i=e.map(A);r=function(){for(var e=[],r=n?arguments.length-1:arguments.length,a=0;a<r;a++)e[a]=i[a](arguments[a]);return n&&(e[r]=arguments[r].map(i[r])),t.apply(null,e)}}var a=r;if(h(e)){var o=e.length-1;a=function(){return r.apply(null,F(arguments,0,o).concat([F(arguments,o)]))}}return a}(e.params,e.fn)}),Z=o?G[0]:r,J=s?G[1]:r,Q=c?G[2]:r,K=l?G[3]:r,Y=x?G[4]:r,X=w?G[5]:r,ee=o?a[0].params.length:-1,te=s?a[1].params.length:-1,re=c?a[2].params.length:-1,ne=l?a[3].params.length:-1,ie=x?a[4].params.length:-1,ae=w?a[5].params.length:-1,oe=N?6:0,se=a.length,ue=function(){for(var t=oe;t<se;t++)if(E[t](arguments))return G[t].apply(null,arguments);throw function(e,t,r){var n,i,a,o=e||"unnamed",s=r;for(a=0;a<t.length;a++){var u=s.filter(function(e){var r=v(y(e,a));return(a<e.params.length||h(e.params))&&r(t[a])});if(0===u.length){if((i=_(s,a)).length>0){var c=f(t[a]);return(n=new TypeError("Unexpected type of argument in function "+o+" (expected: "+i.join(" or ")+", actual: "+c+", index: "+a+")")).data={category:"wrongType",fn:o,index:a,actual:c,expected:i},n}}else s=u}var l=s.map(function(e){return h(e.params)?1/0:e.params.length});if(t.length<Math.min.apply(null,l))return i=_(s,a),(n=new TypeError("Too few arguments in function "+o+" (expected: "+i.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:o,index:t.length,expected:i},n;var p=Math.max.apply(null,l);return t.length>p?((n=new TypeError("Too many arguments in function "+o+" (expected: "+p+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:o,index:t.length,expectedLength:p},n):((n=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:t.map(f)},n)}(e,arguments,a)},ce=function(e,t){return arguments.length===ee&&S(e)&&B(t)?Z.apply(null,arguments):arguments.length===te&&C(e)&&q(t)?J.apply(null,arguments):arguments.length===re&&P(e)&&U(t)?Q.apply(null,arguments):arguments.length===ne&&k(e)&&V(t)?K.apply(null,arguments):arguments.length===ie&&j(e)&&H(t)?Y.apply(null,arguments):arguments.length===ae&&L(e)&&W(t)?X.apply(null,arguments):ue.apply(null,arguments)};try{Object.defineProperty(ce,"name",{value:e})}catch(e){}return ce.signatures=function(e){var t={};return e.forEach(function(e){e.params.some(d)||O(e.params,!0).forEach(function(r){t[p(r)]=e.fn})}),t}(a),ce}function P(e){return-1===u.ignore.indexOf(e)}function T(e){return e.trim()}function k(e){return!!e}function R(e){return null!==e}function I(e){return 0===e.types.length}function j(e){return e[e.length-1]}function F(e,t,r){return Array.prototype.slice.call(e,t,r)}function D(e,t){for(var r=0;r<e.length;r++)if(n=t,i=e[r],-1!==n.indexOf(i))return!0;var n,i;return!1}function $(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function z(e,t){return Array.prototype.concat.apply([],e.map(t))}function L(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===t)t=n.name;else if(t!==n.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");throw i.data={actual:n.name,expected:t},i}}return t}function B(e){var t,r={};function n(e,n){if(r.hasOwnProperty(e)&&n!==r[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var i=0;i<e.length;i++){var a=e[i];if("object"==typeof a.signatures)for(var o in a.signatures)a.signatures.hasOwnProperty(o)&&(n(o,a.signatures[o]),r[o]=a.signatures[o]);else{if("string"!=typeof a.signature)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;n(a.signature,a),r[a.signature]=a}}return r}return(u=C("typed",{"string, Object":C,Object:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);var n=L(t);return C(n,e)},"...Function":function(e){return C(L(e),B(e))},"string, ...Function":function(e,t){return C(e,B(t))}})).create=n,u.types=i,u.conversions=s,u.ignore=o,u.convert=function(e,t){var r=f(e);if(t===r)return e;for(var n=0;n<u.conversions.length;n++){var i=u.conversions[n];if(i.from===r&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+r+" to "+t)},u.find=function(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof t){r=t.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");r=t}var i=r.join(","),a=e.signatures[i];if(a)return a;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+r.join(", ")+"))")},u.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var r=0;r<u.types.length;r++)if("Object"===u.types[r].name)return void u.types.splice(r,0,e);u.types.push(e)},u.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(e)},u}()}()})),P=g(function(e,t){function r(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}t.isNumber=function(e){return"number"==typeof e},t.isInteger=function(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)},t.sign=Math.sign||function(e){return e>0?1:e<0?-1:0},t.format=function(e,r){if("function"==typeof r)return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n,i="auto";switch(r&&(r.notation&&(i=r.notation),t.isNumber(r)?n=r:t.isNumber(r.precision)&&(n=r.precision)),i){case"fixed":return t.toFixed(e,n);case"exponential":return t.toExponential(e,n);case"engineering":return t.toEngineering(e,n);case"auto":if(r&&r.exponential&&(void 0!==r.exponential.lower||void 0!==r.exponential.upper)){var a=O.map(r,function(e){return e});return a.exponential=void 0,void 0!==r.exponential.lower&&(a.lowerExp=Math.round(Math.log(r.exponential.lower)/Math.LN10)),void 0!==r.exponential.upper&&(a.upperExp=Math.round(Math.log(r.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(r)+" with "+JSON.stringify(a)),t.toPrecision(e,n,a)}return t.toPrecision(e,n,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},t.splitNumber=function(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),a=n.indexOf(".");i+=-1!==a?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(e){return i-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===o.length&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}},t.toEngineering=function(e,r){if(isNaN(e)||!isFinite(e))return String(e);var n=t.roundDigits(t.splitNumber(e),r),i=n.exponent,a=n.coefficients,o=i%3==0?i:i<0?i-3-i%3:i-i%3;if(t.isNumber(r))for(;r>a.length||i-o+1>a.length;)a.push(0);else for(var s=i>=0?i:Math.abs(o);a.length-1<s;)a.push(0);for(var u=Math.abs(i-o),c=1;u>0;)c++,u--;var l=a.slice(c).join(""),f=t.isNumber(r)&&l.length||l.match(/[1-9]/)?"."+l:"",p=a.slice(0,c).join("")+f+"e"+(i>=0?"+":"")+o.toString();return n.sign+p},t.toFixed=function(e,n){if(isNaN(e)||!isFinite(e))return String(e);var i=t.splitNumber(e),a="number"==typeof n?t.roundDigits(i,i.exponent+1+n):i,o=a.coefficients,s=a.exponent+1,u=s+(n||0);return o.length<u&&(o=o.concat(r(u-o.length))),s<0&&(o=r(1-s).concat(o),s=1),s<o.length&&o.splice(s,0,0===s?"0.":"."),a.sign+o.join("")},t.toExponential=function(e,n){if(isNaN(e)||!isFinite(e))return String(e);var i=t.splitNumber(e),a=n?t.roundDigits(i,n):i,o=a.coefficients,s=a.exponent;o.length<n&&(o=o.concat(r(n-o.length)));var u=o.shift();return a.sign+u+(o.length>0?"."+o.join(""):"")+"e"+(s>=0?"+":"")+s},t.toPrecision=function(e,n,i){if(isNaN(e)||!isFinite(e))return String(e);var a=i&&void 0!==i.lowerExp?i.lowerExp:-3,o=i&&void 0!==i.upperExp?i.upperExp:5,s=t.splitNumber(e);if(s.exponent<a||s.exponent>=o)return t.toExponential(e,n);var u=n?t.roundDigits(s,n):s,c=u.coefficients,l=u.exponent;c.length<n&&(c=c.concat(r(n-c.length))),c=c.concat(r(l-c.length+1+(c.length<n?n-c.length:0)));var f=l>0?l:0;return f<(c=r(-l).concat(c)).length-1&&c.splice(f+1,0,"."),u.sign+c.join("")},t.roundDigits=function(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t&&n.splice(t,n.length-t)[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++}return r},t.digits=function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},t.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,t.nearlyEqual=function(e,r,n){if(null==n)return e===r;if(e===r)return!0;if(isNaN(e)||isNaN(r))return!1;if(isFinite(e)&&isFinite(r)){var i=Math.abs(e-r);return i<t.DBL_EPSILON||i<=Math.max(Math.abs(e),Math.abs(r))*n}return!1}}),T=(P.isNumber,P.isInteger,P.sign,P.format,P.splitNumber,P.toEngineering,P.toFixed,P.toExponential,P.toPrecision,P.roundDigits,P.digits,P.DBL_EPSILON,P.nearlyEqual,function(e){return e&&e.constructor.prototype.isMatrix||!1});function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var R=P.digits,I=function(){return I=C.create,C},j={create:function(e){e.isNumber=function(e){return"number"==typeof e},e.isComplex=function(t){return e.Complex&&t instanceof e.Complex||!1},e.isBigNumber=A,e.isFraction=function(t){return e.Fraction&&t instanceof e.Fraction||!1},e.isUnit=function(e){return e&&e.constructor.prototype.isUnit||!1},e.isString=function(e){return"string"==typeof e},e.isArray=Array.isArray,e.isMatrix=T,e.isDenseMatrix=function(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix||!1},e.isSparseMatrix=function(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix||!1},e.isRange=function(e){return e&&e.constructor.prototype.isRange||!1},e.isIndex=function(e){return e&&e.constructor.prototype.isIndex||!1},e.isBoolean=function(e){return"boolean"==typeof e},e.isResultSet=function(e){return e&&e.constructor.prototype.isResultSet||!1},e.isHelp=function(e){return e&&e.constructor.prototype.isHelp||!1},e.isFunction=function(e){return"function"==typeof e},e.isDate=function(e){return e instanceof Date},e.isRegExp=function(e){return e instanceof RegExp},e.isObject=function(t){return"object"===k(t)&&t.constructor===Object&&!e.isComplex(t)&&!e.isFraction(t)},e.isNull=function(e){return null===e},e.isUndefined=function(e){return void 0===e},e.isAccessorNode=function(e){return e&&e.isAccessorNode&&e.constructor.prototype.isNode||!1},e.isArrayNode=function(e){return e&&e.isArrayNode&&e.constructor.prototype.isNode||!1},e.isAssignmentNode=function(e){return e&&e.isAssignmentNode&&e.constructor.prototype.isNode||!1},e.isBlockNode=function(e){return e&&e.isBlockNode&&e.constructor.prototype.isNode||!1},e.isConditionalNode=function(e){return e&&e.isConditionalNode&&e.constructor.prototype.isNode||!1},e.isConstantNode=function(e){return e&&e.isConstantNode&&e.constructor.prototype.isNode||!1},e.isFunctionAssignmentNode=function(e){return e&&e.isFunctionAssignmentNode&&e.constructor.prototype.isNode||!1},e.isFunctionNode=function(e){return e&&e.isFunctionNode&&e.constructor.prototype.isNode||!1},e.isIndexNode=function(e){return e&&e.isIndexNode&&e.constructor.prototype.isNode||!1},e.isNode=function(e){return e&&e.isNode&&e.constructor.prototype.isNode||!1},e.isObjectNode=function(e){return e&&e.isObjectNode&&e.constructor.prototype.isNode||!1},e.isOperatorNode=function(e){return e&&e.isOperatorNode&&e.constructor.prototype.isNode||!1},e.isParenthesisNode=function(e){return e&&e.isParenthesisNode&&e.constructor.prototype.isNode||!1},e.isRangeNode=function(e){return e&&e.isRangeNode&&e.constructor.prototype.isNode||!1},e.isSymbolNode=function(e){return e&&e.isSymbolNode&&e.constructor.prototype.isNode||!1},e.isChain=function(e){return e&&e.constructor.prototype.isChain||!1};var t=I();return t.types=[{name:"number",test:e.isNumber},{name:"Complex",test:e.isComplex},{name:"BigNumber",test:e.isBigNumber},{name:"Fraction",test:e.isFraction},{name:"Unit",test:e.isUnit},{name:"string",test:e.isString},{name:"Array",test:e.isArray},{name:"Matrix",test:e.isMatrix},{name:"DenseMatrix",test:e.isDenseMatrix},{name:"SparseMatrix",test:e.isSparseMatrix},{name:"Range",test:e.isRange},{name:"Index",test:e.isIndex},{name:"boolean",test:e.isBoolean},{name:"ResultSet",test:e.isResultSet},{name:"Help",test:e.isHelp},{name:"function",test:e.isFunction},{name:"Date",test:e.isDate},{name:"RegExp",test:e.isRegExp},{name:"null",test:e.isNull},{name:"undefined",test:e.isUndefined},{name:"OperatorNode",test:e.isOperatorNode},{name:"ConstantNode",test:e.isConstantNode},{name:"SymbolNode",test:e.isSymbolNode},{name:"ParenthesisNode",test:e.isParenthesisNode},{name:"FunctionNode",test:e.isFunctionNode},{name:"FunctionAssignmentNode",test:e.isFunctionAssignmentNode},{name:"ArrayNode",test:e.isArrayNode},{name:"AssignmentNode",test:e.isAssignmentNode},{name:"BlockNode",test:e.isBlockNode},{name:"ConditionalNode",test:e.isConditionalNode},{name:"IndexNode",test:e.isIndexNode},{name:"RangeNode",test:e.isRangeNode},{name:"Node",test:e.isNode},{name:"Object",test:e.isObject}],t.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(R(t)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e.BigNumber(t)}},{from:"number",to:"Complex",convert:function(t){return new e.Complex(t,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(t){return new e.Complex(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return new e.Complex(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){if(new e.Fraction(t).valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return new e.Fraction(t)}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(t){try{return new e.BigNumber(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){try{return new e.Fraction(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){try{return new e.Complex(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(t){return new e.BigNumber(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return new e.Fraction(+t)}},{from:"boolean",to:"string",convert:function(e){return+e}},{from:"Array",to:"Matrix",convert:function(t){return new e.DenseMatrix(t)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],t}};function F(){}F.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var n=this;function i(){n.off(e,i),t.apply(r,arguments)}return i._=t,this.on(e,i,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],i=[];if(n&&t)for(var a=0,o=n.length;a<o;a++)n[a].fn!==t&&n[a].fn._!==t&&i.push(n[a]);return i.length?r[e]=i:delete r[e],this}};var D=F,$=F;D.TinyEmitter=$;var z={mixin:function(e){var t=new D;return e.on=t.on.bind(t),e.off=t.off.bind(t),e.once=t.once.bind(t),e.emit=t.emit.bind(t),e}};function L(e,t,r,n){if(!(this instanceof L))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack}L.prototype=new Error,L.prototype.constructor=Error,L.prototype.name="ArgumentsError",L.prototype.isArgumentsError=!0;var B=L;function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var U=O.lazy,V=O.isFactory,H=O.traverse;var W={math:!0,name:"import",factory:function(e,t,r,n,i){function a(e,t,r){if(r.wrap&&"function"==typeof t&&(s=function(){for(var e=[],t=0,r=arguments.length;t<r;t++){var n=arguments[t];e[t]=n&&n.valueOf()}return a.apply(i,e)},(a=t).transform&&(s.transform=a.transform),t=s),l(i[e])&&l(t))return t=r.override?n(e,t.signatures):n(i[e],t),i[e]=t,o(e,t),void i.emit("import",e,function(){return t});var a,s;if(void 0===i[e]||r.override)return i[e]=t,o(e,t),void i.emit("import",e,function(){return t});if(!r.silent)throw new Error('Cannot import "'+e+'": already exists')}function o(e,t){t&&"function"==typeof t.transform?(i.expression.transform[e]=t.transform,f(e)&&(i.expression.mathWithTransform[e]=t.transform)):(delete i.expression.transform[e],f(e)&&(i.expression.mathWithTransform[e]=t))}function s(e){delete i.expression.transform[e],f(e)?i.expression.mathWithTransform[e]=i[e]:delete i.expression.mathWithTransform[e]}function u(e,t){if("string"==typeof e.name){var a=e.name,o=a in i.expression.transform,u=e.path?H(i,e.path):i,c=u.hasOwnProperty(a)?u[a]:void 0,f=function(){var i=r(e);if(i&&"function"==typeof i.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(l(c)&&l(i))return t.override||(i=n(c,i)),i;if(void 0===c||t.override)return i;if(!t.silent)throw new Error('Cannot import "'+a+'": already exists')};!1!==e.lazy?(U(u,a,f),o?s(a):("expression.transform"===e.path||p(e))&&U(i.expression.mathWithTransform,a,f)):(u[a]=f(),o?s(a):("expression.transform"===e.path||p(e))&&(i.expression.mathWithTransform[a]=f())),i.emit("import",a,f,e.path)}else r(e)}function c(t){return"function"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||null===t||t&&e.isUnit(t)||t&&e.isComplex(t)||t&&e.isBigNumber(t)||t&&e.isFraction(t)||t&&e.isMatrix(t)||t&&Array.isArray(t)}function l(e){return"function"==typeof e&&"object"===q(e.signatures)}function f(e){return!m.hasOwnProperty(e)}function p(e){return void 0===e.path&&!m.hasOwnProperty(e.name)}var m={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function e(t,r){var n=arguments.length;if(1!==n&&2!==n)throw new B("import",n,1,2);if(r||(r={}),V(t))u(t,r);else if(Array.isArray(t))t.forEach(function(t){e(t,r)});else if("object"===q(t)){for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];c(o)?a(i,o,r):V(t)?u(t,r):e(o,r)}}else if(!r.silent)throw new TypeError("Factory, Object, or Array expected")}},lazy:!0};function G(e,t,r){if(void 0!==e[t]&&(i=r,a=e[t],-1===i.indexOf(a))){var n=function(e,t){return e.map(function(e){return e.toLowerCase()}).indexOf(t.toLowerCase())}(r,e[t]);-1!==n?(console.warn('Warning: Wrong casing for configuration option "'+t+'", should be "'+r[n]+'" instead of "'+e[t]+'".'),e[t]=r[n]):console.warn('Warning: Unknown value "'+e[t]+'" for configuration option "'+t+'". Available options: '+r.map(JSON.stringify).join(", ")+".")}var i,a}var Z,J,Q={name:"config",math:!0,factory:function(e,t,r,n,i){var a=["Matrix","Array"],o=["number","BigNumber","Fraction"];function s(e){if(e){var r=O.map(t,O.clone);G(e,"matrix",a),G(e,"number",o),O.deepExtend(t,e);var n=O.map(t,O.clone),s=O.map(e,O.clone);return i.emit("config",n,r,s),n}return O.map(t,O.clone)}return s.MATRIX=a,s.NUMBER=o,s}},K=O.isFactory,Y={create:function(e){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var t=[],r=[],n=z.mixin({});n.type={},n.expression={transform:{},mathWithTransform:{}},n.typed=j.create(n.type);var i={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function a(e){if(!K(e))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var o,s=t.indexOf(e);return-1===s?(o=!0===e.math?e.factory(n.type,i,a,n.typed,n):e.factory(n.type,i,a,n.typed),t.push(e),r.push(o)):o=r[s],o}return n.import=a(W),n.config=a(Q),n.expression.mathWithTransform.config=n.config,e&&n.config(e),n}},X=9e15,ee=1e9,te="0123456789abcdef",re="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ne="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ie={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-X,maxE:X,crypto:!1},ae=!0,oe="[DecimalError] ",se=oe+"Invalid argument: ",ue=oe+"Precision limit exceeded",ce=oe+"crypto unavailable",le=Math.floor,fe=Math.pow,pe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,me=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,he=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,de=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ve=1e7,ge=7,ye=re.length-1,be=ne.length-1,xe={name:"[object Decimal]"};function we(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",(r=ge-n.length)&&(a+=ke(r)),a+=n;o=e[t],(r=ge-(n=o+"").length)&&(a+=ke(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function _e(e,t,r){if(e!==~~e||e<t||e>r)throw Error(se+e)}function Ne(e,t,r,n){var i,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=ge,i=0):(i=Math.ceil((t+1)/ge),t%=ge),a=fe(10,ge-t),s=e[i]%a|0,null==n?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(e[i+1]/a/100|0)==fe(10,t-2)-1||(s==a/2||0==s)&&0==(e[i+1]/a/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(n||r<4)&&9999==s||!n&&r>3&&4999==s):o=((n||r<4)&&s+1==a||!n&&r>3&&s+1==a/2)&&(e[i+1]/a/1e3|0)==fe(10,t-3)-1,o}function Ee(e,t,r){for(var n,i,a=[0],o=0,s=e.length;o<s;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=te.indexOf(e.charAt(o++)),n=0;n<a.length;n++)a[n]>r-1&&(void 0===a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}xe.absoluteValue=xe.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Me(e)},xe.ceil=function(){return Me(new this.constructor(this),this.e+1,2)},xe.comparedTo=xe.cmp=function(e){var t,r,n,i,a=this,o=a.d,s=(e=new a.constructor(e)).d,u=a.s,c=e.s;if(!o||!s)return u&&c?u!==c?u:o===s?0:!o^u<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?u:s[0]?-c:0;if(u!==c)return u;if(a.e!==e.e)return a.e>e.e^u<0?1:-1;for(t=0,r=(n=o.length)<(i=s.length)?n:i;t<r;++t)if(o[t]!==s[t])return o[t]>s[t]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},xe.cosine=xe.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+ge,n.rounding=1,r=function(e,t){var r,n,i=t.d.length;i<32?(r=Math.ceil(i/3),n=(1/qe(4,r)).toString()):(r=16,n="2.3283064365386962890625e-10");e.precision+=r,t=Be(e,1,t.times(n),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}(n,Ue(n,r)),n.precision=e,n.rounding=t,Me(2==J||3==J?r.neg():r,e,t,!0)):new n(1):new n(NaN)},xe.cubeRoot=xe.cbrt=function(){var e,t,r,n,i,a,o,s,u,c,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(ae=!1,(a=l.s*fe(l.s*l,1/3))&&Math.abs(a)!=1/0?n=new f(a.toString()):(r=we(l.d),(a=((e=l.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=fe(r,1/3),e=le((e+1)/3)-(e%3==(e<0?-1:2)),(n=new f(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=l.s),o=(e=f.precision)+3;;)if(c=(u=(s=n).times(s).times(s)).plus(l),n=Se(c.plus(l).times(s),c.plus(u),o+2,1),we(s.d).slice(0,o)===(r=we(n.d)).slice(0,o)){if("9999"!=(r=r.slice(o-3,o+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(Me(n,e+1,1),t=!n.times(n).times(n).eq(l));break}if(!i&&(Me(s,e+1,0),s.times(s).times(s).eq(l))){n=s;break}o+=4,i=1}return ae=!0,Me(n,e,f.rounding,t)},xe.decimalPlaces=xe.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-le(this.e/ge))*ge,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},xe.dividedBy=xe.div=function(e){return Se(this,new this.constructor(e))},xe.dividedToIntegerBy=xe.divToInt=function(e){var t=this.constructor;return Me(Se(this,new t(e),0,1,1),t.precision,t.rounding)},xe.equals=xe.eq=function(e){return 0===this.cmp(e)},xe.floor=function(){return Me(new this.constructor(this),this.e+1,3)},xe.greaterThan=xe.gt=function(e){return this.cmp(e)>0},xe.greaterThanOrEqualTo=xe.gte=function(e){var t=this.cmp(e);return 1==t||0===t},xe.hyperbolicCosine=xe.cosh=function(){var e,t,r,n,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,(i=a.d.length)<32?t=(1/qe(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=Be(o,1,a.times(t),new o(1),!0);for(var u,c=e,l=new o(8);c--;)u=a.times(a),a=s.minus(u.times(l.minus(u.times(l))));return Me(a,o.precision=r,o.rounding=n,!0)},xe.hyperbolicSine=xe.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=Be(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=Be(a,2,i=i.times(1/qe(5,e)),i,!0);for(var o,s=new a(5),u=new a(16),c=new a(20);e--;)o=i.times(i),i=i.times(s.plus(o.times(u.times(o).plus(c))))}return a.precision=t,a.rounding=r,Me(i,t,r,!0)},xe.hyperbolicTangent=xe.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,Se(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},xe.inverseCosine=xe.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,a=r.rounding;return-1!==n?0===n?t.isNeg()?Pe(r,i,a):new r(0):new r(NaN):t.isZero()?Pe(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=Pe(r,i+4,a).times(.5),r.precision=i,r.rounding=a,e.minus(t))},xe.inverseHyperbolicCosine=xe.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,ae=!1,r=r.times(r).minus(1).sqrt().plus(r),ae=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},xe.inverseHyperbolicSine=xe.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,ae=!1,r=r.times(r).plus(1).sqrt().plus(r),ae=!0,n.precision=e,n.rounding=t,r.ln())},xe.inverseHyperbolicTangent=xe.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?Me(new a(i),e,t,!0):(a.precision=r=n-i.e,i=Se(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)},xe.inverseSine=xe.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t?0===t?((e=Pe(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))},xe.inverseTangent=xe.atan=function(){var e,t,r,n,i,a,o,s,u,c=this,l=c.constructor,f=l.precision,p=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&f+4<=be)return(o=Pe(l,f+4,p).times(.25)).s=c.s,o}else{if(!c.s)return new l(NaN);if(f+4<=be)return(o=Pe(l,f+4,p).times(.5)).s=c.s,o}for(l.precision=s=f+10,l.rounding=1,e=r=Math.min(28,s/ge+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(ae=!1,t=Math.ceil(s/ge),n=1,u=c.times(c),o=new l(c),i=c;-1!==e;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),void 0!==(o=a.plus(i.div(n+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),ae=!0,Me(o,l.precision=f,l.rounding=p,!0)},xe.isFinite=function(){return!!this.d},xe.isInteger=xe.isInt=function(){return!!this.d&&le(this.e/ge)>this.d.length-2},xe.isNaN=function(){return!this.s},xe.isNegative=xe.isNeg=function(){return this.s<0},xe.isPositive=xe.isPos=function(){return this.s>0},xe.isZero=function(){return!!this.d&&0===this.d[0]},xe.lessThan=xe.lt=function(e){return this.cmp(e)<0},xe.lessThanOrEqualTo=xe.lte=function(e){return this.cmp(e)<1},xe.logarithm=xe.log=function(e){var t,r,n,i,a,o,s,u,c=this.constructor,l=c.precision,f=c.rounding;if(null==e)e=new c(10),t=!0;else{if(r=(e=new c(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new c(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(i=r[0];i%10==0;)i/=10;a=1!==i}if(ae=!1,o=De(this,s=l+5),n=t?Ce(c,s+10):De(e,s),Ne((u=Se(o,n,s,1)).d,i=l,f))do{if(o=De(this,s+=10),n=t?Ce(c,s+10):De(e,s),u=Se(o,n,s,1),!a){+we(u.d).slice(i+1,i+15)+1==1e14&&(u=Me(u,l+1,0));break}}while(Ne(u.d,i+=10,f));return ae=!0,Me(u,l,f)},xe.minus=xe.sub=function(e){var t,r,n,i,a,o,s,u,c,l,f,p,m=this,h=m.constructor;if(e=new h(e),!m.d||!e.d)return m.s&&e.s?m.d?e.s=-e.s:e=new h(e.d||m.s!==e.s?m:NaN):e=new h(NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(c=m.d,p=e.d,s=h.precision,u=h.rounding,!c[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!c[0])return new h(3===u?-0:0);e=new h(m)}return ae?Me(e,s,u):e}if(r=le(e.e/ge),l=le(m.e/ge),c=c.slice(),a=l-r){for((f=a<0)?(t=c,a=-a,o=p.length):(t=p,r=l,o=c.length),a>(n=Math.max(Math.ceil(s/ge),o)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((f=(n=c.length)<(o=p.length))&&(o=n),n=0;n<o;n++)if(c[n]!=p[n]){f=c[n]<p[n];break}a=0}for(f&&(t=c,c=p,p=t,e.s=-e.s),o=c.length,n=p.length-o;n>0;--n)c[o++]=0;for(n=p.length;n>a;){if(c[--n]<p[n]){for(i=n;i&&0===c[--i];)c[i]=ve-1;--c[i],c[n]+=ve}c[n]-=p[n]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=Oe(c,r),ae?Me(e,s,u):e):new h(3===u?-0:0)},xe.modulo=xe.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?Me(new n(r),n.precision,n.rounding):(ae=!1,9==n.modulo?(t=Se(r,e.abs(),0,3,1)).s*=e.s:t=Se(r,e,0,n.modulo,1),t=t.times(e),ae=!0,r.minus(t))},xe.naturalExponential=xe.exp=function(){return Fe(this)},xe.naturalLogarithm=xe.ln=function(){return De(this)},xe.negated=xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Me(e)},xe.plus=xe.add=function(e){var t,r,n,i,a,o,s,u,c,l,f=this,p=f.constructor;if(e=new p(e),!f.d||!e.d)return f.s&&e.s?f.d||(e=new p(e.d||f.s===e.s?f:NaN)):e=new p(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(c=f.d,l=e.d,s=p.precision,u=p.rounding,!c[0]||!l[0])return l[0]||(e=new p(f)),ae?Me(e,s,u):e;if(a=le(f.e/ge),n=le(e.e/ge),c=c.slice(),i=a-n){for(i<0?(r=c,i=-i,o=l.length):(r=l,n=a,o=c.length),i>(o=(a=Math.ceil(s/ge))>o?a+1:o+1)&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((o=c.length)-(i=l.length)<0&&(i=o,r=l,l=c,c=r),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/ve|0,c[i]%=ve;for(t&&(c.unshift(t),++n),o=c.length;0==c[--o];)c.pop();return e.d=c,e.e=Oe(c,n),ae?Me(e,s,u):e},xe.precision=xe.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(se+e);return r.d?(t=Te(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},xe.round=function(){var e=this,t=e.constructor;return Me(new t(e),e.e+1,t.rounding)},xe.sine=xe.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+ge,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return Be(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=t.times(1/qe(5,r)),t=Be(e,2,t,t);for(var i,a=new e(5),o=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(s))));return t}(n,Ue(n,r)),n.precision=e,n.rounding=t,Me(J>2?r.neg():r,e,t,!0)):new n(NaN)},xe.squareRoot=xe.sqrt=function(){var e,t,r,n,i,a,o=this,s=o.d,u=o.e,c=o.s,l=o.constructor;if(1!==c||!s||!s[0])return new l(!c||c<0&&(!s||s[0])?NaN:s?o:1/0);for(ae=!1,0==(c=Math.sqrt(+o))||c==1/0?(((t=we(s)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=le((u+1)/2)-(u<0||u%2),n=new l(t=c==1/0?"1e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new l(c.toString()),r=(u=l.precision)+3;;)if(n=(a=n).plus(Se(o,a,r+2,1)).times(.5),we(a.d).slice(0,r)===(t=we(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(Me(n,u+1,1),e=!n.times(n).eq(o));break}if(!i&&(Me(a,u+1,0),a.times(a).eq(o))){n=a;break}r+=4,i=1}return ae=!0,Me(n,u,l.rounding,e)},xe.tangent=xe.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=Se(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,Me(2==J||4==J?r.neg():r,e,t,!0)):new n(NaN)},xe.times=xe.mul=function(e){var t,r,n,i,a,o,s,u,c,l=this,f=l.constructor,p=l.d,m=(e=new f(e)).d;if(e.s*=l.s,!(p&&p[0]&&m&&m[0]))return new f(!e.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:p&&m?0*e.s:e.s/0);for(r=le(l.e/ge)+le(e.e/ge),(u=p.length)<(c=m.length)&&(a=p,p=m,m=a,o=u,u=c,c=o),a=[],n=o=u+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=u+n;i>n;)s=a[i]+m[n]*p[i-n-1]+t,a[i--]=s%ve|0,t=s/ve|0;a[i]=(a[i]+t)%ve|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=Oe(a,r),ae?Me(e,f.precision,f.rounding):e},xe.toBinary=function(e,t){return Ve(this,2,e,t)},xe.toDecimalPlaces=xe.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(_e(e,0,ee),void 0===t?t=n.rounding:_e(t,0,8),Me(r,e+r.e+1,t))},xe.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=Ae(n,!0):(_e(e,0,ee),void 0===t?t=i.rounding:_e(t,0,8),r=Ae(n=Me(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},xe.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?r=Ae(i):(_e(e,0,ee),void 0===t?t=a.rounding:_e(t,0,8),r=Ae(n=Me(new a(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},xe.toFraction=function(e){var t,r,n,i,a,o,s,u,c,l,f,p,m=this,h=m.d,d=m.constructor;if(!h)return new d(m);if(c=r=new d(1),n=u=new d(0),o=(a=(t=new d(n)).e=Te(h)-m.e-1)%ge,t.d[0]=fe(10,o<0?ge+o:o),null==e)e=a>0?t:c;else{if(!(s=new d(e)).isInt()||s.lt(c))throw Error(se+s);e=s.gt(t)?a>0?t:c:s}for(ae=!1,s=new d(we(h)),l=d.precision,d.precision=a=h.length*ge*2;f=Se(s,t,0,1,1),1!=(i=r.plus(f.times(n))).cmp(e);)r=n,n=i,i=c,c=u.plus(f.times(i)),u=i,i=t,t=s.minus(f.times(i)),s=i;return i=Se(e.minus(r),n,0,1,1),u=u.plus(i.times(c)),r=r.plus(i.times(n)),u.s=c.s=m.s,p=Se(c,n,a,1).minus(m).abs().cmp(Se(u,r,a,1).minus(m).abs())<1?[c,n]:[u,r],d.precision=l,ae=!0,p},xe.toHexadecimal=xe.toHex=function(e,t){return Ve(this,16,e,t)},xe.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:_e(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(ae=!1,r=Se(r,e,0,t,1).times(e),ae=!0,Me(r)):(e.s=r.s,r=e),r},xe.toNumber=function(){return+this},xe.toOctal=function(e,t){return Ve(this,8,e,t)},xe.toPower=xe.pow=function(e){var t,r,n,i,a,o,s=this,u=s.constructor,c=+(e=new u(e));if(!(s.d&&e.d&&s.d[0]&&e.d[0]))return new u(fe(+s,c));if((s=new u(s)).eq(1))return s;if(n=u.precision,a=u.rounding,e.eq(1))return Me(s,n,a);if((t=le(e.e/ge))>=e.d.length-1&&(r=c<0?-c:c)<=9007199254740991)return i=Re(u,s,r,n),e.s<0?new u(1).div(i):Me(i,n,a);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(r=fe(+s,c))&&isFinite(r)?new u(r+"").e:le(c*(Math.log("0."+we(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(ae=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(i=Fe(e.times(De(s,n+r)),n)).d&&Ne((i=Me(i,n+5,1)).d,n,a)&&(t=n+10,+we((i=Me(Fe(e.times(De(s,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=Me(i,n+1,0))),i.s=o,ae=!0,u.rounding=a,Me(i,n,a))},xe.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=Ae(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(_e(e,1,ee),void 0===t?t=i.rounding:_e(t,0,8),r=Ae(n=Me(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},xe.toSignificantDigits=xe.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(_e(e,1,ee),void 0===t?t=r.rounding:_e(t,0,8)),Me(new r(this),e,t)},xe.toString=function(){var e=this,t=e.constructor,r=Ae(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},xe.truncated=xe.trunc=function(){return Me(new this.constructor(this),this.e+1,1)},xe.valueOf=xe.toJSON=function(){var e=this,t=e.constructor,r=Ae(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var Se=function(){function e(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+i,e[a]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,o,s,u){var c,l,f,p,m,h,d,v,g,y,b,x,w,_,N,E,S,M,A,O,C=n.constructor,P=n.s==i.s?1:-1,T=n.d,k=i.d;if(!(T&&T[0]&&k&&k[0]))return new C(n.s&&i.s&&(T?!k||T[0]!=k[0]:k)?T&&0==T[0]||!k?0*P:P/0:NaN);for(u?(m=1,l=n.e-i.e):(u=ve,m=ge,l=le(n.e/m)-le(i.e/m)),A=k.length,S=T.length,y=(g=new C(P)).d=[],f=0;k[f]==(T[f]||0);f++);if(k[f]>(T[f]||0)&&l--,null==a?(_=a=C.precision,o=C.rounding):_=s?a+(n.e-i.e)+1:a,_<0)y.push(1),h=!0;else{if(_=_/m+2|0,f=0,1==A){for(p=0,k=k[0],_++;(f<S||p)&&_--;f++)N=p*u+(T[f]||0),y[f]=N/k|0,p=N%k|0;h=p||f<S}else{for((p=u/(k[0]+1)|0)>1&&(k=e(k,p,u),T=e(T,p,u),A=k.length,S=T.length),E=A,x=(b=T.slice(0,A)).length;x<A;)b[x++]=0;(O=k.slice()).unshift(0),M=k[0],k[1]>=u/2&&++M;do{p=0,(c=t(k,b,A,x))<0?(w=b[0],A!=x&&(w=w*u+(b[1]||0)),(p=w/M|0)>1?(p>=u&&(p=u-1),1==(c=t(d=e(k,p,u),b,v=d.length,x=b.length))&&(p--,r(d,A<v?O:k,v,u))):(0==p&&(c=p=1),d=k.slice()),(v=d.length)<x&&d.unshift(0),r(b,d,x,u),-1==c&&(c=t(k,b,A,x=b.length))<1&&(p++,r(b,A<x?O:k,x,u)),x=b.length):0===c&&(p++,b=[0]),y[f++]=p,c&&b[0]?b[x++]=T[E]||0:(b=[T[E]],x=1)}while((E++<S||void 0!==b[0])&&_--);h=void 0!==b[0]}y[0]||y.shift()}if(1==m)g.e=l,Z=h;else{for(f=1,p=y[0];p>=10;p/=10)f++;g.e=f+l*m-1,Me(g,s?a+g.e+1:a,o,h)}return g}}();function Me(e,t,r,n){var i,a,o,s,u,c,l,f,p,m=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(i=1,s=f[0];s>=10;s/=10)i++;if((a=t-i)<0)a+=ge,o=t,u=(l=f[p=0])/fe(10,i-o-1)%10|0;else if((p=Math.ceil((a+1)/ge))>=(s=f.length)){if(!n)break e;for(;s++<=p;)f.push(0);l=u=0,i=1,o=(a%=ge)-ge+1}else{for(l=s=f[p],i=1;s>=10;s/=10)i++;u=(o=(a%=ge)-ge+i)<0?0:l/fe(10,i-o-1)%10|0}if(n=n||t<0||void 0!==f[p+1]||(o<0?l:l%fe(10,i-o-1)),c=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(a>0?o>0?l/fe(10,i-o):0:f[p-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,c?(t-=e.e+1,f[0]=fe(10,(ge-t%ge)%ge),e.e=-t||0):f[0]=e.e=0,e;if(0==a?(f.length=p,s=1,p--):(f.length=p+1,s=fe(10,ge-a),f[p]=o>0?(l/fe(10,i-o)%fe(10,o)|0)*s:0),c)for(;;){if(0==p){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,f[0]==ve&&(f[0]=1));break}if(f[p]+=s,f[p]!=ve)break;f[p--]=0,s=1}for(a=f.length;0===f[--a];)f.pop()}return ae&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e}function Ae(e,t,r){if(!e.isFinite())return $e(e);var n,i=e.e,a=we(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+ke(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+ke(-i-1)+a,r&&(n=r-o)>0&&(a+=ke(n))):i>=o?(a+=ke(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+ke(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=ke(n))),a}function Oe(e,t){var r=e[0];for(t*=ge;r>=10;r/=10)t++;return t}function Ce(e,t,r){if(t>ye)throw ae=!0,r&&(e.precision=r),Error(ue);return Me(new e(re),t,1,!0)}function Pe(e,t,r){if(t>be)throw Error(ue);return Me(new e(ne),t,r,!0)}function Te(e){var t=e.length-1,r=t*ge+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function ke(e){for(var t="";e--;)t+="0";return t}function Re(e,t,r,n){var i,a=new e(1),o=Math.ceil(n/ge+4);for(ae=!1;;){if(r%2&&He((a=a.times(t)).d,o)&&(i=!0),0===(r=le(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}He((t=t.times(t)).d,o)}return ae=!0,a}function Ie(e){return 1&e.d[e.d.length-1]}function je(e,t,r){for(var n,i=new e(t[0]),a=0;++a<t.length;){if(!(n=new e(t[a])).s){i=n;break}i[r](n)&&(i=n)}return i}function Fe(e,t){var r,n,i,a,o,s,u,c=0,l=0,f=0,p=e.constructor,m=p.rounding,h=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(ae=!1,u=h):u=t,s=new p(.03125);e.e>-2;)e=e.times(s),f+=5;for(u+=n=Math.log(fe(2,f))/Math.LN10*2+5|0,r=a=o=new p(1),p.precision=u;;){if(a=Me(a.times(e),u,1),r=r.times(++l),we((s=o.plus(Se(a,r,u,1))).d).slice(0,u)===we(o.d).slice(0,u)){for(i=f;i--;)o=Me(o.times(o),u,1);if(null!=t)return p.precision=h,o;if(!(c<3&&Ne(o.d,u-n,m,c)))return Me(o,p.precision=h,m,ae=!0);p.precision=u+=10,r=a=s=new p(1),l=0,c++}o=s}}function De(e,t){var r,n,i,a,o,s,u,c,l,f,p,m=1,h=e,d=h.d,v=h.constructor,g=v.rounding,y=v.precision;if(h.s<0||!d||!d[0]||!h.e&&1==d[0]&&1==d.length)return new v(d&&!d[0]?-1/0:1!=h.s?NaN:d?0:h);if(null==t?(ae=!1,l=y):l=t,v.precision=l+=10,n=(r=we(d)).charAt(0),!(Math.abs(a=h.e)<15e14))return c=Ce(v,l+2,y).times(a+""),h=De(new v(n+"."+r.slice(1)),l-10).plus(c),v.precision=y,null==t?Me(h,y,g,ae=!0):h;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=we((h=h.times(e)).d)).charAt(0),m++;for(a=h.e,n>1?(h=new v("0."+r),a++):h=new v(n+"."+r.slice(1)),f=h,u=o=h=Se(h.minus(1),h.plus(1),l,1),p=Me(h.times(h),l,1),i=3;;){if(o=Me(o.times(p),l,1),we((c=u.plus(Se(o,new v(i),l,1))).d).slice(0,l)===we(u.d).slice(0,l)){if(u=u.times(2),0!==a&&(u=u.plus(Ce(v,l+2,y).times(a+""))),u=Se(u,new v(m),l,1),null!=t)return v.precision=y,u;if(!Ne(u.d,l-10,g,s))return Me(u,v.precision=y,g,ae=!0);v.precision=l+=10,c=o=h=Se(f.minus(1),f.plus(1),l,1),p=Me(h.times(h),l,1),i=s=1}u=c,i+=2}}function $e(e){return String(e.s*e.s/0)}function ze(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%ge,r<0&&(n+=ge),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ge;n<i;)e.d.push(+t.slice(n,n+=ge));t=t.slice(n),n=ge-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),ae&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Le(e,t){var r,n,i,a,o,s,u,c,l;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(me.test(t))r=16,t=t.toLowerCase();else if(pe.test(t))r=2;else{if(!he.test(t))throw Error(se+t);r=8}for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,n=e.constructor,o&&(a=(s=(t=t.replace(".","")).length)-a,i=Re(n,new n(r),a,2*a)),a=l=(c=Ee(t,r,ve)).length-1;0===c[a];--a)c.pop();return a<0?new n(0*e.s):(e.e=Oe(c,l),e.d=c,ae=!1,o&&(e=Se(e,i,4*s)),u&&(e=e.times(Math.abs(u)<54?fe(2,u):Pt.pow(2,u))),ae=!0,e)}function Be(e,t,r,n,i){var a,o,s,u,c=e.precision,l=Math.ceil(c/ge);for(ae=!1,u=r.times(r),s=new e(n);;){if(o=Se(s.times(u),new e(t++*t++),c,1),s=i?n.plus(o):n.minus(o),n=Se(o.times(u),new e(t++*t++),c,1),void 0!==(o=s.plus(n)).d[l]){for(a=l;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=n,n=o,o=a}return ae=!0,o.d.length=l+1,o}function qe(e,t){for(var r=e;--t;)r*=e;return r}function Ue(e,t){var r,n=t.s<0,i=Pe(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return J=n?4:1,t;if((r=t.divToInt(i)).isZero())J=n?3:2;else{if((t=t.minus(r.times(i))).lte(a))return J=Ie(r)?n?2:3:n?4:1,t;J=Ie(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Ve(e,t,r,n){var i,a,o,s,u,c,l,f,p,m=e.constructor,h=void 0!==r;if(h?(_e(r,1,ee),void 0===n?n=m.rounding:_e(n,0,8)):(r=m.precision,n=m.rounding),e.isFinite()){for(h?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,(o=(l=Ae(e)).indexOf("."))>=0&&(l=l.replace(".",""),(p=new m(1)).e=l.length-o,p.d=Ee(Ae(p),10,i),p.e=p.d.length),a=u=(f=Ee(l,10,i)).length;0==f[--u];)f.pop();if(f[0]){if(o<0?a--:((e=new m(e)).d=f,e.e=a,f=(e=Se(e,p,r,n,0,i)).d,a=e.e,c=Z),o=f[r],s=i/2,c=c||void 0!==f[r+1],c=n<4?(void 0!==o||c)&&(0===n||n===(e.s<0?3:2)):o>s||o===s&&(4===n||c||6===n&&1&f[r-1]||n===(e.s<0?8:7)),f.length=r,c)for(;++f[--r]>i-1;)f[r]=0,r||(++a,f.unshift(1));for(u=f.length;!f[u-1];--u);for(o=0,l="";o<u;o++)l+=te.charAt(f[o]);if(h){if(u>1)if(16==t||8==t){for(o=16==t?4:3,--u;u%o;u++)l+="0";for(u=(f=Ee(l,i,t)).length;!f[u-1];--u);for(o=1,l="1.";o<u;o++)l+=te.charAt(f[o])}else l=l.charAt(0)+"."+l.slice(1);l=l+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)l="0"+l;l="0."+l}else if(++a>u)for(a-=u;a--;)l+="0";else a<u&&(l=l.slice(0,a)+"."+l.slice(a))}else l=h?"0p+0":"0";l=(16==t?"0x":2==t?"0b":8==t?"0o":"")+l}else l=$e(e);return e.s<0?"-"+l:l}function He(e,t){if(e.length>t)return e.length=t,!0}function We(e){return new this(e).abs()}function Ge(e){return new this(e).acos()}function Ze(e){return new this(e).acosh()}function Je(e,t){return new this(e).plus(t)}function Qe(e){return new this(e).asin()}function Ke(e){return new this(e).asinh()}function Ye(e){return new this(e).atan()}function Xe(e){return new this(e).atanh()}function et(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?Pe(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=Pe(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(Se(e,t,a,1)),t=Pe(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Se(e,t,a,1)):(r=Pe(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function tt(e){return new this(e).cbrt()}function rt(e){return Me(e=new this(e),e.e+1,2)}function nt(e){if(!e||"object"!=typeof e)throw Error(oe+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,ee,"rounding",0,8,"toExpNeg",-X,0,"toExpPos",0,X,"maxE",0,X,"minE",-X,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=ie[r]),void 0!==(n=e[r])){if(!(le(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(se+r+": "+n);this[r]=n}if(r="crypto",i&&(this[r]=ie[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(se+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(ce);this[r]=!0}else this[r]=!1}return this}function it(e){return new this(e).cos()}function at(e){return new this(e).cosh()}function ot(e,t){return new this(e).div(t)}function st(e){return new this(e).exp()}function ut(e){return Me(e=new this(e),e.e+1,3)}function ct(){var e,t,r=new this(0);for(ae=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return ae=!0,new this(1/0);r=t}return ae=!0,r.sqrt()}function lt(e){return e instanceof Pt||e&&"[object Decimal]"===e.name||!1}function ft(e){return new this(e).ln()}function pt(e,t){return new this(e).log(t)}function mt(e){return new this(e).log(2)}function ht(e){return new this(e).log(10)}function dt(){return je(this,arguments,"lt")}function vt(){return je(this,arguments,"gt")}function gt(e,t){return new this(e).mod(t)}function yt(e,t){return new this(e).mul(t)}function bt(e,t){return new this(e).pow(t)}function xt(e){var t,r,n,i,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:_e(e,1,ee),n=Math.ceil(e/ge),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error(ce);for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(i%1e7),a+=4);a=n/4}else for(;a<n;)s[a++]=1e7*Math.random()|0;for(n=s[--a],e%=ge,n&&e&&(i=fe(10,ge-e),s[a]=(n/i|0)*i);0===s[a];a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=ge)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<ge&&(r-=ge-n)}return o.e=r,o.d=s,o}function wt(e){return Me(e=new this(e),e.e+1,this.rounding)}function _t(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Nt(e){return new this(e).sin()}function Et(e){return new this(e).sinh()}function St(e){return new this(e).sqrt()}function Mt(e,t){return new this(e).sub(t)}function At(e){return new this(e).tan()}function Ot(e){return new this(e).tanh()}function Ct(e){return Me(e=new this(e),e.e+1,1)}xe[Symbol.for("nodejs.util.inspect.custom")]=xe.toString,xe[Symbol.toStringTag]="Decimal";var Pt=function e(t){var r,n,i;function a(e){var t,r,n,i=this;if(!(i instanceof a))return new a(e);if(i.constructor=a,e instanceof a)return i.s=e.s,void(ae?!e.d||e.e>a.maxE?(i.e=NaN,i.d=null):e.e<a.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"==(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;return void(ae?t>a.maxE?(i.e=NaN,i.d=null):t<a.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):ze(i,e.toString())}if("string"!==n)throw Error(se+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===r&&(e=e.slice(1)),i.s=1),de.test(e)?ze(i,e):Le(i,e)}if(a.prototype=xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=nt,a.clone=e,a.isDecimal=lt,a.abs=We,a.acos=Ge,a.acosh=Ze,a.add=Je,a.asin=Qe,a.asinh=Ke,a.atan=Ye,a.atanh=Xe,a.atan2=et,a.cbrt=tt,a.ceil=rt,a.cos=it,a.cosh=at,a.div=ot,a.exp=st,a.floor=ut,a.hypot=ct,a.ln=ft,a.log=pt,a.log10=ht,a.log2=mt,a.max=dt,a.min=vt,a.mod=gt,a.mul=yt,a.pow=bt,a.random=xt,a.round=wt,a.sign=_t,a.sin=Nt,a.sinh=Et,a.sqrt=St,a.sub=Mt,a.tan=At,a.tanh=Ot,a.trunc=Ct,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(ie);re=new Pt(re),ne=new Pt(ne);var Tt=y(Object.freeze({Decimal:Pt,default:Pt})),kt=g(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.factory=function(e,t,r,i,a){var o=n.default.clone({precision:t.precision});return o.prototype.type="BigNumber",o.prototype.isBigNumber=!0,o.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},o.fromJSON=function(e){return new o(e.value)},a.on("config",function(e,t){e.precision!==t.precision&&o.config({precision:e.precision})}),o},t.math=t.path=t.name=void 0;var r,n=(r=Tt)&&r.__esModule?r:{default:r};t.name="BigNumber";t.path="type";t.math=!0});v(kt);kt.factory,kt.math,kt.path,kt.name;var Rt=function e(t,r,n){return t&&"function"==typeof t.map?t.map(function(t){return e(t,r)}):r(t)};var It={name:"bignumber",factory:function(e,t,r,n){var i=n("bignumber",{"":function(){return new e.BigNumber(0)},number:function(t){return new e.BigNumber(t+"")},string:function(t){return new e.BigNumber(t)},BigNumber:function(e){return e},Fraction:function(t){return new e.BigNumber(t.n).div(t.d).times(t.s)},null:function(t){return new e.BigNumber(0)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)"},i}},jt=[kt,It];var Ft={name:"boolean",factory:function(e,t,r,n){var i=n("bool",{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var r=Number(e);if(""!==e&&!isNaN(r))return!!r;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return Rt(e,i)}});return i}},Dt=g(function(e,t){t.format=function(e,r){if("function"==typeof r)return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n,i="auto";switch(void 0!==r&&(r.notation&&(i=r.notation),"number"==typeof r?n=r:r.precision&&(n=r.precision)),i){case"fixed":return t.toFixed(e,n);case"exponential":return t.toExponential(e,n);case"engineering":return t.toEngineering(e,n);case"auto":if(r&&r.exponential&&(void 0!==r.exponential.lower||void 0!==r.exponential.upper)){var a=O.map(r,function(e){return e});return a.exponential=void 0,void 0!==r.exponential.lower&&(a.lowerExp=Math.round(Math.log(r.exponential.lower)/Math.LN10)),void 0!==r.exponential.upper&&(a.upperExp=Math.round(Math.log(r.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(r)+" with "+JSON.stringify(a)),t.format(e,a)}var o=r&&void 0!==r.lowerExp?r.lowerExp:-3,s=r&&void 0!==r.upperExp?r.upperExp:5;if(e.isZero())return"0";var u=e.e;return(u>=o&&u<s?e.toSignificantDigits(n).toFixed():t.toExponential(e,n)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},t.toEngineering=function(e,t){var r=e.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),a=i.toPrecision(t);return-1!==a.indexOf("e")&&(a=i.toString()),a+"e"+(r>=0?"+":"")+n.toString()},t.toExponential=function(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()},t.toFixed=function(e,t){return e.toFixed(t)}}),$t=(Dt.format,Dt.toEngineering,Dt.toExponential,Dt.toFixed,g(function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=P.format,i=Dt.format;t.isString=function(e){return"string"==typeof e},t.endsWith=function(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t},t.format=function(e,a){if("number"==typeof e)return n(e,a);if(A(e))return i(e,a);if(function(e){return e&&"object"===r(e)&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}(e))return a&&"decimal"===a.fraction?e.toString():e.s*e.n+"/"+e.d;if(Array.isArray(e))return function e(r,n){if(Array.isArray(r)){for(var i="[",a=r.length,o=0;o<a;o++)0!==o&&(i+=", "),i+=e(r[o],n);return i+="]"}return t.format(r,n)}(e,a);if(t.isString(e))return'"'+e+'"';if("function"==typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"===r(e)){if("function"==typeof e.format)return e.format(a);if(e&&e.toString()!=={}.toString())return e.toString();var o=[];for(var s in e)e.hasOwnProperty(s)&&o.push('"'+s+'": '+t.format(e[s],a));return"{"+o.join(", ")+"}"}return String(e)},t.stringify=function(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);"\\"===i?(r+=i,n++,""!==(i=t.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++}return'"'+r+'"'},t.escape=function(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}})),zt=($t.isString,$t.endsWith,$t.format,$t.stringify,$t.escape,$t.format),Lt=O.lazy;var Bt=[{name:"Chain",path:"type",factory:function(e,t,r,n,i){function a(t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");e.isChain(t)?this.value=t.value:this.value=t}function o(e,t){"function"==typeof t&&(a.prototype[e]=s(t))}function s(e){return function(){for(var t=[this.value],r=0;r<arguments.length;r++)t[r+1]=arguments[r];return new a(e.apply(e,t))}}return a.prototype.type="Chain",a.prototype.isChain=!0,a.prototype.done=function(){return this.value},a.prototype.valueOf=function(){return this.value},a.prototype.toString=function(){return zt(this.value)},a.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},a.fromJSON=function(e){return new a(e.value)},a.createProxy=function(e,t){if("string"==typeof e)o(e,t);else for(var r in e)e.hasOwnProperty(r)&&o(r,e[r])},a.createProxy(i),i.on("import",function(e,t,r){void 0===r&&function(e,t){Lt(a.prototype,e,function(){var e=t();if("function"==typeof e)return s(e)})}(e,t)}),a},math:!0,lazy:!1},{name:"chain",factory:function(e,t,r,n){return n("chain",{"":function(){return new e.Chain},any:function(t){return new e.Chain(t)}})}}],qt=g(function(e,t){!function(r){var n=function(e){return.5*(Math.exp(e)+Math.exp(-e))},i=function(e){return.5*(Math.exp(e)-Math.exp(-e))},a=function(){throw SyntaxError("Invalid Param")};function o(e,t){var r=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(r):r<3e3&&n<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}var s=function(e,t){var r={re:0,im:0};if(null==e)r.re=r.im=0;else if(void 0!==t)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return u.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return u.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else 2===e.length?(r.re=e[0],r.im=e[1]):a();break;case"string":r.im=r.re=0;var n=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,o=0;null===n&&a();for(var s=0;s<n.length;s++){var c=n[s];" "===c||"\t"===c||"\n"===c||("+"===c?i++:"-"===c?o++:"i"===c||"I"===c?(i+o===0&&a()," "===n[s+1]||isNaN(n[s+1])?r.im+=parseFloat((o%2?"-":"")+"1"):(r.im+=parseFloat((o%2?"-":"")+n[s+1]),s++),i=o=0):((i+o===0||isNaN(c))&&a(),"i"===n[s+1]||"I"===n[s+1]?(r.im+=parseFloat((o%2?"-":"")+c),s++):r.re+=parseFloat((o%2?"-":"")+c),i=o=0))}i+o>0&&a();break;case"number":r.im=0,r.re=e;break;default:a()}return r};function u(e,t){if(!(this instanceof u))return new u(e,t);var r=s(e,t);this.re=r.re,this.im=r.im}u.prototype={re:0,im:0,sign:function(){var e=this.abs();return new u(this.re/e,this.im/e)},add:function(e,t){var r=new u(e,t);return this.isInfinite()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:new u(this.re+r.re,this.im+r.im)},sub:function(e,t){var r=new u(e,t);return this.isInfinite()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:new u(this.re-r.re,this.im-r.im)},mul:function(e,t){var r=new u(e,t);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:0===r.im&&0===this.im?new u(this.re*r.re,0):new u(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){var r=new u(e,t);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return u.NAN;if(this.isInfinite()||r.isZero())return u.INFINITY;if(this.isZero()||r.isInfinite())return u.ZERO;e=this.re,t=this.im;var n,i,a=r.re,o=r.im;return 0===o?new u(e/a,t/a):Math.abs(a)<Math.abs(o)?new u((e*(i=a/o)+t)/(n=a*i+o),(t*i-e)/n):new u((e+t*(i=o/a))/(n=o*i+a),(t-e*i)/n)},pow:function(e,t){var r=new u(e,t);if(e=this.re,t=this.im,r.isZero())return u.ONE;if(0===r.im){if(0===t&&e>=0)return new u(Math.pow(e,r.re),0);if(0===e)switch((r.re%4+4)%4){case 0:return new u(Math.pow(t,r.re),0);case 1:return new u(0,Math.pow(t,r.re));case 2:return new u(-Math.pow(t,r.re),0);case 3:return new u(0,-Math.pow(t,r.re))}}if(0===e&&0===t&&r.re>0&&r.im>=0)return u.ZERO;var n=Math.atan2(t,e),i=o(e,t);return e=Math.exp(r.re*i-r.im*n),t=r.im*i+r.re*n,new u(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,r=this.re,n=this.im,i=this.abs();if(r>=0){if(0===n)return new u(Math.sqrt(r),0);e=.5*Math.sqrt(2*(i+r))}else e=Math.abs(n)/Math.sqrt(2*(i-r));return t=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new u(e,n<0?-t:t)},exp:function(){var e=Math.exp(this.re);return this.im,new u(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new u(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||e>t)return Math.cos(e)-1;var r=e*e;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new u(o(e,t),Math.atan2(t,e))},abs:function(){return e=this.re,t=this.im,r=Math.abs(e),n=Math.abs(t),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=e/t):n=t/e,r*Math.sqrt(1+n*n));var e,t,r,n},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new u(Math.sin(e)*n(t),Math.cos(e)*i(t))},cos:function(){var e=this.re,t=this.im;return new u(Math.cos(e)*n(t),-Math.sin(e)*i(t))},tan:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)+n(t);return new u(Math.sin(e)/r,i(t)/r)},cot:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)-n(t);return new u(-Math.sin(e)/r,i(t)/r)},sec:function(){var e=this.re,t=this.im,r=.5*n(2*t)+.5*Math.cos(2*e);return new u(Math.cos(e)*n(t)/r,Math.sin(e)*i(t)/r)},csc:function(){var e=this.re,t=this.im,r=.5*n(2*t)-.5*Math.cos(2*e);return new u(Math.sin(e)*n(t)/r,-Math.cos(e)*i(t)/r)},asin:function(){var e=this.re,t=this.im,r=new u(t*t-e*e+1,-2*e*t).sqrt(),n=new u(r.re-t,r.im+e).log();return new u(n.im,-n.re)},acos:function(){var e=this.re,t=this.im,r=new u(t*t-e*e+1,-2*e*t).sqrt(),n=new u(r.re-t,r.im+e).log();return new u(Math.PI/2-n.im,n.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new u(0,1/0);if(-1===t)return new u(0,-1/0)}var r=e*e+(1-t)*(1-t),n=new u((1-t*t-e*e)/r,-2*e/r).log();return new u(-.5*n.im,.5*n.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new u(Math.atan2(1,e),0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).atan():new u(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,1/0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).acos():new u(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(Math.PI/2,1/0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).asin():new u(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new u(i(e)*Math.cos(t),n(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new u(n(e)*Math.cos(t),i(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,r=n(e)+Math.cos(t);return new u(i(e)/r,Math.sin(t)/r)},coth:function(){var e=2*this.re,t=2*this.im,r=n(e)-Math.cos(t);return new u(i(e)/r,-Math.sin(t)/r)},csch:function(){var e=this.re,t=this.im,r=Math.cos(2*t)-n(2*e);return new u(-2*i(e)*Math.cos(t)/r,2*n(e)*Math.sin(t)/r)},sech:function(){var e=this.re,t=this.im,r=Math.cos(2*t)+n(2*e);return new u(2*n(e)*Math.cos(t)/r,-2*i(e)*Math.sin(t)/r)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else{t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){var e=this.re,t=this.im,r=e>1&&0===t,n=1-e,i=1+e,a=n*n+t*t,s=0!==a?new u((i*n-t*t)/a,(t*n+i*t)/a):new u(-1!==e?e/0:0,0!==t?t/0:0),c=s.re;return s.re=o(s.re,s.im)/2,s.im=Math.atan2(s.im,c)/2,r&&(s.im=-s.im),s},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,Math.PI/2);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).atanh():new u(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new u(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).asinh():new u(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return u.INFINITY;var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).acosh():new u(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var e=this.re,t=this.im,r=e*e+t*t;return new u(e/r,-t/r)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new u(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new u(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new u(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var r=new u(e,t);return Math.abs(r.re-this.re)<=u.EPSILON&&Math.abs(r.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==e&&(r+=e),0!==t&&(0!==e?r+=t<0?" - ":" + ":t<0&&(r+="-"),1!==(t=Math.abs(t))&&(r+=t),r+="i"),r||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-16,Object.defineProperty(t,"__esModule",{value:!0}),u.default=u,u.Complex=u,e.exports=u}()});function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}v(qt);var Vt=P.format,Ht=P.isNumber;var Wt={name:"Complex",path:"type",factory:function(e,t,r,n,i){return qt.prototype.type="Complex",qt.prototype.isComplex=!0,qt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},qt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},qt.prototype.format=function(e){var t=this.im,r=this.re,n=Vt(this.re,e),i=Vt(this.im,e),a=Ht(e)?e:e?e.precision:null;if(null!==a){var o=Math.pow(10,-a);Math.abs(r/t)<o&&(r=0),Math.abs(t/r)<o&&(t=0)}return 0===t?n:0===r?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?n+" - i":n+" - "+i.substring(1)+"i":1===t?n+" + i":n+" + "+i+"i"},qt.fromPolar=function(t){switch(arguments.length){case 1:var r=arguments[0];if("object"===Ut(r))return qt(r);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],i=arguments[1];if(Ht(n)){if(e.isUnit(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),Ht(i))return new qt({r:n,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},qt.prototype.valueOf=qt.prototype.toString,qt.fromJSON=function(e){return new qt(e)},qt.EPSILON=t.epsilon,i.on("config",function(e,t){e.epsilon!==t.epsilon&&(qt.EPSILON=e.epsilon)}),qt.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},qt},math:!0},Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zt={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},Jt={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},Qt=function(e,t){return Gt({},e,t)},Kt=g(function(e,t){t.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},t.operators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},t.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var r={deg:"^\\circ"};t.escape=function(e){return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.preserveFormatting,n=void 0!==r&&r,i=t.escapeMapFn,a=void 0===i?Qt:i,o=String(e),s="",u=a(Gt({},Zt),n?Gt({},Jt):{}),c=Object.keys(u),l=function(){var e=!1;c.forEach(function(t,r){e||o.length>=t.length&&o.slice(0,t.length)===t&&(s+=u[c[r]],o=o.slice(t.length,o.length),e=!0)}),e||(s+=o.slice(0,1),o=o.slice(1,o.length))};o;)l();return s}(e,{preserveFormatting:!0})},t.toSymbol=function(e,n){return(n=void 0!==n&&n)?r.hasOwnProperty(e)?r[e]:"\\mathrm{"+t.escape(e)+"}":t.symbols.hasOwnProperty(e)?t.symbols[e]:t.escape(e)}});Kt.symbols,Kt.operators,Kt.defaultTemplate,Kt.escape,Kt.toSymbol;var Yt=[Wt,{name:"complex",factory:function(e,t,r,n){var i=Kt,a=n("complex",{"":function(){return e.Complex.ZERO},number:function(t){return new e.Complex(t,0)},"number, number":function(t,r){return new e.Complex(t,r)},"BigNumber, BigNumber":function(t,r){return new e.Complex(t.toNumber(),r.toNumber())},Complex:function(e){return e.clone()},string:function(t){return e.Complex(t)},null:function(t){return e.Complex(0)},Object:function(t){if("re"in t&&"im"in t)return new e.Complex(t.re,t.im);if("r"in t&&"phi"in t||"abs"in t&&"arg"in t)return new e.Complex(t);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(e){return Rt(e,a)}});return a.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(i.symbols.i,"\\cdot\\left(${args[1]}\\right)\\right)")},a}}],Xt=g(function(e,t){!function(r){var n=2e3,i={s:1,n:0,d:1};function a(e){function t(){var t=Error.apply(this,arguments);t.name=this.name=e,this.stack=t.stack,this.message=t.message}function r(){}return r.prototype=Error.prototype,t.prototype=new r,t}var o=p.DivisionByZero=a("DivisionByZero"),s=p.InvalidParameter=a("InvalidParameter");function u(e,t){return isNaN(e=parseInt(e,10))&&c(),e*t}function c(){throw new s}var l=function(e,t){var r,n=0,a=1,s=1,l=0,f=0,p=0,m=1,h=1,d=0,v=1,g=1,y=1,b=1e7;if(null==e);else if(void 0!==t)s=(n=e)*(a=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(n=e.n,a=e.d,"s"in e&&(n*=e.s)):0 in e?(n=e[0],1 in e&&(a=e[1])):c(),s=n*a;break;case"number":if(e<0&&(s=e,e=-e),e%1==0)n=e;else if(e>0){for(e>=1&&(e/=h=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));v<=b&&y<=b;){if(e===(r=(d+g)/(v+y))){v+y<=b?(n=d+g,a=v+y):y>v?(n=g,a=y):(n=d,a=v);break}e>r?(d+=g,v+=y):(g+=d,y+=v),v>b?(n=g,a=y):(n=d,a=v)}n*=h}else(isNaN(e)||isNaN(t))&&(a=n=NaN);break;case"string":if(null===(v=e.match(/\d+|./g))&&c(),"-"===v[d]?(s=-1,d++):"+"===v[d]&&d++,v.length===d+1?f=u(v[d++],s):"."===v[d+1]||"."===v[d]?("."!==v[d]&&(l=u(v[d++],s)),(++d+1===v.length||"("===v[d+1]&&")"===v[d+3]||"'"===v[d+1]&&"'"===v[d+3])&&(f=u(v[d],s),m=Math.pow(10,v[d].length),d++),("("===v[d]&&")"===v[d+2]||"'"===v[d]&&"'"===v[d+2])&&(p=u(v[d+1],s),h=Math.pow(10,v[d+1].length)-1,d+=3)):"/"===v[d+1]||":"===v[d+1]?(f=u(v[d],s),m=u(v[d+2],1),d+=3):"/"===v[d+3]&&" "===v[d+1]&&(l=u(v[d],s),f=u(v[d+2],s),m=u(v[d+4],1),d+=5),v.length<=d){s=n=p+(a=m*h)*l+h*f;break}default:c()}if(0===a)throw new o;i.s=s<0?-1:1,i.n=Math.abs(n),i.d=Math.abs(a)};function f(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function p(e,t){if(!(this instanceof p))return new p(e,t);l(e,t),e=p.REDUCE?f(i.d,i.n):1,this.s=i.s,this.n=i.n/e,this.d=i.d/e}p.REDUCE=1,p.prototype={s:1,n:0,d:1,abs:function(){return new p(this.n,this.d)},neg:function(){return new p(-this.s*this.n,this.d)},add:function(e,t){return l(e,t),new p(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(e,t){return l(e,t),new p(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(e,t){return l(e,t),new p(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(e,t){return l(e,t),new p(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return new p(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new p(NaN):void 0===e?new p(this.s*this.n%this.d,1):(l(e,t),0===i.n&&0===this.d&&p(0,0),new p(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function(e,t){return l(e,t),new p(f(i.n,this.n)*f(i.d,this.d),i.d*this.d)},lcm:function(e,t){return l(e,t),0===i.n&&0===this.n?new p:new p(i.n*this.n,f(i.n,this.n)*f(i.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):new p(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new p(this.s*this.d,this.n)},pow:function(e){return e<0?new p(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new p(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return l(e,t),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(e,t){l(e,t);var r=this.s*this.n*i.d-i.s*i.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();function r(e){return 1===e.length?new p(e[0]):r(e.slice(1)).inverse().add(e[0])}e=e||.001;for(var n=0;n<t.length;n++){var i=r(t.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<e)return i.mul(this.s)}return this},divisible:function(e,t){return l(e,t),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&(t=Math.floor(n/i))>0&&(r+=t,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&(t=Math.floor(n/i))>0&&(r+=t,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var e,t=this.n,r=this.d,n=[];if(isNaN(this.n)||isNaN(this.d))return n;do{n.push(Math.floor(t/r)),e=t%r,t=r,r=e}while(1!==t);return n},toString:function(e){var t,r=this.n,i=this.d;if(isNaN(r)||isNaN(i))return"NaN";p.REDUCE||(r/=t=f(r,i),i/=t),e=e||15;var a=function(e,t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var r=10%t,i=1;1!==r;i++)if(r=10*r%t,i>n)return 0;return i}(0,i),o=function(e,t,r){for(var n=1,i=function(e,t,r){for(var n=1;t>0;e=e*e%r,t>>=1)1&t&&(n=n*e%r);return n}(10,r,t),a=0;a<300;a++){if(n===i)return a;n=10*n%t,i=10*i%t}return 0}(0,i,a),s=-1===this.s?"-":"";if(s+=r/i|0,r%=i,(r*=10)&&(s+="."),a){for(var u=o;u--;)s+=r/i|0,r%=i,r*=10;s+="(";for(u=a;u--;)s+=r/i|0,r%=i,r*=10;s+=")"}else for(u=e;r&&u--;)s+=r/i|0,r%=i,r*=10;return s}},Object.defineProperty(t,"__esModule",{value:!0}),p.default=p,p.Fraction=p,e.exports=p}()});v(Xt),Xt.prototype.type="Fraction",Xt.prototype.isFraction=!0,Xt.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Xt.fromJSON=function(e){return new Xt(e)};var er={name:"fraction",factory:function(e,t,r,n){var i=n("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new e.Fraction(t)},string:function(t){return new e.Fraction(t)},"number, number":function(t,r){return new e.Fraction(t,r)},null:function(t){return new e.Fraction(0)},BigNumber:function(t){return new e.Fraction(t.toString())},Fraction:function(e){return e},Object:function(t){return new e.Fraction(t)},"Array | Matrix":function(e){return Rt(e,i)}});return i}},tr=[{name:"Fraction",path:"type",factory:function(e,t,r,n){return Xt}},er];function rr(e,t,r){if(!(this instanceof rr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}rr.prototype=new RangeError,rr.prototype.constructor=RangeError,rr.prototype.name="DimensionError",rr.prototype.isDimensionError=!0;var nr=rr;function ir(e,t,r){if(!(this instanceof ir))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}ir.prototype=new RangeError,ir.prototype.constructor=RangeError,ir.prototype.name="IndexError",ir.prototype.isIndexError=!0;var ar=ir,or=g(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.size=s,t.validate=function(e,t){if(0===t.length){if(Array.isArray(e))throw new i.default(e.length,0)}else!function e(t,r,n){var a;var o=t.length;if(o!==r[n])throw new i.default(o,r[n]);if(n<r.length-1){var s=n+1;for(a=0;a<o;a++){var u=t[a];if(!Array.isArray(u))throw new i.default(r.length-1,r.length,"<");e(t[a],r,s)}}else for(a=0;a<o;a++)if(Array.isArray(t[a]))throw new i.default(r.length+1,r.length,">")}(e,t,0)},t.validateIndex=function(e,t){if(!r.default.isNumber(e)||!r.default.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new a.default(e,t)},t.resize=function(e,t,i){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");t.forEach(function(e){if(!r.default.isNumber(e)||!r.default.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+n.default.format(t)+")")});var a=void 0!==i?i:0;return function e(t,r,n,i){var a,o,s=t.length,u=r[n],c=Math.min(s,u);if(t.length=u,n<r.length-1){var l=n+1;for(a=0;a<c;a++)o=t[a],Array.isArray(o)||(o=[o],t[a]=o),e(o,r,l,i);for(a=c;a<u;a++)o=[],t[a]=o,e(o,r,l,i)}else{for(a=0;a<c;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];for(a=c;a<u;a++)t[a]=i}}(e,t,0,a),e},t.reshape=function(e,t){var r,n=u(e);function a(e){return e.reduce(function(e,t){return e*t})}if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new i.default(0,a(s(e)),"!=");for(var o=1,c=0;c<t.length;c++)o*=t[c];if(n.length!==o)throw new i.default(a(t),a(s(e)),"!=");try{r=function(e,t){for(var r,n=e,i=t.length-1;i>0;i--){var a=t[i];r=[];for(var o=n.length/a,s=0;s<o;s++)r.push(n.slice(s*a,(s+1)*a));n=r}return n}(n,t)}catch(r){if(r instanceof i.default)throw new i.default(a(t),a(s(e)),"!=");throw r}return r},t.squeeze=function(e,t){var r=t||s(e);for(;Array.isArray(e)&&1===e.length;)e=e[0],r.shift();var n=r.length;for(;1===r[n-1];)n--;n<r.length&&(e=function e(t,r,n){var i,a;if(n<r){var o=n+1;for(i=0,a=t.length;i<a;i++)t[i]=e(t[i],r,o)}else for(;Array.isArray(t);)t=t[0];return t}(e,n,0),r.length=n);return e},t.unsqueeze=function(e,t,r,n){var i=n||s(e);if(r)for(var a=0;a<r;a++)e=[e],i.unshift(1);e=function e(t,r,n){var i,a;if(Array.isArray(t)){var o=n+1;for(i=0,a=t.length;i<a;i++)t[i]=e(t[i],r,o)}else for(var s=n;s<r;s++)t=[t];return t}(e,t,0);for(;i.length<t;)i.push(1);return e},t.flatten=u,t.map=function(e,t){return Array.prototype.map.call(e,t)},t.forEach=function(e,t){Array.prototype.forEach.call(e,t)},t.filter=function(e,t){if(1!==s(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)},t.filterRegExp=function(e,t){if(1!==s(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,function(e){return t.test(e)})},t.join=function(e,t){return Array.prototype.join.call(e,t)},t.identify=function(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],r=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?r++:r=0,t.push({value:e[n],identifier:r});return t},t.generalize=function(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],r=0;r<e.length;r++)t.push(e[r].value);return t};var r=o(P),n=o($t),i=o(nr),a=o(ar);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function u(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function e(r){Array.isArray(r)?r.forEach(e):t.push(r)}),t}});v(or);or.size,or.validate,or.validateIndex,or.resize,or.reshape,or.squeeze,or.unsqueeze,or.flatten,or.map,or.forEach,or.filter,or.filterRegExp,or.join,or.identify,or.generalize;var sr={isBoolean:function(e){return"boolean"==typeof e}};function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var cr={memoize:function(e,t){return function r(){"object"!==ur(r.cache)&&(r.cache={});for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=t?t(n):JSON.stringify(n);return a in r.cache||(r.cache[a]=e.apply(e,n)),r.cache[a]}},maxArgumentCount:function(e){return Object.keys(e.signatures||{}).reduce(function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r)},-1)},callWithRightArgumentCount:function(e,t,r){return Object.keys(e.signatures||{}).reduce(function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r)},-1)}},lr=g(function(e,t){t.array=or,t.boolean=sr,t.function=cr,t.number=P,t.object=O,t.string=$t,t.emitter=z}),fr=(lr.array,lr.number,lr.object,lr.string,lr.emitter,lr.string.isString);var pr={name:"Matrix",path:"type",factory:function(e,t,r,n){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(e){if(!fr(e))throw new TypeError("format must be a string value");var t=i._storage[e];if(!t)throw new SyntaxError("Unsupported matrix storage format: "+e);return t},i._storage={},i.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},i.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},i}};function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var hr={name:"typeof",factory:function(e,t,r,n){var i=n("_typeof",{any:function(t){var r=mr(t);return"object"===r?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":e.isBigNumber(t)?"BigNumber":e.isComplex(t)?"Complex":e.isFraction(t)?"Fraction":e.isMatrix(t)?"Matrix":e.isUnit(t)?"Unit":e.isIndex(t)?"Index":e.isRange(t)?"Range":e.isResultSet(t)?"ResultSet":e.isNode(t)?t.type:e.isChain(t)?"Chain":e.isHelp(t)?"Help":"Object":"function"===r?"Function":r}});return i.toTex=void 0,i}};var dr={factory:function(e,t,r,n){var i=r(hr);return function e(t){for(var r,n=0,a=0;a<t.length;a++){var o=t[a],s=Array.isArray(o);if(0===a&&s&&(n=o.length),s&&o.length!==n)return;var u=s?e(o):i(o);if(void 0===r)r=u;else if(r!==u)return"mixed"}return r}}},vr=lr.string,gr=lr.array,yr=lr.object,br=lr.number,xr=Array.isArray,wr=br.isNumber,_r=br.isInteger,Nr=vr.isString,Er=gr.validateIndex;var Sr={name:"DenseMatrix",path:"type",factory:function(e,t,r,n){var i=r(dr),a=r(pr);function o(t,r){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!Nr(r))throw new Error("Invalid datatype: "+r);if(e.isMatrix(t))"DenseMatrix"===t.type?(this._data=yr.clone(t._data),this._size=yr.clone(t._size),this._datatype=r||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=r||t._datatype);else if(t&&xr(t.data)&&xr(t.size))this._data=t.data,this._size=t.size,this._datatype=r||t.datatype;else if(xr(t))this._data=function e(t){for(var r=0,n=t.length;r<n;r++){var i=t[r];xr(i)?t[r]=e(i):i&&!0===i.isMatrix&&(t[r]=e(i.valueOf()))}return t}(t),this._size=gr.size(this._data),gr.validate(this._data,this._size),this._datatype=r;else{if(t)throw new TypeError("Unsupported type of data ("+lr.types.type(t)+")");this._data=[],this._size=[0],this._datatype=r}}function s(e,t,r){if(0===t.length){for(var n=e._data;xr(n);)n=n[0];return n}return e._size=t.slice(0),e._data=gr.resize(e._data,e._size,r),e}function u(e,t,r){for(var n=e._size.slice(0),i=!1;n.length<t.length;)n.push(0),i=!0;for(var a=0,o=t.length;a<o;a++)t[a]>n[a]&&(n[a]=t[a],i=!0);i&&s(e,n,r)}return o.prototype=new a,o.prototype.type="DenseMatrix",o.prototype.isDenseMatrix=!0,o.prototype.getDataType=function(){return i(this._data)},o.prototype.storage=function(){return"dense"},o.prototype.datatype=function(){return this._datatype},o.prototype.create=function(e,t){return new o(e,t)},o.prototype.subset=function(t,r,n){switch(arguments.length){case 1:return function(t,r){if(!e.isIndex(r))throw new TypeError("Invalid index");if(r.isScalar())return t.get(r.min());var n=r.size();if(n.length!==t._size.length)throw new nr(n.length,t._size.length);for(var i=r.min(),a=r.max(),s=0,u=t._size.length;s<u;s++)Er(i[s],t._size[s]),Er(a[s],t._size[s]);return new o(function e(t,r,n,i){var a=i===n-1,o=r.dimension(i);return a?o.map(function(e){return Er(e,t.length),t[e]}).valueOf():o.map(function(a){Er(a,t.length);var o=t[a];return e(o,r,n,i+1)}).valueOf()}(t._data,r,n.length,0),t._datatype)}(this,t);case 2:case 3:return function(t,r,n,i){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");var a,o=r.size(),s=r.isScalar();if(e.isMatrix(n)?(a=n.size(),n=n.valueOf()):a=gr.size(n),s){if(0!==a.length)throw new TypeError("Scalar expected");t.set(r.min(),n,i)}else{if(o.length<t._size.length)throw new nr(o.length,t._size.length,"<");if(a.length<o.length){for(var c=0,l=0;1===o[c]&&1===a[c];)c++;for(;1===o[c];)l++,c++;n=gr.unsqueeze(n,o.length,l,a)}if(!yr.deepEqual(o,a))throw new nr(o,a,">");var f=r.max().map(function(e){return e+1});u(t,f,i);var p=o.length;!function e(t,r,n,i,a){var o=a===i-1,s=r.dimension(a);o?s.forEach(function(e,r){Er(e),t[e]=n[r[0]]}):s.forEach(function(o,s){Er(o),e(t[o],r,n[s[0]],i,a+1)})}(t._data,r,n,p,0)}return t}(this,t,r,n);default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.get=function(e){if(!xr(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new nr(e.length,this._size.length);for(var t=0;t<e.length;t++)Er(e[t],this._size[t]);for(var r=this._data,n=0,i=e.length;n<i;n++){var a=e[n];Er(a,r.length),r=r[a]}return r},o.prototype.set=function(e,t,r){if(!xr(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new nr(e.length,this._size.length,"<");var n,i,a;u(this,e.map(function(e){return e+1}),r);var o=this._data;for(n=0,i=e.length-1;n<i;n++)a=e[n],Er(a,o.length),o=o[a];return a=e[e.length-1],Er(a,o.length),o[a]=t,this},o.prototype.resize=function(e,t,r){if(!xr(e))throw new TypeError("Array expected");return s(r?this.clone():this,e,t)},o.prototype.reshape=function(e,t){var r=t?this.clone():this;return r._data=gr.reshape(r._data,e),r._size=e.slice(0),r},o.prototype.clone=function(){return new o({data:yr.clone(this._data),size:yr.clone(this._size),datatype:this._datatype})},o.prototype.size=function(){return this._size.slice(0)},o.prototype.map=function(e){var t=this;return new o({data:function r(n,i){return xr(n)?n.map(function(e,t){return r(e,i.concat(t))}):e(n,i,t)}(this._data,[]),size:yr.clone(this._size),datatype:this._datatype})},o.prototype.forEach=function(e){var t=this;!function r(n,i){xr(n)?n.forEach(function(e,t){r(e,i.concat(t))}):e(n,i,t)}(this._data,[])},o.prototype.toArray=function(){return yr.clone(this._data)},o.prototype.valueOf=function(){return this._data},o.prototype.format=function(e){return vr.format(this._data,e)},o.prototype.toString=function(){return vr.format(this._data)},o.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},o.prototype.diagonal=function(t){if(t){if(e.isBigNumber(t)&&(t=t.toNumber()),!wr(t)||!_r(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var r=t>0?t:0,n=t<0?-t:0,i=this._size[0],a=this._size[1],s=Math.min(i-n,a-r),u=[],c=0;c<s;c++)u[c]=this._data[c+n][c+r];return new o({data:u,size:[s],datatype:this._datatype})},o.diagonal=function(t,r,i,a,s){if(!xr(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(e.isBigNumber(t)&&(t=t.toNumber()),!wr(t)||!_r(t)||t<1)throw new Error("Size values must be positive integers");return t}),i){if(e.isBigNumber(i)&&(i=i.toNumber()),!wr(i)||!_r(i))throw new TypeError("The parameter k must be an integer number")}else i=0;a&&Nr(s)&&(a=n.convert(a,s));var u,c=i>0?i:0,l=i<0?-i:0,f=t[0],p=t[1],m=Math.min(f-l,p-c);if(xr(r)){if(r.length!==m)throw new Error("Invalid value array length");u=function(e){return r[e]}}else if(e.isMatrix(r)){var h=r.size();if(1!==h.length||h[0]!==m)throw new Error("Invalid matrix length");u=function(e){return r.get([e])}}else u=function(){return r};a||(a=e.isBigNumber(u(0))?new e.BigNumber(0):0);var d=[];if(t.length>0){d=gr.resize(d,t,a);for(var v=0;v<m;v++)d[v+l][v+c]=u(v)}return new o({data:d,size:[f,p]})},o.fromJSON=function(e){return new o(e)},o.prototype.swapRows=function(e,t){if(!(wr(e)&&_r(e)&&wr(t)&&_r(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Er(e,this._size[0]),Er(t,this._size[0]),o._swapRows(e,t,this._data),this},o._swapRows=function(e,t,r){var n=r[e];r[e]=r[t],r[t]=n},e.Matrix._storage.dense=o,e.Matrix._storage.default=o,o},lazy:!1},Mr=function(e,t,r){if(null==r)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return n.lte(i.times(r))}return!1},Ar=P.nearlyEqual;var Or={factory:function(e,t,r,n){var i=n("equalScalar",{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,r){return e===r||Ar(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return e.eq(r)||Mr(e,r,t.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return e.equals(t)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return i(e.value,t.value)}});return i}},Cr=lr.array,Pr=lr.object,Tr=lr.string,kr=lr.number,Rr=Array.isArray,Ir=kr.isNumber,jr=kr.isInteger,Fr=Tr.isString,Dr=Cr.validateIndex;var $r={name:"SparseMatrix",path:"type",factory:function(e,t,r,n){var i=r(pr),a=r(Or),o=r(dr);function s(t,r){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!Fr(r))throw new Error("Invalid datatype: "+r);if(e.isMatrix(t))!function(e,t,r){"SparseMatrix"===t.type?(e._values=t._values?Pr.clone(t._values):void 0,e._index=Pr.clone(t._index),e._ptr=Pr.clone(t._ptr),e._size=Pr.clone(t._size),e._datatype=r||t._datatype):u(e,t.valueOf(),r||t._datatype)}(this,t,r);else if(t&&Rr(t.index)&&Rr(t.ptr)&&Rr(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=r||t.datatype;else if(Rr(t))u(this,t,r);else{if(t)throw new TypeError("Unsupported type of data ("+lr.types.type(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=r}}function u(e,t,r){e._values=[],e._index=[],e._ptr=[],e._datatype=r;var i=t.length,o=0,s=a,u=0;if(Fr(r)&&(s=n.find(a,[r,r])||a,u=n.convert(0,r)),i>0){var c=0;do{e._ptr.push(e._index.length);for(var l=0;l<i;l++){var f=t[l];if(Rr(f)){if(0===c&&o<f.length&&(o=f.length),c<f.length){var p=f[c];s(p,u)||(e._values.push(p),e._index.push(l))}}else 0===c&&o<1&&(o=1),s(f,u)||(e._values.push(f),e._index.push(l))}c++}while(c<o)}e._ptr.push(e._index.length),e._size=[i,o]}function c(e,t,r,n){if(r-t==0)return r;for(var i=t;i<r;i++)if(n[i]===e)return i;return t}function l(e,t,r,n,i,a,o){i.splice(e,0,n),a.splice(e,0,t);for(var s=r+1;s<o.length;s++)o[s]++}function f(e,t,r,i){var o=i||0,s=a,u=0;Fr(e._datatype)&&(s=n.find(a,[e._datatype,e._datatype])||a,u=n.convert(0,e._datatype),o=n.convert(o,e._datatype));var c,l,f,p=!s(o,u),m=e._size[0],h=e._size[1];if(r>h){for(l=h;l<r;l++)if(e._ptr[l]=e._values.length,p)for(c=0;c<m;c++)e._values.push(o),e._index.push(c);e._ptr[r]=e._values.length}else r<h&&(e._ptr.splice(r+1,h-r),e._values.splice(e._ptr[r],e._values.length),e._index.splice(e._ptr[r],e._index.length));if(h=r,t>m){if(p){var d=0;for(l=0;l<h;l++){e._ptr[l]=e._ptr[l]+d,f=e._ptr[l+1]+d;var v=0;for(c=m;c<t;c++,v++)e._values.splice(f+v,0,o),e._index.splice(f+v,0,c),d++}e._ptr[h]=e._values.length}}else if(t<m){var g=0;for(l=0;l<h;l++){e._ptr[l]=e._ptr[l]-g;var y=e._ptr[l],b=e._ptr[l+1]-g;for(f=y;f<b;f++)(c=e._index[f])>t-1&&(e._values.splice(f,1),e._index.splice(f,1),g++)}e._ptr[l]=e._values.length}return e._size[0]=t,e._size[1]=r,e}function p(e,t,r,n,i){var a,o,s=n[0],u=n[1],c=[];for(a=0;a<s;a++)for(c[a]=[],o=0;o<u;o++)c[a][o]=0;for(o=0;o<u;o++)for(var l=r[o],f=r[o+1],p=l;p<f;p++)c[a=t[p]][o]=e?i?Pr.clone(e[p]):e[p]:1;return c}return s.prototype=new i,s.prototype.type="SparseMatrix",s.prototype.isSparseMatrix=!0,s.prototype.getDataType=function(){return o(this._values)},s.prototype.storage=function(){return"sparse"},s.prototype.datatype=function(){return this._datatype},s.prototype.create=function(e,t){return new s(e,t)},s.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},s.prototype.subset=function(t,r,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(t,r){if(!e.isIndex(r))throw new TypeError("Invalid index");if(r.isScalar())return t.get(r.min());var n,i,a,o,u=r.size();if(u.length!==t._size.length)throw new nr(u.length,t._size.length);var c=r.min(),l=r.max();for(n=0,i=t._size.length;n<i;n++)Dr(c[n],t._size[n]),Dr(l[n],t._size[n]);var f=t._values,p=t._index,m=t._ptr,h=r.dimension(0),d=r.dimension(1),v=[],g=[];h.forEach(function(e,t){g[e]=t[0],v[e]=!0});var y=f?[]:void 0,b=[],x=[];return d.forEach(function(e){for(x.push(b.length),a=m[e],o=m[e+1];a<o;a++)n=p[a],!0===v[n]&&(b.push(g[n]),y&&y.push(f[a]))}),x.push(b.length),new s({values:y,index:b,ptr:x,size:u,datatype:t._datatype})}(this,t);case 2:case 3:return function(t,r,n,i){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");var a,o=r.size(),s=r.isScalar();if(e.isMatrix(n)?(a=n.size(),n=n.toArray()):a=Cr.size(n),s){if(0!==a.length)throw new TypeError("Scalar expected");t.set(r.min(),n,i)}else{if(1!==o.length&&2!==o.length)throw new nr(o.length,t._size.length,"<");if(a.length<o.length){for(var u=0,c=0;1===o[u]&&1===a[u];)u++;for(;1===o[u];)c++,u++;n=Cr.unsqueeze(n,o.length,c,a)}if(!Pr.deepEqual(o,a))throw new nr(o,a,">");for(var l=r.min()[0],f=r.min()[1],p=a[0],m=a[1],h=0;h<p;h++)for(var d=0;d<m;d++){var v=n[h][d];t.set([h+l,d+f],v,i)}}return t}(this,t,r,n);default:throw new SyntaxError("Wrong number of arguments")}},s.prototype.get=function(e){if(!Rr(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new nr(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],r=e[1];Dr(t,this._size[0]),Dr(r,this._size[1]);var n=c(t,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===t?this._values[n]:0},s.prototype.set=function(e,t,r){if(!Rr(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new nr(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var i=e[0],o=e[1],s=this._size[0],u=this._size[1],p=a,m=0;Fr(this._datatype)&&(p=n.find(a,[this._datatype,this._datatype])||a,m=n.convert(0,this._datatype)),(i>s-1||o>u-1)&&(f(this,Math.max(i+1,s),Math.max(o+1,u),r),s=this._size[0],u=this._size[1]),Dr(i,s),Dr(o,u);var h=c(i,this._ptr[o],this._ptr[o+1],this._index);return h<this._ptr[o+1]&&this._index[h]===i?p(t,m)?function(e,t,r,n,i){r.splice(e,1),n.splice(e,1);for(var a=t+1;a<i.length;a++)i[a]--}(h,o,this._values,this._index,this._ptr):this._values[h]=t:l(h,i,o,t,this._values,this._index,this._ptr),this},s.prototype.resize=function(e,t,r){if(!Rr(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");return e.forEach(function(t){if(!kr.isNumber(t)||!kr.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Tr.format(e)+")")}),f(r?this.clone():this,e[0],e[1],t)},s.prototype.reshape=function(e,t){if(!Rr(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(e.forEach(function(t){if(!kr.isNumber(t)||!kr.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Tr.format(e)+")")}),this._size[0]*this._size[1]!=e[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return r;for(var n=[],i=0;i<r._ptr.length;i++)for(var a=0;a<r._ptr[i+1]-r._ptr[i];a++)n.push(i);for(var o=r._values.slice(),s=r._index.slice(),u=0;u<r._index.length;u++){var f=s[u],p=n[u],m=f*r._size[1]+p;n[u]=m%e[1],s[u]=Math.floor(m/e[1])}r._values.length=0,r._index.length=0,r._ptr.length=e[1]+1,r._size=e.slice();for(var h=0;h<r._ptr.length;h++)r._ptr[h]=0;for(var d=0;d<o.length;d++){var v=s[d],g=n[d],y=o[d];l(c(v,r._ptr[g],r._ptr[g+1],r._index),v,g,y,r._values,r._index,r._ptr)}return r},s.prototype.clone=function(){return new s({values:this._values?Pr.clone(this._values):void 0,index:Pr.clone(this._index),ptr:Pr.clone(this._ptr),size:Pr.clone(this._size),datatype:this._datatype})},s.prototype.size=function(){return this._size.slice(0)},s.prototype.map=function(e,t){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var r=this;return function(e,t,r,i,o,u,c){var l=[],f=[],p=[],m=a,h=0;Fr(e._datatype)&&(m=n.find(a,[e._datatype,e._datatype])||a,h=n.convert(0,e._datatype));for(var d=function(e,t,r){e=u(e,t,r),m(e,h)||(l.push(e),f.push(t))},v=i;v<=o;v++){p.push(l.length);var g=e._ptr[v],y=e._ptr[v+1];if(c)for(var b=g;b<y;b++){var x=e._index[b];x>=t&&x<=r&&d(e._values[b],x-t,v-i)}else{for(var w={},_=g;_<y;_++){var N=e._index[_];w[N]=e._values[_]}for(var E=t;E<=r;E++){var S=E in w?w[E]:0;d(S,E-t,v-i)}}}return p.push(l.length),new s({values:l,index:f,ptr:p,size:[r-t+1,o-i+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(t,n,i){return e(t,[n,i],r)},t)},s.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){var a=this._ptr[i],o=this._ptr[i+1];if(t)for(var s=a;s<o;s++){var u=this._index[s];e(this._values[s],[u,i],this)}else{for(var c={},l=a;l<o;l++)c[this._index[l]]=this._values[l];for(var f=0;f<r;f++)e(f in c?c[f]:0,[f,i],this)}}},s.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},s.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)},s.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+Tr.format(t,e)+" x "+Tr.format(r,e)+"] density: "+Tr.format(n,e)+"\n",a=0;a<r;a++)for(var o=this._ptr[a],s=this._ptr[a+1],u=o;u<s;u++){var c=this._index[u];i+="\n    ("+Tr.format(c,e)+", "+Tr.format(a,e)+") ==> "+(this._values?Tr.format(this._values[u],e):"X")}return i},s.prototype.toString=function(){return Tr.format(this.toArray())},s.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},s.prototype.diagonal=function(t){if(t){if(e.isBigNumber(t)&&(t=t.toNumber()),!Ir(t)||!jr(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var r=t>0?t:0,n=t<0?-t:0,i=this._size[0],a=this._size[1],o=Math.min(i-n,a-r),u=[],c=[],l=[];l[0]=0;for(var f=r;f<a&&u.length<o;f++)for(var p=this._ptr[f],m=this._ptr[f+1],h=p;h<m;h++){var d=this._index[h];if(d===f-r+n){u.push(this._values[h]),c[u.length-1]=d-n;break}}return l.push(u.length),new s({values:u,index:c,ptr:l,size:[o,1]})},s.fromJSON=function(e){return new s(e)},s.diagonal=function(t,r,i,o,u){if(!Rr(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(e.isBigNumber(t)&&(t=t.toNumber()),!Ir(t)||!jr(t)||t<1)throw new Error("Size values must be positive integers");return t}),i){if(e.isBigNumber(i)&&(i=i.toNumber()),!Ir(i)||!jr(i))throw new TypeError("The parameter k must be an integer number")}else i=0;var c=a,l=0;Fr(u)&&(c=n.find(a,[u,u])||a,l=n.convert(0,u));var f,p=i>0?i:0,m=i<0?-i:0,h=t[0],d=t[1],v=Math.min(h-m,d-p);if(Rr(r)){if(r.length!==v)throw new Error("Invalid value array length");f=function(e){return r[e]}}else if(e.isMatrix(r)){var g=r.size();if(1!==g.length||g[0]!==v)throw new Error("Invalid matrix length");f=function(e){return r.get([e])}}else f=function(){return r};for(var y=[],b=[],x=[],w=0;w<d;w++){x.push(y.length);var _=w-p;if(_>=0&&_<v){var N=f(_);c(N,l)||(b.push(_+m),y.push(N))}}return x.push(y.length),new s({values:y,index:b,ptr:x,size:[h,d]})},s.prototype.swapRows=function(e,t){if(!(Ir(e)&&jr(e)&&Ir(t)&&jr(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Dr(e,this._size[0]),Dr(t,this._size[0]),s._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},s._forEachRow=function(e,t,r,n,i){for(var a=n[e],o=n[e+1],s=a;s<o;s++)i(r[s],t[s])},s._swapRows=function(e,t,r,n,i,a){for(var o=0;o<r;o++){var s=a[o],u=a[o+1],l=c(e,s,u,i),f=c(t,s,u,i);if(l<u&&f<u&&i[l]===e&&i[f]===t){if(n){var p=n[l];n[l]=n[f],n[f]=p}}else if(l<u&&i[l]===e&&(f>=u||i[f]!==t)){var m=n?n[l]:void 0;i.splice(f,0,t),n&&n.splice(f,0,m),i.splice(f<=l?l+1:l,1),n&&n.splice(f<=l?l+1:l,1)}else if(f<u&&i[f]===t&&(l>=u||i[l]!==e)){var h=n?n[f]:void 0;i.splice(l,0,e),n&&n.splice(l,0,h),i.splice(l<=f?f+1:f,1),n&&n.splice(l<=f?f+1:f,1)}}},e.Matrix._storage.sparse=s,s},lazy:!1};var zr={name:"matrix",factory:function(e,t,r,n){var i=n("matrix",{"":function(){return a([])},string:function(e){return a([],e)},"string, string":function(e,t){return a([],e,t)},Array:function(e){return a(e)},Matrix:function(e){return a(e,e.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});return i.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},i;function a(t,r,n){return new(e.Matrix.storage(r||"default"))(t,n)}}};var Lr={factory:function(e,t,r,n){var i=n("add",{"number, number":function(e,t){return e+t},"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null===e.value||void 0===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value||void 0===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=i(r.value,t.value),r.fixPrefix=!1,r}});return i}};var Br={name:"algorithm01",factory:function(e,t,r,n){var i=e.DenseMatrix;return function(e,t,r,a){var o=e._data,s=e._size,u=e._datatype,c=t._values,l=t._index,f=t._ptr,p=t._size,m=t._datatype;if(s.length!==p.length)throw new nr(s.length,p.length);if(s[0]!==p[0]||s[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,d,v=s[0],g=s[1],y="string"==typeof u&&u===m?u:void 0,b=y?n.find(r,[y,y]):r,x=[];for(h=0;h<v;h++)x[h]=[];var w=[],_=[];for(d=0;d<g;d++){for(var N=d+1,E=f[d],S=f[d+1],M=E;M<S;M++)w[h=l[M]]=a?b(c[M],o[h][d]):b(o[h][d],c[M]),_[h]=N;for(h=0;h<v;h++)_[h]===N?x[h][d]=w[h]:x[h][d]=o[h][d]}return new i({data:x,size:[v,g],datatype:y})}}};var qr={name:"algorithm04",factory:function(e,t,r,n){var i=r(Or),a=e.SparseMatrix;return function(e,t,r){var o=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype,f=t._values,p=t._index,m=t._ptr,h=t._size,d=t._datatype;if(c.length!==h.length)throw new nr(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var v,g=c[0],y=c[1],b=i,x=0,w=r;"string"==typeof l&&l===d&&(v=l,b=n.find(i,[v,v]),x=n.convert(0,v),w=n.find(r,[v,v]));var _,N,E,S,M,A=o&&f?[]:void 0,O=[],C=[],P=new a({values:A,index:O,ptr:C,size:[g,y],datatype:v}),T=o&&f?[]:void 0,k=o&&f?[]:void 0,R=[],I=[];for(N=0;N<y;N++){C[N]=O.length;var j=N+1;for(S=u[N],M=u[N+1],E=S;E<M;E++)_=s[E],O.push(_),R[_]=j,T&&(T[_]=o[E]);for(S=m[N],M=m[N+1],E=S;E<M;E++)if(R[_=p[E]]===j){if(T){var F=w(T[_],f[E]);b(F,x)?R[_]=null:T[_]=F}}else O.push(_),I[_]=j,k&&(k[_]=f[E]);if(T&&k)for(E=C[N];E<O.length;)R[_=O[E]]===j?(A[E]=T[_],E++):I[_]===j?(A[E]=k[_],E++):O.splice(E,1)}return C[y]=O.length,P}}};var Ur={name:"algorithm10",factory:function(e,t,r,n){var i=e.DenseMatrix;return function(e,t,r,a){var o=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,p=c[0],m=c[1],h=r;"string"==typeof l&&(f=l,t=n.convert(t,f),h=n.find(r,[f,f]));for(var d=[],v=new i({data:d,size:[p,m],datatype:f}),g=[],y=[],b=0;b<m;b++){for(var x=b+1,w=u[b],_=u[b+1],N=w;N<_;N++){var E=s[N];g[E]=o[N],y[E]=x}for(var S=0;S<p;S++)0===b&&(d[S]=[]),y[S]===x?d[S][b]=a?h(t,g[S]):h(g[S],t):d[S][b]=t}return v}}};var Vr={name:"algorithm13",factory:function(e,t,r,n){var i=e.DenseMatrix;return function(e,t,r){var a,o=e._data,s=e._size,u=e._datatype,c=t._data,l=t._size,f=t._datatype,p=[];if(s.length!==l.length)throw new nr(s.length,l.length);for(var m=0;m<s.length;m++){if(s[m]!==l[m])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+l+")");p[m]=s[m]}var h=r;"string"==typeof u&&u===f&&(a=u,h=n.find(r,[a,a]));var d=p.length>0?function e(t,r,n,i,a,o){var s=[];if(r===n.length-1)for(var u=0;u<i;u++)s[u]=t(a[u],o[u]);else for(var c=0;c<i;c++)s[c]=e(t,r+1,n,n[r+1],a[c],o[c]);return s}(h,0,p,p[0],o,c):[];return new i({data:d,size:p,datatype:a})}}},Hr=O.clone;var Wr={name:"algorithm14",factory:function(e,t,r,n){var i=e.DenseMatrix;return function(e,t,r,a){var o,s=e._data,u=e._size,c=e._datatype,l=r;"string"==typeof c&&(o=c,t=n.convert(t,o),l=n.find(r,[o,o]));var f=u.length>0?function e(t,r,n,i,a,o,s){var u=[];if(r===n.length-1)for(var c=0;c<i;c++)u[c]=s?t(o,a[c]):t(a[c],o);else for(var l=0;l<i;l++)u[l]=e(t,r+1,n,n[r+1],a[l],o,s);return u}(l,0,u,u[0],s,t,a):[];return new i({data:f,size:Hr(u),datatype:o})}}},Gr=O.extend;var Zr={name:"add",factory:function(e,t,r,n){var i=r(zr),a=r(Lr),o=Kt,s=r(Br),u=r(qr),c=r(Ur),l=r(Vr),f=r(Wr),p=n("add",Gr({"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,a)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,a,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,a,!0)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,a)},"Array, Array":function(e,t){return p(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return p(i(e),t)},"Matrix, Array":function(e,t){return p(e,i(t))},"DenseMatrix, any":function(e,t){return f(e,t,a,!1)},"SparseMatrix, any":function(e,t){return c(e,t,a,!1)},"any, DenseMatrix":function(e,t){return f(t,e,a,!0)},"any, SparseMatrix":function(e,t){return c(t,e,a,!0)},"Array, any":function(e,t){return f(i(e),t,a,!1).valueOf()},"any, Array":function(e,t){return f(i(t),e,a,!0).valueOf()},"any, any":a,"any, any, ...any":function(e,t,r){for(var n=p(e,t),i=0;i<r.length;i++)n=p(n,r[i]);return n}},a.signatures));return p.toTex={2:"\\left(${args[0]}".concat(o.operators.add,"${args[1]}\\right)")},p}};var Jr={name:"Spa",path:"type",factory:function(e,t,r){var n=r(Zr),i=r(Or);function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new e.FibonacciHeap}return a.prototype.type="Spa",a.prototype.isSpa=!0,a.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var r=this._heap.insert(e,t);this._values[e]=r}},a.prototype.get=function(e){var t=this._values[e];return t?t.value:0},a.prototype.accumulate=function(e,t){var r=this._values[e];r?r.value=n(r.value,t):(r=this._heap.insert(e,t),this._values[e]=r)},a.prototype.forEach=function(e,t,r){var n=this._heap,a=this._values,o=[],s=n.extractMinimum();for(s&&o.push(s);s&&s.key<=t;)s.key>=e&&(i(s.value,0)||r(s.key,s.value,this)),(s=n.extractMinimum())&&o.push(s);for(var u=0;u<o.length;u++){var c=o[u];a[(s=n.insert(c.key,c.value)).key]=s}},a.prototype.swap=function(e,t){var r=this._values[e],n=this._values[t];if(!r&&n)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(r&&!n)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i}},a}};var Qr={name:"algorithm03",factory:function(e,t,r,n){var i=e.DenseMatrix;return function(e,t,r,a){var o=e._data,s=e._size,u=e._datatype,c=t._values,l=t._index,f=t._ptr,p=t._size,m=t._datatype;if(s.length!==p.length)throw new nr(s.length,p.length);if(s[0]!==p[0]||s[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,d=s[0],v=s[1],g=0,y=r;"string"==typeof u&&u===m&&(h=u,g=n.convert(0,h),y=n.find(r,[h,h]));for(var b=[],x=0;x<d;x++)b[x]=[];for(var w=[],_=[],N=0;N<v;N++){for(var E=N+1,S=f[N],M=f[N+1],A=S;A<M;A++){var O=l[A];w[O]=a?y(c[A],o[O][N]):y(o[O][N],c[A]),_[O]=E}for(var C=0;C<d;C++)_[C]===E?b[C][N]=w[C]:b[C][N]=a?y(g,o[C][N]):y(o[C][N],g)}return new i({data:b,size:[d,v],datatype:h})}}};var Kr={name:"algorithm07",factory:function(e,t,r,n){var i=e.DenseMatrix;function a(e,t,r,n,i){for(var a=e._values,o=e._index,s=e._ptr,u=s[t],c=s[t+1];u<c;u++){var l=o[u];r[l]=i,n[l]=a[u]}}return function(e,t,r){var o=e._size,s=e._datatype,u=t._size,c=t._datatype;if(o.length!==u.length)throw new nr(o.length,u.length);if(o[0]!==u[0]||o[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+u+")");var l,f,p,m=o[0],h=o[1],d=0,v=r;"string"==typeof s&&s===c&&(l=s,d=n.convert(0,l),v=n.find(r,[l,l]));var g=[];for(f=0;f<m;f++)g[f]=[];var y=new i({data:g,size:[m,h],datatype:l}),b=[],x=[],w=[],_=[];for(p=0;p<h;p++){var N=p+1;for(a(e,p,w,b,N),a(t,p,_,x,N),f=0;f<m;f++){var E=w[f]===N?b[f]:d,S=_[f]===N?x[f]:d;g[f][p]=v(E,S)}}return y}}};var Yr={name:"algorithm12",factory:function(e,t,r,n){var i=e.DenseMatrix;return function(e,t,r,a){var o=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,p=c[0],m=c[1],h=r;"string"==typeof l&&(f=l,t=n.convert(t,f),h=n.find(r,[f,f]));for(var d=[],v=new i({data:d,size:[p,m],datatype:f}),g=[],y=[],b=0;b<m;b++){for(var x=b+1,w=u[b],_=u[b+1],N=w;N<_;N++){var E=s[N];g[E]=o[N],y[E]=x}for(var S=0;S<p;S++)0===b&&(d[S]=[]),y[S]===x?d[S][b]=a?h(t,g[S]):h(g[S],t):d[S][b]=a?h(t,0):h(0,t)}return v}}},Xr=P.nearlyEqual;var en={name:"smaller",factory:function(e,t,r,n){var i=r(zr),a=r(Qr),o=r(Kr),s=r(Yr),u=r(Vr),c=r(Wr),l=Kt,f=n("smaller",{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,r){return e<r&&!Xr(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return e.lt(r)&&!Mr(e,r,t.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return f(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,f)},"Array, Array":function(e,t){return f(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return f(i(e),t)},"Matrix, Array":function(e,t){return f(e,i(t))},"SparseMatrix, any":function(e,t){return s(e,t,f,!1)},"DenseMatrix, any":function(e,t){return c(e,t,f,!1)},"any, SparseMatrix":function(e,t){return s(t,e,f,!0)},"any, DenseMatrix":function(e,t){return c(t,e,f,!0)},"Array, any":function(e,t){return c(i(e),t,f,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(l.operators.smaller,"${args[1]}\\right)")},f}},tn=P.nearlyEqual;var rn={name:"larger",factory:function(e,t,r,n){var i=r(zr),a=r(Qr),o=r(Kr),s=r(Yr),u=r(Vr),c=r(Wr),l=Kt,f=n("larger",{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,r){return e>r&&!tn(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return e.gt(r)&&!Mr(e,r,t.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return f(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,f)},"Array, Array":function(e,t){return f(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return f(i(e),t)},"Matrix, Array":function(e,t){return f(e,i(t))},"SparseMatrix, any":function(e,t){return s(e,t,f,!1)},"DenseMatrix, any":function(e,t){return c(e,t,f,!1)},"any, SparseMatrix":function(e,t){return s(t,e,f,!0)},"any, DenseMatrix":function(e,t){return c(t,e,f,!0)},"Array, any":function(e,t){return c(i(e),t,f,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(l.operators.larger,"${args[1]}\\right)")},f}};var nn={name:"FibonacciHeap",path:"type",factory:function(e,t,r,n){var i=r(en),a=r(rn),o=1/Math.log((1+Math.sqrt(5))/2);function s(){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function u(e,t,r){t.left.right=t.right,t.right.left=t.left,r.degree--,r.child===t&&(r.child=t.right),0===r.degree&&(r.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}s.prototype.type="FibonacciHeap",s.prototype.isFibonacciHeap=!0,s.prototype.insert=function(e,t){var r={key:e,value:t,degree:0};if(this._minimum){var n=this._minimum;r.left=n,r.right=n.right,n.right=r,r.right.left=r,i(e,n.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},s.prototype.size=function(){return this._size},s.prototype.clear=function(){this._minimum=null,this._size=0},s.prototype.isEmpty=function(){return 0===this._size},s.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var t=this._minimum,r=e.degree,n=e.child;r>0;){var s=n.right;n.left.right=n.right,n.right.left=n.left,n.left=t,n.right=t.right,t.right=n,n.right.left=n,n.parent=null,n=s,r--}return e.left.right=e.right,e.right.left=e.left,t=e===e.right?null:function(e,t){var r,n=Math.floor(Math.log(t)*o)+1,s=new Array(n),u=0,l=e;if(l)for(u++,l=l.right;l!==e;)u++,l=l.right;for(;u>0;){for(var f=l.degree,p=l.right;r=s[f];){if(a(l.key,r.key)){var m=r;r=l,l=m}c(r,l),s[f]=null,f++}s[f]=l,l=p,u--}e=null;for(var h=0;h<n;h++)(r=s[h])&&(e?(r.left.right=r.right,r.right.left=r.left,r.left=e,r.right=e.right,e.right=r,r.right.left=r,i(r.key,e.key)&&(e=r)):e=r);return e}(t=e.right,this._size),this._size--,this._minimum=t,e},s.prototype.remove=function(e){this._minimum=function(e,t,r){t.key=r;var n=t.parent;return n&&i(t.key,n.key)&&(u(e,t,n),function e(t,r){var n=r.parent;n&&(r.mark?(u(t,r,n),e(n)):r.mark=!0)}(e,n)),i(t.key,e.key)&&(e=t),e}(this._minimum,e,-1),this.extractMinimum()};var c=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return s}},an=lr.string,on=lr.object,sn=Array.isArray,un=an.isString;var cn={name:"ImmutableDenseMatrix",path:"type",factory:function(e,t,r){var n=r(Sr),i=r(en);function a(t,r){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!un(r))throw new Error("Invalid datatype: "+r);if(e.isMatrix(t)||sn(t)){var i=new n(t,r);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(t&&sn(t.data)&&sn(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min=void 0!==t.min?t.min:null,this._max=void 0!==t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+lr.types.type(t)+")");this._data=[],this._size=[0],this._datatype=r,this._min=null,this._max=null}}return a.prototype=new n,a.prototype.type="ImmutableDenseMatrix",a.prototype.isImmutableDenseMatrix=!0,a.prototype.subset=function(t){switch(arguments.length){case 1:var r=n.prototype.subset.call(this,t);return e.isMatrix(r)?new a({data:r._data,size:r._size,datatype:r._datatype}):r;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},a.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},a.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},a.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},a.prototype.clone=function(){return new a({data:on.clone(this._data),size:on.clone(this._size),datatype:this._datatype})},a.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},a.fromJSON=function(e){return new a(e)},a.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},a.prototype.min=function(){if(null===this._min){var e=null;this.forEach(function(t){(null===e||i(t,e))&&(e=t)}),this._min=null!==e?e:void 0}return this._min},a.prototype.max=function(){if(null===this._max){var e=null;this.forEach(function(t){(null===e||i(e,t))&&(e=t)}),this._max=null!==e?e:void 0}return this._max},a}},ln=O.clone,fn=P.isInteger;var pn={name:"Index",path:"type",factory:function(e){function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var i=0,a=arguments.length;i<a;i++){var o=arguments[i];if(e.isRange(o))this._dimensions.push(o),this._isScalar=!1;else if(Array.isArray(o)||e.isMatrix(o)){var s=r(o.valueOf());this._dimensions.push(s);var u=s.size();1===u.length&&1===u[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(r([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function r(t){for(var r=0,n=t.length;r<n;r++)if("number"!=typeof t[r]||!fn(t[r]))throw new TypeError("Index parameters must be positive integer numbers");return new e.ImmutableDenseMatrix(t)}return t.prototype.type="Index",t.prototype.isIndex=!0,t.prototype.clone=function(){var e=new t;return e._dimensions=ln(this._dimensions),e._isScalar=this._isScalar,e},t.create=function(e){var r=new t;return t.apply(r,e),r},t.prototype.size=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?1:n.size()[0]}return e},t.prototype.max=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.max()}return e},t.prototype.min=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.min()}return e},t.prototype.forEach=function(e){for(var t=0,r=this._dimensions.length;t<r;t++)e(this._dimensions[t],t,this)},t.prototype.dimension=function(e){return this._dimensions[e]||null},t.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},t.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},t.prototype.isScalar=function(){return this._isScalar},t.prototype.toArray=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e.push("string"==typeof n?n:n.toArray())}return e},t.prototype.valueOf=t.prototype.toArray,t.prototype.toString=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];"string"==typeof n?e.push(JSON.stringify(n)):e.push(n.toString())}return"["+e.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},t.fromJSON=function(e){return t.create(e.dimensions)},t}};var mn={name:"Range",path:"type",factory:function(e,t,r,n){function i(t,r,n){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");var a=null!=t,o=null!=r,s=null!=n;if(a)if(e.isBigNumber(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(o)if(e.isBigNumber(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(s)if(e.isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=a?parseFloat(t):0,this.end=o?parseFloat(r):0,this.step=s?parseFloat(n):1}return i.prototype.type="Range",i.prototype.isRange=!0,i.parse=function(e){if("string"!=typeof e)return null;var t=e.split(":").map(function(e){return parseFloat(e)});if(t.some(function(e){return isNaN(e)}))return null;switch(t.length){case 2:return new i(t[0],t[1]);case 3:return new i(t[0],t[2],t[1]);default:return null}},i.prototype.clone=function(){return new i(this.start,this.end,this.step)},i.prototype.size=function(){var e=0,t=this.start,r=this.step,n=this.end-t;return P.sign(r)===P.sign(n)?e=Math.ceil(n/r):0===n&&(e=0),isNaN(e)&&(e=0),[e]},i.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},i.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},i.prototype.forEach=function(e){var t=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;t<n;)e(t,[i],this),t+=r,i++;else if(r<0)for(;t>n;)e(t,[i],this),t+=r,i++},i.prototype.map=function(e){var t=[];return this.forEach(function(r,n,i){t[n[0]]=e(r,n,i)}),t},i.prototype.toArray=function(){var e=[];return this.forEach(function(t,r){e[r[0]]=t}),e},i.prototype.valueOf=function(){return this.toArray()},i.prototype.format=function(e){var t=P.format(this.start,e);return 1!==this.step&&(t+=":"+P.format(this.step,e)),t+=":"+P.format(this.end,e)},i.prototype.toString=function(){return this.format()},i.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},i.fromJSON=function(e){return new i(e.start,e.end,e.step)},i}};var hn=function(e,t,r,n){var i=e.SparseMatrix,a=n("sparse",{"":function(){return new i([])},string:function(e){return new i([],e)},"Array | Matrix":function(e){return new i(e)},"Array | Matrix, string":function(e,t){return new i(e,t)}});return a.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},a},dn=[pr,Sr,$r,Jr,nn,cn,pn,mn,{name:"index",factory:function(e,t,r,n){return n("index",{"...number | string | BigNumber | Range | Array | Matrix":function(t){var r=t.map(function(t){return e.isBigNumber(t)?t.toNumber():Array.isArray(t)||e.isMatrix(t)?t.map(function(t){return e.isBigNumber(t)?t.toNumber():t}):t}),n=new e.Index;return e.Index.apply(n,r),n}})}},zr,{name:"sparse",factory:hn},dr];var vn={name:"number",factory:function(e,t,r,n){var i=n("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},i}};var gn={path:"type",name:"_numeric",factory:function(e,t,r,n){var i=r(hr),a={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:r(vn),BigNumber:r(It),Fraction:r(er)},s=function(e,t){var r=i(e);if(!(r in a))throw new TypeError("Cannot convert "+e+' of type "'+r+'"; valid input types are '+Object.keys(a).join(", "));if(!(t in o))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(o).join(", "));return t===r?e:o[t](e)};return s.toTex=function(e,t){return e.args[0].toTex()},s}};var yn={name:"ResultSet",path:"type",factory:function(e,t,r,n){function i(e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return i.prototype.type="ResultSet",i.prototype.isResultSet=!0,i.prototype.valueOf=function(){return this.entries},i.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},i.fromJSON=function(e){return new i(e.entries)},i}},bn=[yn];var xn={name:"string",factory:function(e,t,r,n){var i=n("string",{"":function(){return""},number:P.format,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return Rt(e,i)},any:function(e){return String(e)}});return i.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},i}},wn=g(function(e,t){var r=cr.memoize;function n(e){return e[0].precision}t.e=r(function(e){return new e(1).exp()},n),t.phi=r(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},n),t.pi=r(function(e){return e.acos(-1)},n),t.tau=r(function(e){return t.pi(e).times(2)},n)});wn.e,wn.phi,wn.pi,wn.tau;var _n={name:"unaryMinus",factory:function(e,t,r,n){var i=Kt,a=n("unaryMinus",{number:function(e){return-e},Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=a(e.value),t},"Array | Matrix":function(e){return Rt(e,a)}});return a.toTex={1:"".concat(i.operators.unaryMinus,"\\left(${args[0]}\\right)")},a}};var Nn={name:"algorithm05",factory:function(e,t,r,n){var i=r(Or),a=e.SparseMatrix;return function(e,t,r){var o=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype,f=t._values,p=t._index,m=t._ptr,h=t._size,d=t._datatype;if(c.length!==h.length)throw new nr(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var v,g=c[0],y=c[1],b=i,x=0,w=r;"string"==typeof l&&l===d&&(v=l,b=n.find(i,[v,v]),x=n.convert(0,v),w=n.find(r,[v,v]));var _,N,E,S,M=o&&f?[]:void 0,A=[],O=[],C=new a({values:M,index:A,ptr:O,size:[g,y],datatype:v}),P=M?[]:void 0,T=M?[]:void 0,k=[],R=[];for(N=0;N<y;N++){O[N]=A.length;var I=N+1;for(E=u[N],S=u[N+1];E<S;E++)_=s[E],A.push(_),k[_]=I,P&&(P[_]=o[E]);for(E=m[N],S=m[N+1];E<S;E++)k[_=p[E]]!==I&&A.push(_),R[_]=I,T&&(T[_]=f[E]);if(M)for(E=O[N];E<A.length;){var j=k[_=A[E]],F=R[_];if(j===I||F===I){var D=w(j===I?P[_]:x,F===I?T[_]:x);b(D,x)?A.splice(E,1):(M.push(D),E++)}}}return O[y]=A.length,C}}};function En(e,t){var r=e.size(),n=t.size();if(r.length!==n.length)throw new nr(r.length,n.length)}var Sn={name:"subtract",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=r(Lr),s=r(_n),u=r(Br),c=r(Qr),l=r(Nn),f=r(Ur),p=r(Vr),m=r(Wr),h=n("subtract",{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=h(r.value,t.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(e,t){return En(e,t),l(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return En(e,t),c(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return En(e,t),u(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return En(e,t),p(e,t,h)},"Array, Array":function(e,t){return h(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return h(a(e),t)},"Matrix, Array":function(e,t){return h(e,a(t))},"SparseMatrix, any":function(e,t){return f(e,s(t),o)},"DenseMatrix, any":function(e,t){return m(e,t,h)},"any, SparseMatrix":function(e,t){return f(t,e,h,!0)},"any, DenseMatrix":function(e,t){return m(t,e,h,!0)},"Array, any":function(e,t){return m(a(e),t,h,!1).valueOf()},"any, Array":function(e,t){return m(a(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(i.operators.subtract,"${args[1]}\\right)")},h}};var Mn={factory:function(e,t,r,n){var i=n("multiplyScalar",{"number, number":function(e,t){return e*t},"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){var r=t.clone();return r.value=null===r.value?r._normalize(e):i(r.value,e),r},"Unit, number | Fraction | BigNumber | Complex":function(e,t){var r=e.clone();return r.value=null===r.value?r._normalize(t):i(r.value,t),r},"Unit, Unit":function(e,t){return e.multiply(t)}});return i}};var An={factory:function(e,t,r,n){var i=r(gn),a=r(hr),o=n("divide",{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var r=e.clone(),n=i(1,a(t));return r.value=o(null===r.value?r._normalize(n):r.value,t),r},"number | Fraction | BigNumber, Unit":function(e,t){var r=t.clone();r=r.pow(-1);var n=i(1,a(e));return r.value=o(e,null===t.value?t._normalize(n):t.value),r},"Unit, Unit":function(e,t){return e.divide(t)}});return o}},On=P.isInteger;var Cn={name:"identity",factory:function(e,t,r,n){var i=r(zr),a=n("identity",{"":function(){return"Matrix"===t.matrix?i([]):[]},string:function(e){return i(e)},"number | BigNumber":function(e){return s(e,e,"Matrix"===t.matrix?"default":void 0)},"number | BigNumber, string":function(e,t){return s(e,e,t)},"number | BigNumber, number | BigNumber":function(e,r){return s(e,r,"Matrix"===t.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,r){return s(e,t,r)},Array:function(e){return o(e)},"Array, string":function(e,t){return o(e,t)},Matrix:function(e){return o(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return o(e.valueOf(),t)}});return a.toTex=void 0,a;function o(e,t){switch(e.length){case 0:return t?i(t):[];case 1:return s(e[0],e[0],t);case 2:return s(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function s(t,r,n){var i=e.isBigNumber(t)||e.isBigNumber(r)?e.BigNumber:null;if(e.isBigNumber(t)&&(t=t.toNumber()),e.isBigNumber(r)&&(r=r.toNumber()),!On(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!On(r)||r<1)throw new Error("Parameters in function identity must be positive integers");var a=i?new e.BigNumber(1):1,o=i?new i(0):0,s=[t,r];if(n)return e.Matrix.storage(n).diagonal(s,a,0,o);for(var u=or.resize([],s,o),c=t<r?t:r,l=0;l<c;l++)u[l][l]=a;return u}}};var Pn={name:"algorithm11",factory:function(e,t,r,n){var i=r(Or),a=e.SparseMatrix;return function(e,t,r,o){var s=e._values,u=e._index,c=e._ptr,l=e._size,f=e._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,m=l[0],h=l[1],d=i,v=0,g=r;"string"==typeof f&&(p=f,d=n.find(i,[p,p]),v=n.convert(0,p),t=n.convert(t,p),g=n.find(r,[p,p]));for(var y=[],b=[],x=[],w=new a({values:y,index:b,ptr:x,size:[m,h],datatype:p}),_=0;_<h;_++){x[_]=b.length;for(var N=c[_],E=c[_+1],S=N;S<E;S++){var M=u[S],A=o?g(t,s[S]):g(s[S],t);d(A,v)||(b.push(M),y.push(A))}}return x[h]=b.length,w}}},Tn=O.extend;var kn={name:"multiply",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=r(Lr),s=r(Mn),u=r(Or),c=r(Pn),l=r(Wr),f=e.DenseMatrix,p=e.SparseMatrix,m=n("multiply",Tn({"Array, Array":function(t,r){h(or.size(t),or.size(r));var n=m(a(t),a(r));return e.isMatrix(n)?n.valueOf():n},"Matrix, Matrix":function(e,t){var r=e.size(),i=t.size();return h(r,i),1===r.length?1===i.length?function(e,t,r){if(0===r)throw new Error("Cannot multiply two empty vectors");var i,a=e._data,u=e._datatype,c=t._data,l=t._datatype,f=o,p=s;u&&l&&u===l&&"string"==typeof u&&(i=u,f=n.find(o,[i,i]),p=n.find(s,[i,i]));for(var m=p(a[0],c[0]),h=1;h<r;h++)m=f(m,p(a[h],c[h]));return m}(e,t,r[0]):function(e,t){if("dense"!==t.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,t){var r,i=e._data,a=e._size,u=e._datatype,c=t._data,l=t._size,p=t._datatype,m=a[0],h=l[1],d=o,v=s;u&&p&&u===p&&"string"==typeof u&&(r=u,d=n.find(o,[r,r]),v=n.find(s,[r,r]));for(var g=[],y=0;y<h;y++){for(var b=v(i[0],c[0][y]),x=1;x<m;x++)b=d(b,v(i[x],c[x][y]));g[y]=b}return new f({data:g,size:[h],datatype:r})}(e,t)}(e,t):1===i.length?d(e,t):v(e,t)},"Matrix, Array":function(e,t){return m(e,a(t))},"Array, Matrix":function(e,t){return m(a(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return c(e,t,s,!1)},"DenseMatrix, any":function(e,t){return l(e,t,s,!1)},"any, SparseMatrix":function(e,t){return c(t,e,s,!0)},"any, DenseMatrix":function(e,t){return l(t,e,s,!0)},"Array, any":function(e,t){return l(a(e),t,s,!1).valueOf()},"any, Array":function(e,t){return l(a(t),e,s,!0).valueOf()},"any, any":s,"any, any, ...any":function(e,t,r){for(var n=m(e,t),i=0;i<r.length;i++)n=m(n,r[i]);return n}},s.signatures));function h(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}var d=n("_multiplyMatrixVector",{"DenseMatrix, any":function(e,t){var r,i=e._data,a=e._size,u=e._datatype,c=t._data,l=t._datatype,p=a[0],m=a[1],h=o,d=s;u&&l&&u===l&&"string"==typeof u&&(r=u,h=n.find(o,[r,r]),d=n.find(s,[r,r]));for(var v=[],g=0;g<p;g++){for(var y=i[g],b=d(y[0],c[0]),x=1;x<m;x++)b=h(b,d(y[x],c[x]));v[g]=b}return new f({data:v,size:[p],datatype:r})},"SparseMatrix, any":function(e,t){var r=e._values,i=e._index,a=e._ptr,c=e._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,f=t._data,m=t._datatype,h=e._size[0],d=t._size[0],v=[],g=[],y=[],b=o,x=s,w=u,_=0;c&&m&&c===m&&"string"==typeof c&&(l=c,b=n.find(o,[l,l]),x=n.find(s,[l,l]),w=n.find(u,[l,l]),_=n.convert(0,l));var N=[],E=[];y[0]=0;for(var S=0;S<d;S++){var M=f[S];if(!w(M,_))for(var A=a[S],O=a[S+1],C=A;C<O;C++){var P=i[C];E[P]?N[P]=b(N[P],x(M,r[C])):(E[P]=!0,g.push(P),N[P]=x(M,r[C]))}}for(var T=g.length,k=0;k<T;k++){var R=g[k];v[k]=N[R]}return y[1]=g.length,new p({values:v,index:g,ptr:y,size:[h,1],datatype:l})}}),v=n("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,t){var r,i=e._data,a=e._size,u=e._datatype,c=t._data,l=t._size,p=t._datatype,m=a[0],h=a[1],d=l[1],v=o,g=s;u&&p&&u===p&&"string"==typeof u&&(r=u,v=n.find(o,[r,r]),g=n.find(s,[r,r]));for(var y=[],b=0;b<m;b++){var x=i[b];y[b]=[];for(var w=0;w<d;w++){for(var _=g(x[0],c[0][w]),N=1;N<h;N++)_=v(_,g(x[N],c[N][w]));y[b][w]=_}}return new f({data:y,size:[m,d],datatype:r})},"DenseMatrix, SparseMatrix":function(e,t){var r=e._data,i=e._size,a=e._datatype,c=t._values,l=t._index,f=t._ptr,m=t._size,h=t._datatype;if(!c)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,v=i[0],g=m[1],y=o,b=s,x=u,w=0;a&&h&&a===h&&"string"==typeof a&&(d=a,y=n.find(o,[d,d]),b=n.find(s,[d,d]),x=n.find(u,[d,d]),w=n.convert(0,d));for(var _=[],N=[],E=[],S=new p({values:_,index:N,ptr:E,size:[v,g],datatype:d}),M=0;M<g;M++){E[M]=N.length;var A=f[M],O=f[M+1];if(O>A)for(var C=0,P=0;P<v;P++){for(var T=P+1,k=void 0,R=A;R<O;R++){var I=l[R];C!==T?(k=b(r[P][I],c[R]),C=T):k=y(k,b(r[P][I],c[R]))}C!==T||x(k,w)||(N.push(P),_.push(k))}}return E[g]=N.length,S},"SparseMatrix, DenseMatrix":function(e,t){var r=e._values,i=e._index,a=e._ptr,c=e._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,f=t._data,m=t._datatype,h=e._size[0],d=t._size[0],v=t._size[1],g=o,y=s,b=u,x=0;c&&m&&c===m&&"string"==typeof c&&(l=c,g=n.find(o,[l,l]),y=n.find(s,[l,l]),b=n.find(u,[l,l]),x=n.convert(0,l));for(var w=[],_=[],N=[],E=new p({values:w,index:_,ptr:N,size:[h,v],datatype:l}),S=[],M=[],A=0;A<v;A++){N[A]=_.length;for(var O=A+1,C=0;C<d;C++){var P=f[C][A];if(!b(P,x))for(var T=a[C],k=a[C+1],R=T;R<k;R++){var I=i[R];M[I]!==O?(M[I]=O,_.push(I),S[I]=y(P,r[R])):S[I]=g(S[I],y(P,r[R]))}}for(var j=N[A],F=_.length,D=j;D<F;D++){var $=_[D];w[D]=S[$]}}return N[v]=_.length,E},"SparseMatrix, SparseMatrix":function(e,t){var r,i=e._values,a=e._index,u=e._ptr,c=e._datatype,l=t._values,f=t._index,m=t._ptr,h=t._datatype,d=e._size[0],v=t._size[1],g=i&&l,y=o,b=s;c&&h&&c===h&&"string"==typeof c&&(r=c,y=n.find(o,[r,r]),b=n.find(s,[r,r]));for(var x,w,_,N,E,S,M,A,O=g?[]:void 0,C=[],P=[],T=new p({values:O,index:C,ptr:P,size:[d,v],datatype:r}),k=g?[]:void 0,R=[],I=0;I<v;I++){P[I]=C.length;var j=I+1;for(E=m[I],S=m[I+1],N=E;N<S;N++)if(A=f[N],g)for(w=u[A],_=u[A+1],x=w;x<_;x++)M=a[x],R[M]!==j?(R[M]=j,C.push(M),k[M]=b(l[N],i[x])):k[M]=y(k[M],b(l[N],i[x]));else for(w=u[A],_=u[A+1],x=w;x<_;x++)M=a[x],R[M]!==j&&(R[M]=j,C.push(M));if(g)for(var F=P[I],D=C.length,$=F;$<D;$++){var z=C[$];O[$]=k[z]}}return P[v]=C.length,T}});return m.toTex={2:"\\left(${args[0]}".concat(i.operators.multiply,"${args[1]}\\right)")},m}},Rn=P.isInteger,In=or.size;var jn={name:"pow",factory:function(e,t,r,n){var i=Kt,a=r(Cn),o=r(kn),s=r(zr),u=r(er),c=r(vn),l=n("pow",{"number, number":f,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(r,n){return n.isInteger()||r>=0||t.predictable?r.pow(n):new e.Complex(r.toNumber(),0).pow(n.toNumber(),0)},"Fraction, Fraction":function(e,r){if(1!==r.d){if(t.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return f(e.valueOf(),r.valueOf())}return e.pow(r)},"Array, number":p,"Array, BigNumber":function(e,t){return p(e,t.toNumber())},"Matrix, number":m,"Matrix, BigNumber":function(e,t){return m(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function f(r,n){if(t.predictable&&!Rn(n)&&r<0)try{var i=u(n),a=c(i);if((n===a||Math.abs((n-a)/n)<1e-14)&&i.d%2==1)return(i.n%2==0?1:-1)*Math.pow(-r,n)}catch(e){}return r*r<1&&n===1/0||r*r>1&&n===-1/0?0:t.predictable&&(r<-1&&n===1/0||r>-1&&r<0&&n===-1/0)?NaN:Rn(n)||r>=0||t.predictable?Math.pow(r,n):new e.Complex(r,0).pow(n,0)}function p(e,t){if(!Rn(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var r=In(e);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var n=a(r[0]).valueOf(),i=e;t>=1;)1==(1&t)&&(n=o(i,n)),t>>=1,i=o(i,i);return n}function m(e,t){return s(p(e.valueOf(),t))}return l.toTex={2:"\\left(${args[0]}\\right)".concat(i.operators.pow,"{${args[1]}}")},l}};var Fn={name:"abs",factory:function(e,t,r,n){var i=n("abs",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return Rt(e,i)},Unit:function(e){return e.abs()}});return i.toTex={1:"\\left|${args[0]}\\right|"},i}},Dn=P.isInteger,$n=or.resize;var zn={name:"zeros",factory:function(e,t,r,n){var i=r(zr),a=n("zeros",{"":function(){return"Array"===t.matrix?o([]):o([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var r=e.pop();return o(e,r)}return"Array"===t.matrix?o(e):o(e,"default")},Array:o,Matrix:function(e){var t=e.storage();return o(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return o(e.valueOf(),t)}});return a.toTex=void 0,a;function o(t,r){var n=function(t){var r=!1;return t.forEach(function(t,n,i){e.isBigNumber(t)&&(r=!0,i[n]=t.toNumber())}),r}(t)?new e.BigNumber(0):0;if(function(e){e.forEach(function(e){if("number"!=typeof e||!Dn(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")})}(t),r){var a=i(r);return t.length>0?a.resize(t,n):a}var o=[];return t.length>0?$n(o,t,n):o}}},Ln=P.isInteger,Bn=P.toFixed,qn="Number of decimals in function round must be an integer";function Un(e,t){return parseFloat(Bn(e,t))}var Vn={name:"round",factory:function(e,t,r,n){var i=r(zr),a=r(Or),o=r(zn),s=r(Pn),u=r(Yr),c=r(Wr),l=n("round",{number:function(e){return Un(e,0)},"number, number":function(e,t){if(!Ln(t))throw new TypeError(qn);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return Un(e,t)},Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(qn);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(qn);var r=t.toNumber();return e.round(r)},"number, BigNumber":function(t,r){if(!r.isInteger())throw new TypeError(qn);return new e.BigNumber(t).toDecimalPlaces(r.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(qn);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(qn);return e.round(t)},"Array | Matrix":function(e){return Rt(e,l)},"SparseMatrix, number | BigNumber":function(e,t){return s(e,t,l,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,l,!1)},"number | Complex | BigNumber, SparseMatrix":function(e,t){return a(e,0)?o(t.size(),t.storage()):u(t,e,l,!0)},"number | Complex | BigNumber, DenseMatrix":function(e,t){return a(e,0)?o(t.size(),t.storage()):c(t,e,l,!0)},"Array, number | BigNumber":function(e,t){return c(i(e),t,l,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return c(i(t),e,l,!0).valueOf()}});return l.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},l}},Hn=P.nearlyEqual;var Wn={name:"ceil",factory:function(e,t,r,n){var i=r(Vn),a=n("ceil",{number:function(e){return Hn(e,i(e),t.epsilon)?i(e):Math.ceil(e)},Complex:function(e){return e.ceil()},BigNumber:function(e){return Mr(e,i(e),t.epsilon)?i(e):e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(e){return Rt(e,a)}});return a.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},a}},Gn=P.nearlyEqual;var Zn={name:"floor",factory:function(e,t,r,n){var i=r(Vn),a=n("floor",{number:function(e){return Gn(e,i(e),t.epsilon)?i(e):Math.floor(e)},Complex:function(e){return e.floor()},BigNumber:function(e){return Mr(e,i(e),t.epsilon)?i(e):e.floor()},Fraction:function(e){return e.floor()},"Array | Matrix":function(e){return Rt(e,a)}});return a.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},a}};var Jn={name:"fix",factory:function(e,t,r,n){var i=r(Wn),a=r(Zn),o=n("fix",{number:function(e){return e>0?a(e):i(e)},Complex:function(t){return new e.Complex(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},BigNumber:function(e){return e.isNegative()?i(e):a(e)},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Array | Matrix":function(e){return Rt(e,o)}});return o.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},o}};var Qn={name:"equal",factory:function(e,t,r,n){var i=r(zr),a=r(Or),o=r(Qr),s=r(Kr),u=r(Yr),c=r(Vr),l=r(Wr),f=Kt,p=n("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:a(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,a)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,a,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,a,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,a)},"Array, Array":function(e,t){return p(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return p(i(e),t)},"Matrix, Array":function(e,t){return p(e,i(t))},"SparseMatrix, any":function(e,t){return u(e,t,a,!1)},"DenseMatrix, any":function(e,t){return l(e,t,a,!1)},"any, SparseMatrix":function(e,t){return u(t,e,a,!0)},"any, DenseMatrix":function(e,t){return l(t,e,a,!0)},"Array, any":function(e,t){return l(i(e),t,a,!1).valueOf()},"any, Array":function(e,t){return l(i(t),e,a,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}".concat(f.operators.equal,"${args[1]}\\right)")},p}};var Kn={name:"isNumeric",factory:function(e,t,r,n){var i=n("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(e){return Rt(e,i)}});return i}};var Yn={name:"format",factory:function(e,t,r,n){var i=n("format",{any:$t.format,"any, Object | function | number":$t.format});return i.toTex=void 0,i}};function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ei(){return(ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ti=$t.endsWith,ri=O.clone;var ni={name:"Unit",path:"type",factory:function(e,t,r,n,i){var a,o,s,u=r(Lr),c=r(Sn),l=r(Mn),f=r(An),p=r(jn),m=r(Fn),h=r(Jn),d=r(Vn),v=r(Qn),g=r(Kn),y=r(Yn),b=r(hr),x=r(vn),w=r(Wt);function _(t,r){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=t&&!g(t)&&!e.isComplex(t))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==r&&("string"!=typeof r||""===r))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==r){var n=_.parse(r);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:F,prefix:k.NONE,power:0}],this.dimensions=[];for(var i=0;i<R.length;i++)this.dimensions[i]=0}this.value=null!=t?this._normalize(t):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function N(){for(;" "===s||"\t"===s;)S()}function E(e){return e>="0"&&e<="9"}function S(){o++,s=a.charAt(o)}function M(e){o=e,s=a.charAt(o)}function A(){var e,t="";if(e=o,"+"===s?S():"-"===s&&(t+=s,S()),!function(e){return e>="0"&&e<="9"||"."===e}(s))return M(e),null;if("."===s){if(t+=s,S(),!E(s))return M(e),null}else{for(;E(s);)t+=s,S();"."===s&&(t+=s,S())}for(;E(s);)t+=s,S();if("E"===s||"e"===s){var r="",n=o;if(r+=s,S(),"+"!==s&&"-"!==s||(r+=s,S()),!E(s))return M(n),t;for(t+=r;E(s);)t+=s,S()}return t}function O(){for(var e="",t=a.charCodeAt(o);t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122;)e+=s,S(),t=a.charCodeAt(o);return((t=e.charCodeAt(0))>=65&&t<=90||t>=97&&t<=122)&&e||null}function C(e){return s===e?(S(),e):null}function P(e){if(D.hasOwnProperty(e)){var t=D[e];return{unit:t,prefix:t.prefixes[""]}}for(var r in D)if(D.hasOwnProperty(r)&&ti(e,r)){var n=D[r],i=e.length-r.length,a=e.substring(0,i),o=n.prefixes.hasOwnProperty(a)?n.prefixes[a]:void 0;if(void 0!==o)return{unit:n,prefix:o}}return null}function T(e){return e.equalBase(I.NONE)&&null!==e.value&&!t.predictable?e.value:e}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(r,n){if(n=n||{},o=-1,s="","string"!=typeof(a=r))throw new TypeError("Invalid argument in Unit.parse, string expected");var i=new _;i.units=[];var u=1,c=!1;S(),N();var l=A(),f=null;l&&(f="BigNumber"===t.number?new e.BigNumber(l):"Fraction"===t.number?new e.Fraction(l):parseFloat(l),N(),C("*")?(u=1,c=!0):C("/")&&(u=-1,c=!0));for(var p=[],m=1;;){for(N();"("===s;)p.push(u),m*=u,u=1,S(),N();var h=void 0;if(!s)break;var d=s;if(null===(h=O()))throw new SyntaxError('Unexpected "'+d+'" in "'+a+'" at index '+o.toString());var v=P(h);if(null===v)throw new SyntaxError('Unit "'+h+'" not found.');var g=u*m;if(N(),C("^")){N();var y=A();if(null===y)throw new SyntaxError('In "'+r+'", "^" must be followed by a floating-point number');g*=y}i.units.push({unit:v.unit,prefix:v.prefix,power:g});for(var b=0;b<R.length;b++)i.dimensions[b]+=(v.unit.dimensions[b]||0)*g;for(N();")"===s;){if(0===p.length)throw new SyntaxError('Unmatched ")" in "'+a+'" at index '+o.toString());m/=p.pop(),S(),N()}if(c=!1,C("*")?(u=1,c=!0):C("/")?(u=-1,c=!0):u=1,v.unit.base){var x=v.unit.base.key;L.auto[x]={unit:v.unit,prefix:v.prefix}}}if(N(),s)throw new SyntaxError('Could not parse: "'+r+'"');if(c)throw new SyntaxError('Trailing characters: "'+r+'"');if(0!==p.length)throw new SyntaxError('Unmatched "(" in "'+a+'"');if(0===i.units.length&&!n.allowNoUnits)throw new SyntaxError('"'+r+'" contains no units');return i.value=void 0!==f?i._normalize(f):null,i},_.prototype.clone=function(){var e=new _;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=ri(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var r in e.units[t]={},this.units[t])this.units[t].hasOwnProperty(r)&&(e.units[t][r]=this.units[t][r]);return e},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(e){var t,r,n,i,a;if(null==e||0===this.units.length)return e;if(this._isDerived()){var o=e;a=_._getNumberConverter(b(e));for(var s=0;s<this.units.length;s++)t=a(this.units[s].unit.value),i=a(this.units[s].prefix.value),n=a(this.units[s].power),o=l(o,p(l(t,i),n));return o}return t=(a=_._getNumberConverter(b(e)))(this.units[0].unit.value),r=a(this.units[0].unit.offset),i=a(this.units[0].prefix.value),l(u(e,r),l(t,i))},_.prototype._denormalize=function(e,t){var r,n,i,a,o;if(null==e||0===this.units.length)return e;if(this._isDerived()){var s=e;o=_._getNumberConverter(b(e));for(var u=0;u<this.units.length;u++)r=o(this.units[u].unit.value),a=o(this.units[u].prefix.value),i=o(this.units[u].power),s=f(s,p(l(r,a),i));return s}return r=(o=_._getNumberConverter(b(e)))(this.units[0].unit.value),a=o(this.units[0].prefix.value),n=o(this.units[0].unit.offset),c(f(f(e,r),null==t?a:t),n)},_.isValuelessUnit=function(e){return null!==P(e)},_.prototype.hasBase=function(e){if("string"==typeof e&&(e=I[e]),!e)return!1;for(var t=0;t<R.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},_.prototype.equalBase=function(e){for(var t=0;t<R.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},_.prototype.equals=function(e){return this.equalBase(e)&&v(this.value,e.value)},_.prototype.multiply=function(e){for(var t=this.clone(),r=0;r<R.length;r++)t.dimensions[r]=(this.dimensions[r]||0)+(e.dimensions[r]||0);for(var n=0;n<e.units.length;n++){var i={};for(var a in e.units[n])i[a]=e.units[n][a];t.units.push(i)}if(null!==this.value||null!==e.value){var o=null===this.value?this._normalize(1):this.value,s=null===e.value?e._normalize(1):e.value;t.value=l(o,s)}else t.value=null;return t.skipAutomaticSimplification=!1,T(t)},_.prototype.divide=function(e){for(var t=this.clone(),r=0;r<R.length;r++)t.dimensions[r]=(this.dimensions[r]||0)-(e.dimensions[r]||0);for(var n=0;n<e.units.length;n++){var i={};for(var a in e.units[n])i[a]=e.units[n][a];i.power=-i.power,t.units.push(i)}if(null!==this.value||null!==e.value){var o=null===this.value?this._normalize(1):this.value,s=null===e.value?e._normalize(1):e.value;t.value=f(o,s)}else t.value=null;return t.skipAutomaticSimplification=!1,T(t)},_.prototype.pow=function(e){for(var t=this.clone(),r=0;r<R.length;r++)t.dimensions[r]=(this.dimensions[r]||0)*e;for(var n=0;n<t.units.length;n++)t.units[n].power*=e;return null!==t.value?t.value=p(t.value,e):t.value=null,t.skipAutomaticSimplification=!1,T(t)},_.prototype.abs=function(){var e=this.clone();for(var t in e.value=null!==e.value?m(e.value):null,e.units)"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=D.W);return e},_.prototype.to=function(t){var r,n=null===this.value?this._normalize(1):this.value;if("string"==typeof t){if(r=_.parse(t),!this.equalBase(r))throw new Error("Units do not match ('".concat(r.toString(),"' != '").concat(this.toString(),"')"));if(null!==r.value)throw new Error("Cannot convert to a unit with a value");return r.value=ri(n),r.fixPrefix=!0,r.skipAutomaticSimplification=!0,r}if(e.isUnit(t)){if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return(r=t.clone()).value=ri(n),r.fixPrefix=!0,r.skipAutomaticSimplification=!0,r}throw new Error("String or Unit expected as parameter")},_.prototype.toNumber=function(e){return x(this.toNumeric(e))},_.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_.fromJSON=function(e){var t=new _(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var e,t,r=this.clone(),n=[];for(var i in B)if(r.hasBase(I[i])){e=i;break}if("NONE"===e)r.units=[];else if(e&&B.hasOwnProperty(e)&&(t=B[e]),t)r.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var a=!1,o=0;o<R.length;o++){var s=R[o];Math.abs(r.dimensions[o]||0)>1e-12&&(B.hasOwnProperty(s)?n.push({unit:B[s].unit,prefix:B[s].prefix,power:r.dimensions[o]||0}):a=!0)}n.length<r.units.length&&!a&&(r.units=n)}return r},_.prototype.toSI=function(){for(var e=this.clone(),t=[],r=0;r<R.length;r++){var n=R[r];if(Math.abs(e.dimensions[r]||0)>1e-12){if(!L.si.hasOwnProperty(n))throw new Error("Cannot express custom unit "+n+" in SI units");t.push({unit:L.si[n].unit,prefix:L.si[n].prefix,power:e.dimensions[r]||0})}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},_.prototype.formatUnits=function(){for(var e="",t="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var a=0;a<this.units.length;a++)this.units[a].power<0&&(r>0?(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power+1)>1e-15&&(t+="^"+-this.units[a].power)):(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,t+="^"+this.units[a].power));e=e.substr(1),t=t.substr(1),r>1&&n>0&&(e="("+e+")"),n>1&&r>0&&(t="("+t+")");var o=e;return r>0&&n>0&&(o+=" / "),o+=t},_.prototype.format=function(t){var r=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),n=!1;for(var i in void 0!==r.value&&null!==r.value&&e.isComplex(r.value)&&(n=Math.abs(r.value.re)<1e-14),r.units)r.units[i].unit&&("VA"===r.units[i].unit.name&&n?r.units[i].unit=D.VAR:"VAR"!==r.units[i].unit.name||n||(r.units[i].unit=D.VA));1!==r.units.length||r.fixPrefix||Math.abs(r.units[0].power-Math.round(r.units[0].power))<1e-14&&(r.units[0].prefix=r._bestPrefix());var a=r._denormalize(r.value),o=null!==r.value?y(a,t||{}):"",s=r.formatUnits();return r.value&&e.isComplex(r.value)&&(o="("+o+")"),s.length>0&&o.length>0&&(o+=" "),o+=s},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?m(this.value):0,t=m(this.units[0].unit.value),r=this.units[0].prefix;if(0===e)return r;var n=this.units[0].power,i=Math.log(e/Math.pow(r.value*t,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var a=this.units[0].unit.prefixes;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];if(s.scientific){var u=Math.abs(Math.log(e/Math.pow(s.value*t,n))/Math.LN10-1.2);(u<i||u===i&&s.name.length<r.name.length)&&(r=s,i=u)}}return r},_.prototype.splitUnit=function(e){for(var t=this.clone(),r=[],n=0;n<e.length&&(t=t.to(e[n]),n!==e.length-1);n++){var i=t.toNumeric(),a=d(i),o=new _(v(a,i)?a:h(t.toNumeric()),e[n].toString());r.push(o),t=c(t,o)}for(var s=0,l=0;l<r.length;l++)s=u(s,r[l].value);return v(s,this.value)&&(t.value=0),r.push(t),r};var k={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};k.SHORTLONG=ei(k.SHORT,k.LONG),k.BINARY_SHORT=ei(k.BINARY_SHORT_SI,k.BINARY_SHORT_IEC),k.BINARY_LONG=ei(k.BINARY_LONG_SI,k.BINARY_LONG_IEC);var R=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],I={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var j in I)I[j].key=j;var F={name:"",base:{},value:1,offset:0,dimensions:R.map(function(e){return 0})},D={meter:{name:"meter",base:I.LENGTH,prefixes:k.LONG,value:1,offset:0},inch:{name:"inch",base:I.LENGTH,prefixes:k.NONE,value:.0254,offset:0},foot:{name:"foot",base:I.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yard:{name:"yard",base:I.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mile:{name:"mile",base:I.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},link:{name:"link",base:I.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rod:{name:"rod",base:I.LENGTH,prefixes:k.NONE,value:5.0292,offset:0},chain:{name:"chain",base:I.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:I.LENGTH,prefixes:k.NONE,value:1e-10,offset:0},m:{name:"m",base:I.LENGTH,prefixes:k.SHORT,value:1,offset:0},in:{name:"in",base:I.LENGTH,prefixes:k.NONE,value:.0254,offset:0},ft:{name:"ft",base:I.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yd:{name:"yd",base:I.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mi:{name:"mi",base:I.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},li:{name:"li",base:I.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rd:{name:"rd",base:I.LENGTH,prefixes:k.NONE,value:5.02921,offset:0},ch:{name:"ch",base:I.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},mil:{name:"mil",base:I.LENGTH,prefixes:k.NONE,value:254e-7,offset:0},m2:{name:"m2",base:I.SURFACE,prefixes:k.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:I.SURFACE,prefixes:k.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:I.SURFACE,prefixes:k.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:I.SURFACE,prefixes:k.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:I.SURFACE,prefixes:k.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:I.SURFACE,prefixes:k.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:I.SURFACE,prefixes:k.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:I.SURFACE,prefixes:k.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:I.SURFACE,prefixes:k.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:I.SURFACE,prefixes:k.NONE,value:1e4,offset:0},m3:{name:"m3",base:I.VOLUME,prefixes:k.CUBIC,value:1,offset:0},L:{name:"L",base:I.VOLUME,prefixes:k.SHORT,value:.001,offset:0},l:{name:"l",base:I.VOLUME,prefixes:k.SHORT,value:.001,offset:0},litre:{name:"litre",base:I.VOLUME,prefixes:k.LONG,value:.001,offset:0},cuin:{name:"cuin",base:I.VOLUME,prefixes:k.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:I.VOLUME,prefixes:k.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:I.VOLUME,prefixes:k.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:I.VOLUME,prefixes:k.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:I.VOLUME,prefixes:k.NONE,value:15e-6,offset:0},drop:{name:"drop",base:I.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:I.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},minim:{name:"minim",base:I.VOLUME,prefixes:k.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:I.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:I.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:I.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:I.VOLUME,prefixes:k.NONE,value:1e-6,offset:0},cup:{name:"cup",base:I.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:I.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:I.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:I.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:I.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:I.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:I.VOLUME,prefixes:k.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:I.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:I.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:I.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:I.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:I.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:I.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:I.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:I.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},obl:{name:"obl",base:I.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},g:{name:"g",base:I.MASS,prefixes:k.SHORT,value:.001,offset:0},gram:{name:"gram",base:I.MASS,prefixes:k.LONG,value:.001,offset:0},ton:{name:"ton",base:I.MASS,prefixes:k.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:I.MASS,prefixes:k.SHORT,value:1e3,offset:0},grain:{name:"grain",base:I.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:I.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:I.MASS,prefixes:k.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:I.MASS,prefixes:k.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:I.MASS,prefixes:k.NONE,value:45.359237,offset:0},stick:{name:"stick",base:I.MASS,prefixes:k.NONE,value:.115,offset:0},stone:{name:"stone",base:I.MASS,prefixes:k.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:I.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:I.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:I.MASS,prefixes:k.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:I.MASS,prefixes:k.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:I.MASS,prefixes:k.NONE,value:45.359237,offset:0},s:{name:"s",base:I.TIME,prefixes:k.SHORT,value:1,offset:0},min:{name:"min",base:I.TIME,prefixes:k.NONE,value:60,offset:0},h:{name:"h",base:I.TIME,prefixes:k.NONE,value:3600,offset:0},second:{name:"second",base:I.TIME,prefixes:k.LONG,value:1,offset:0},sec:{name:"sec",base:I.TIME,prefixes:k.LONG,value:1,offset:0},minute:{name:"minute",base:I.TIME,prefixes:k.NONE,value:60,offset:0},hour:{name:"hour",base:I.TIME,prefixes:k.NONE,value:3600,offset:0},day:{name:"day",base:I.TIME,prefixes:k.NONE,value:86400,offset:0},week:{name:"week",base:I.TIME,prefixes:k.NONE,value:604800,offset:0},month:{name:"month",base:I.TIME,prefixes:k.NONE,value:2629800,offset:0},year:{name:"year",base:I.TIME,prefixes:k.NONE,value:31557600,offset:0},decade:{name:"decade",base:I.TIME,prefixes:k.NONE,value:315576e3,offset:0},century:{name:"century",base:I.TIME,prefixes:k.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:I.TIME,prefixes:k.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:I.FREQUENCY,prefixes:k.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:I.FREQUENCY,prefixes:k.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:I.ANGLE,prefixes:k.SHORT,value:1,offset:0},radian:{name:"radian",base:I.ANGLE,prefixes:k.LONG,value:1,offset:0},deg:{name:"deg",base:I.ANGLE,prefixes:k.SHORT,value:null,offset:0},degree:{name:"degree",base:I.ANGLE,prefixes:k.LONG,value:null,offset:0},grad:{name:"grad",base:I.ANGLE,prefixes:k.SHORT,value:null,offset:0},gradian:{name:"gradian",base:I.ANGLE,prefixes:k.LONG,value:null,offset:0},cycle:{name:"cycle",base:I.ANGLE,prefixes:k.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:I.ANGLE,prefixes:k.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:I.ANGLE,prefixes:k.NONE,value:null,offset:0},A:{name:"A",base:I.CURRENT,prefixes:k.SHORT,value:1,offset:0},ampere:{name:"ampere",base:I.CURRENT,prefixes:k.LONG,value:1,offset:0},K:{name:"K",base:I.TEMPERATURE,prefixes:k.NONE,value:1,offset:0},degC:{name:"degC",base:I.TEMPERATURE,prefixes:k.NONE,value:1,offset:273.15},degF:{name:"degF",base:I.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:I.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:I.TEMPERATURE,prefixes:k.NONE,value:1,offset:0},celsius:{name:"celsius",base:I.TEMPERATURE,prefixes:k.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:I.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:I.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:I.AMOUNT_OF_SUBSTANCE,prefixes:k.SHORT,value:1,offset:0},mole:{name:"mole",base:I.AMOUNT_OF_SUBSTANCE,prefixes:k.LONG,value:1,offset:0},cd:{name:"cd",base:I.LUMINOUS_INTENSITY,prefixes:k.NONE,value:1,offset:0},candela:{name:"candela",base:I.LUMINOUS_INTENSITY,prefixes:k.NONE,value:1,offset:0},N:{name:"N",base:I.FORCE,prefixes:k.SHORT,value:1,offset:0},newton:{name:"newton",base:I.FORCE,prefixes:k.LONG,value:1,offset:0},dyn:{name:"dyn",base:I.FORCE,prefixes:k.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:I.FORCE,prefixes:k.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:I.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:I.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:I.FORCE,prefixes:k.LONG,value:4448.2216,offset:0},J:{name:"J",base:I.ENERGY,prefixes:k.SHORT,value:1,offset:0},joule:{name:"joule",base:I.ENERGY,prefixes:k.SHORT,value:1,offset:0},erg:{name:"erg",base:I.ENERGY,prefixes:k.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:I.ENERGY,prefixes:k.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:I.ENERGY,prefixes:k.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:I.ENERGY,prefixes:k.SHORT,value:1.602176565e-19,offset:0},electronvolt:{name:"electronvolt",base:I.ENERGY,prefixes:k.LONG,value:1.602176565e-19,offset:0},W:{name:"W",base:I.POWER,prefixes:k.SHORT,value:1,offset:0},watt:{name:"watt",base:I.POWER,prefixes:k.LONG,value:1,offset:0},hp:{name:"hp",base:I.POWER,prefixes:k.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:I.POWER,prefixes:k.SHORT,value:w.I,offset:0},VA:{name:"VA",base:I.POWER,prefixes:k.SHORT,value:1,offset:0},Pa:{name:"Pa",base:I.PRESSURE,prefixes:k.SHORT,value:1,offset:0},psi:{name:"psi",base:I.PRESSURE,prefixes:k.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:I.PRESSURE,prefixes:k.NONE,value:101325,offset:0},bar:{name:"bar",base:I.PRESSURE,prefixes:k.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:I.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:I.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:I.PRESSURE,prefixes:k.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:I.PRESSURE,prefixes:k.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:I.ELECTRIC_CHARGE,prefixes:k.LONG,value:1,offset:0},C:{name:"C",base:I.ELECTRIC_CHARGE,prefixes:k.SHORT,value:1,offset:0},farad:{name:"farad",base:I.ELECTRIC_CAPACITANCE,prefixes:k.LONG,value:1,offset:0},F:{name:"F",base:I.ELECTRIC_CAPACITANCE,prefixes:k.SHORT,value:1,offset:0},volt:{name:"volt",base:I.ELECTRIC_POTENTIAL,prefixes:k.LONG,value:1,offset:0},V:{name:"V",base:I.ELECTRIC_POTENTIAL,prefixes:k.SHORT,value:1,offset:0},ohm:{name:"ohm",base:I.ELECTRIC_RESISTANCE,prefixes:k.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:I.ELECTRIC_INDUCTANCE,prefixes:k.LONG,value:1,offset:0},H:{name:"H",base:I.ELECTRIC_INDUCTANCE,prefixes:k.SHORT,value:1,offset:0},siemens:{name:"siemens",base:I.ELECTRIC_CONDUCTANCE,prefixes:k.LONG,value:1,offset:0},S:{name:"S",base:I.ELECTRIC_CONDUCTANCE,prefixes:k.SHORT,value:1,offset:0},weber:{name:"weber",base:I.MAGNETIC_FLUX,prefixes:k.LONG,value:1,offset:0},Wb:{name:"Wb",base:I.MAGNETIC_FLUX,prefixes:k.SHORT,value:1,offset:0},tesla:{name:"tesla",base:I.MAGNETIC_FLUX_DENSITY,prefixes:k.LONG,value:1,offset:0},T:{name:"T",base:I.MAGNETIC_FLUX_DENSITY,prefixes:k.SHORT,value:1,offset:0},b:{name:"b",base:I.BIT,prefixes:k.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:I.BIT,prefixes:k.BINARY_LONG,value:1,offset:0},B:{name:"B",base:I.BIT,prefixes:k.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:I.BIT,prefixes:k.BINARY_LONG,value:8,offset:0}},$={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"};function z(t){if("BigNumber"===t.number){var r=wn.pi(e.BigNumber);D.rad.value=new e.BigNumber(1),D.deg.value=r.div(180),D.grad.value=r.div(200),D.cycle.value=r.times(2),D.arcsec.value=r.div(648e3),D.arcmin.value=r.div(10800)}else D.rad.value=1,D.deg.value=Math.PI/180,D.grad.value=Math.PI/200,D.cycle.value=2*Math.PI,D.arcsec.value=Math.PI/648e3,D.arcmin.value=Math.PI/10800;D.radian.value=D.rad.value,D.degree.value=D.deg.value,D.gradian.value=D.grad.value}z(t),i.on("config",function(e,t){e.number!==t.number&&z(e)});var L={si:{NONE:{unit:F,prefix:k.NONE[""]},LENGTH:{unit:D.m,prefix:k.SHORT[""]},MASS:{unit:D.g,prefix:k.SHORT.k},TIME:{unit:D.s,prefix:k.SHORT[""]},CURRENT:{unit:D.A,prefix:k.SHORT[""]},TEMPERATURE:{unit:D.K,prefix:k.SHORT[""]},LUMINOUS_INTENSITY:{unit:D.cd,prefix:k.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:D.mol,prefix:k.SHORT[""]},ANGLE:{unit:D.rad,prefix:k.SHORT[""]},BIT:{unit:D.bit,prefix:k.SHORT[""]},FORCE:{unit:D.N,prefix:k.SHORT[""]},ENERGY:{unit:D.J,prefix:k.SHORT[""]},POWER:{unit:D.W,prefix:k.SHORT[""]},PRESSURE:{unit:D.Pa,prefix:k.SHORT[""]},ELECTRIC_CHARGE:{unit:D.C,prefix:k.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:D.F,prefix:k.SHORT[""]},ELECTRIC_POTENTIAL:{unit:D.V,prefix:k.SHORT[""]},ELECTRIC_RESISTANCE:{unit:D.ohm,prefix:k.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:D.H,prefix:k.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:D.S,prefix:k.SHORT[""]},MAGNETIC_FLUX:{unit:D.Wb,prefix:k.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:D.T,prefix:k.SHORT[""]},FREQUENCY:{unit:D.Hz,prefix:k.SHORT[""]}}};L.cgs=JSON.parse(JSON.stringify(L.si)),L.cgs.LENGTH={unit:D.m,prefix:k.SHORT.c},L.cgs.MASS={unit:D.g,prefix:k.SHORT[""]},L.cgs.FORCE={unit:D.dyn,prefix:k.SHORT[""]},L.cgs.ENERGY={unit:D.erg,prefix:k.NONE[""]},L.us=JSON.parse(JSON.stringify(L.si)),L.us.LENGTH={unit:D.ft,prefix:k.NONE[""]},L.us.MASS={unit:D.lbm,prefix:k.NONE[""]},L.us.TEMPERATURE={unit:D.degF,prefix:k.NONE[""]},L.us.FORCE={unit:D.lbf,prefix:k.NONE[""]},L.us.ENERGY={unit:D.BTU,prefix:k.BTU[""]},L.us.POWER={unit:D.hp,prefix:k.NONE[""]},L.us.PRESSURE={unit:D.psi,prefix:k.NONE[""]},L.auto=JSON.parse(JSON.stringify(L.si));var B=L.auto;for(var q in _.setUnitSystem=function(e){if(!L.hasOwnProperty(e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(L).join(", "));B=L[e]},_.getUnitSystem=function(){for(var e in L)if(L[e]===B)return e},_.typeConverters={BigNumber:function(t){return new e.BigNumber(t+"")},Fraction:function(t){return new e.Fraction(t)},Complex:function(e){return e},number:function(e){return e}},_._getNumberConverter=function(e){if(!_.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return _.typeConverters[e]},D){var U=D[q];U.dimensions=U.base.dimensions}for(var V in $)if($.hasOwnProperty(V)){var H=D[$[V]],W={};for(var G in H)H.hasOwnProperty(G)&&(W[G]=H[G]);W.name=V,D[V]=W}return _.createUnit=function(e,t){if("object"!==Xn(e))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var r in e)if(e.hasOwnProperty(r)&&_.deleteUnit(r),e[r].aliases)for(var n=0;n<e[r].aliases.length;n++)_.deleteUnit(e[r].aliases[n]);var i;for(var a in e)e.hasOwnProperty(a)&&(i=_.createUnitSingle(a,e[a]));return i},_.createUnitSingle=function(e,t,r){if(null==t&&(t={}),"string"!=typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(D.hasOwnProperty(e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){var r=e.charAt(t),n=function(e){return/^[a-zA-Z]$/.test(e)};if(0===t&&!n(r))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!(n(r)||(i=r,i>="0"&&i<="9")))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}var i}(e);var n,i,a=null,o=[],s=0;if(t&&"Unit"===t.type)a=t.clone();else if("string"==typeof t)""!==t&&(n=t);else{if("object"!==Xn(t))throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');n=t.definition,i=t.prefixes,s=t.offset,t.aliases&&(o=t.aliases.valueOf())}if(o)for(var u=0;u<o.length;u++)if(D.hasOwnProperty(o[u]))throw new Error('Cannot create alias "'+o[u]+'": a unit with that name already exists');if(n&&"string"==typeof n&&!a)try{a=_.parse(n,{allowNoUnits:!0})}catch(t){throw t.message='Could not create unit "'+e+'" from "'+n+'": '+t.message,t}else n&&"Unit"===n.type&&(a=n.clone());o=o||[],s=s||0,i=i&&i.toUpperCase&&k[i.toUpperCase()]||k.NONE;var c={};if(a){c={name:e,value:a.value,dimensions:a.dimensions.slice(0),prefixes:i,offset:s};var l=!1;for(var f in I)if(I.hasOwnProperty(f)){for(var p=!0,m=0;m<R.length;m++)if(Math.abs((c.dimensions[m]||0)-(I[f].dimensions[m]||0))>1e-12){p=!1;break}if(p){l=!0,c.base=I[f];break}}if(!l){var h=e+"_STUFF",d={dimensions:a.dimensions.slice(0)};d.key=h,I[h]=d,B[h]={unit:c,prefix:k.NONE[""]},c.base=I[h]}}else{var v=e+"_STUFF";if(R.indexOf(v)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var g in R.push(v),I)I.hasOwnProperty(g)&&(I[g].dimensions[R.length-1]=0);for(var y={dimensions:[]},b=0;b<R.length;b++)y.dimensions[b]=0;y.dimensions[R.length-1]=1,y.key=v,I[v]=y,c={name:e,value:1,dimensions:I[v].dimensions.slice(0),prefixes:i,offset:s,base:I[v]},B[v]={unit:c,prefix:k.NONE[""]}}_.UNITS[e]=c;for(var x=0;x<o.length;x++){var w=o[x],N={};for(var E in c)c.hasOwnProperty(E)&&(N[E]=c[E]);N.name=w,_.UNITS[w]=N}return new _(null,e)},_.deleteUnit=function(e){delete _.UNITS[e]},_.PREFIXES=k,_.BASE_DIMENSIONS=R,_.BASE_UNITS=I,_.UNIT_SYSTEMS=L,_.UNITS=D,_},math:!0};var ii={name:"unit",factory:function(e,t,r,n){var i=n("unit",{Unit:function(e){return e.clone()},string:function(t){return e.Unit.isValuelessUnit(t)?new e.Unit(null,t):e.Unit.parse(t,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(t,r){return new e.Unit(t,r)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},i}};var ai={name:"createUnit",factory:function(e,t,r,n){return n("createUnit",{"Object, Object":function(t,r){return e.Unit.createUnit(t,r)},Object:function(t){return e.Unit.createUnit(t,{})},"string, Unit | string | Object, Object":function(t,r,n){var i={};return i[t]=r,e.Unit.createUnit(i,n)},"string, Unit | string | Object":function(t,r){var n={};return n[t]=r,e.Unit.createUnit(n,{})},string:function(t){var r={};return r[t]={},e.Unit.createUnit(r,{})}})}};var oi={name:"splitUnit",factory:function(e,t,r,n){return n("splitUnit",{"Unit, Array":function(e,t){return e.splitUnit(t)}})}},si=O.lazy;function ui(e,t,r){si(e,t,r),si(e.expression.mathWithTransform,t,r)}var ci=function(e,t,r,n,i){function a(t){var r=e.Unit.parse(t);return r.fixPrefix=!0,r}ui(i,"speedOfLight",function(){return a("299792458 m s^-1")}),ui(i,"gravitationConstant",function(){return a("6.6738480e-11 m^3 kg^-1 s^-2")}),ui(i,"planckConstant",function(){return a("6.626069311e-34 J s")}),ui(i,"reducedPlanckConstant",function(){return a("1.05457172647e-34 J s")}),ui(i,"magneticConstant",function(){return a("1.2566370614e-6 N A^-2")}),ui(i,"electricConstant",function(){return a("8.854187817e-12 F m^-1")}),ui(i,"vacuumImpedance",function(){return a("376.730313461 ohm")}),ui(i,"coulomb",function(){return a("8.9875517873681764e9 N m^2 C^-2")}),ui(i,"elementaryCharge",function(){return a("1.60217656535e-19 C")}),ui(i,"bohrMagneton",function(){return a("9.2740096820e-24 J T^-1")}),ui(i,"conductanceQuantum",function(){return a("7.748091734625e-5 S")}),ui(i,"inverseConductanceQuantum",function(){return a("12906.403721742 ohm")}),ui(i,"magneticFluxQuantum",function(){return a("2.06783375846e-15 Wb")}),ui(i,"nuclearMagneton",function(){return a("5.0507835311e-27 J T^-1")}),ui(i,"klitzing",function(){return a("25812.807443484 ohm")}),ui(i,"bohrRadius",function(){return a("5.291772109217e-11 m")}),ui(i,"classicalElectronRadius",function(){return a("2.817940326727e-15 m")}),ui(i,"electronMass",function(){return a("9.1093829140e-31 kg")}),ui(i,"fermiCoupling",function(){return a("1.1663645e-5 GeV^-2")}),ui(i,"fineStructure",function(){return.007297352569824}),ui(i,"hartreeEnergy",function(){return a("4.3597443419e-18 J")}),ui(i,"protonMass",function(){return a("1.67262177774e-27 kg")}),ui(i,"deuteronMass",function(){return a("3.3435830926e-27 kg")}),ui(i,"neutronMass",function(){return a("1.6749271613e-27 kg")}),ui(i,"quantumOfCirculation",function(){return a("3.636947552024e-4 m^2 s^-1")}),ui(i,"rydberg",function(){return a("10973731.56853955 m^-1")}),ui(i,"thomsonCrossSection",function(){return a("6.65245873413e-29 m^2")}),ui(i,"weakMixingAngle",function(){return.222321}),ui(i,"efimovFactor",function(){return 22.7}),ui(i,"atomicMass",function(){return a("1.66053892173e-27 kg")}),ui(i,"avogadro",function(){return a("6.0221412927e23 mol^-1")}),ui(i,"boltzmann",function(){return a("1.380648813e-23 J K^-1")}),ui(i,"faraday",function(){return a("96485.336521 C mol^-1")}),ui(i,"firstRadiation",function(){return a("3.7417715317e-16 W m^2")}),ui(i,"loschmidt",function(){return a("2.686780524e25 m^-3")}),ui(i,"gasConstant",function(){return a("8.314462175 J K^-1 mol^-1")}),ui(i,"molarPlanckConstant",function(){return a("3.990312717628e-10 J s mol^-1")}),ui(i,"molarVolume",function(){return a("2.241396820e-10 m^3 mol^-1")}),ui(i,"sackurTetrode",function(){return-1.164870823}),ui(i,"secondRadiation",function(){return a("1.438777013e-2 m K")}),ui(i,"stefanBoltzmann",function(){return a("5.67037321e-8 W m^-2 K^-4")}),ui(i,"wienDisplacement",function(){return a("2.897772126e-3 m K")}),ui(i,"molarMass",function(){return a("1e-3 kg mol^-1")}),ui(i,"molarMassC12",function(){return a("1.2e-2 kg mol^-1")}),ui(i,"gravity",function(){return a("9.80665 m s^-2")}),ui(i,"planckLength",function(){return a("1.61619997e-35 m")}),ui(i,"planckMass",function(){return a("2.1765113e-8 kg")}),ui(i,"planckTime",function(){return a("5.3910632e-44 s")}),ui(i,"planckCharge",function(){return a("1.87554595641e-18 C")}),ui(i,"planckTemperature",function(){return a("1.41683385e+32 K")})},li=[jt,Ft,Bt,Yt,tr,dn,vn,gn,bn,xn,[ni,ii,ai,oi,{factory:ci,lazy:!1,math:!0}]],fi="5.10.3";function pi(e,t,r){e[t]=r,e.expression.mathWithTransform[t]=r}function mi(e,t,r){O.lazy(e,t,r),O.lazy(e.expression.mathWithTransform,t,r)}var hi={factory:function e(t,r,n,i,a){a.on("config",function(o,s){o.number!==s.number&&e(t,r,n,i,a)}),pi(a,"true",!0),pi(a,"false",!1),pi(a,"null",null),pi(a,"uninitialized","Error: Constant uninitialized is removed since v4.0.0. Use null instead"),"BigNumber"===r.number?(pi(a,"Infinity",new t.BigNumber(1/0)),pi(a,"NaN",new t.BigNumber(NaN)),mi(a,"pi",function(){return wn.pi(t.BigNumber)}),mi(a,"tau",function(){return wn.tau(t.BigNumber)}),mi(a,"e",function(){return wn.e(t.BigNumber)}),mi(a,"phi",function(){return wn.phi(t.BigNumber)}),mi(a,"E",function(){return a.e}),mi(a,"LN2",function(){return new t.BigNumber(2).ln()}),mi(a,"LN10",function(){return new t.BigNumber(10).ln()}),mi(a,"LOG2E",function(){return new t.BigNumber(1).div(new t.BigNumber(2).ln())}),mi(a,"LOG10E",function(){return new t.BigNumber(1).div(new t.BigNumber(10).ln())}),mi(a,"PI",function(){return a.pi}),mi(a,"SQRT1_2",function(){return new t.BigNumber("0.5").sqrt()}),mi(a,"SQRT2",function(){return new t.BigNumber(2).sqrt()})):(pi(a,"Infinity",1/0),pi(a,"NaN",NaN),pi(a,"pi",Math.PI),pi(a,"tau",2*Math.PI),pi(a,"e",Math.E),pi(a,"phi",1.618033988749895),pi(a,"E",a.e),pi(a,"LN2",Math.LN2),pi(a,"LN10",Math.LN10),pi(a,"LOG2E",Math.LOG2E),pi(a,"LOG10E",Math.LOG10E),pi(a,"PI",a.pi),pi(a,"SQRT1_2",Math.SQRT1_2),pi(a,"SQRT2",Math.SQRT2)),t.Complex&&pi(a,"i",t.Complex.I),pi(a,"version",fi)},lazy:!1,math:!0};function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vi=O.hasOwnProperty;function gi(e,t){return!(!e||"object"!==di(e))&&(!!vi(xi,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function yi(e,t){return!(!e||"function"!=typeof e[t])&&(!(vi(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!vi(wi,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function bi(e){return"object"===di(e)&&e&&e.constructor===Object}var xi={length:!0,name:!0},wi={toString:!0,valueOf:!0,toLocaleString:!0},_i={getSafeProperty:function(e,t){if(bi(e)&&gi(e,t))return e[t];if("function"==typeof e[t]&&yi(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')},setSafeProperty:function(e,t,r){if(bi(e)&&gi(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')},isSafeProperty:gi,validateSafeMethod:function(e,t){if(!yi(e,t))throw new Error('No access to method "'+t+'"')},isSafeMethod:yi,isPlainObject:bi},Ni={end:!0};function Ei(e){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Si=O.deepEqual,Mi=O.hasOwnProperty;var Ai={name:"Node",path:"expression.node",math:!0,factory:function(e,t,r,n,i){function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator")}return a.prototype.eval=function(e){return this.compile().eval(e)},a.prototype.type="Node",a.prototype.isNode=!0,a.prototype.comment="",a.prototype.compile=function(){var e=this._compile(i.expression.mathWithTransform,{}),t={};return{eval:function(r){var n=r||{};return function(e){for(var t in e)if(Mi(e,t)&&t in Ni)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(n),e(n,t,null)}}},a.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},a.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},a.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},a.prototype._ifNode=function(t){if(!e.isNode(t))throw new TypeError("Callback function must return a Node");return t},a.prototype.traverse=function(e){e(this,null,null),function e(t,r){t.forEach(function(t,n,i){r(t,n,i),e(t,r)})}(this,e)},a.prototype.transform=function(e){return function e(t,r){return t.map(function(t,n,i){return e(r(t,n,i),r)})}(e(this,null,null),e)},a.prototype.filter=function(e){var t=[];return this.traverse(function(r,n,i){e(r,n,i)&&t.push(r)}),t},a.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},a.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},a.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},a.prototype.cloneDeep=function(){return this.map(function(e){return e.cloneDeep()})},a.prototype.equals=function(e){return!!e&&Si(this,e)},a.prototype.toString=function(e){var t;if(e&&"object"===Ei(e))switch(Ei(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toString(e)},a.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},a.prototype.toHTML=function(e){var t;if(e&&"object"===Ei(e))switch(Ei(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this.toHTML(e)},a.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},a.prototype.toTex=function(e){var t;if(e&&"object"===Ei(e))switch(Ei(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toTex(e)},a.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},a.prototype.getIdentifier=function(){return this.type},a.prototype.getContent=function(){return this},a}},Oi=function(e){return e&&e.isIndexError?new ar(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e},Ci=O.clone,Pi=or.validateIndex,Ti=_i.getSafeProperty,ki=_i.setSafeProperty;function Ri(e,t){if(1!==t.size().length)throw new nr(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return Ti(e,r)}function Ii(e,t,r){if(1!==t.size().length)throw new nr(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var i=Ci(e);return ki(i,n,r),i}var ji={name:"subset",factory:function(e,t,r,n){var i=r(zr),a=n("subset",{"Array, Index":function(e,t){var r=i(e).subset(t);return t.isScalar()?r:r.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":Ri,"string, Index":function(t,r){if(!e.isIndex(r))throw new TypeError("Index expected");if(1!==r.size().length)throw new nr(r.size().length,1);var n=t.length;Pi(r.min()[0],n),Pi(r.max()[0],n);var i=r.dimension(0),a="";return i.forEach(function(e){a+=t.charAt(e)}),a},"Array, Index, any":function(e,t,r){return i(Ci(e)).subset(t,r,void 0).valueOf()},"Array, Index, any, any":function(e,t,r,n){return i(Ci(e)).subset(t,r,n).valueOf()},"Matrix, Index, any":function(e,t,r){return e.clone().subset(t,r)},"Matrix, Index, any, any":function(e,t,r,n){return e.clone().subset(t,r,n)},"string, Index, string":o,"string, Index, string, string":o,"Object, Index, any":Ii});return a.toTex=void 0,a;function o(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new nr(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=t.dimension(0);if(i.size()[0]!==r.length)throw new nr(i.size()[0],r.length);var a=e.length;Pi(t.min()[0]),Pi(t.max()[0]);for(var o=[],s=0;s<a;s++)o[s]=e.charAt(s);if(i.forEach(function(e,t){o[e]=r.charAt(t[0])}),o.length>a)for(var u=a-1,c=o.length;u<c;u++)o[u]||(o[u]=n);return o.join("")}}};function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Di=Oi,$i=_i.getSafeProperty;var zi={factory:function(e,t,r,n){var i=r(ji);return function(e,t){try{if(Array.isArray(e))return i(e,t);if(e&&"function"==typeof e.subset)return e.subset(t);if("string"==typeof e)return i(e,t);if("object"===Fi(e)){if(!t.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return $i(e,t.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(e){throw Di(e)}}}},Li=_i.getSafeProperty;var Bi={name:"AccessorNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai),a=r(zi);function o(t,r){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError('Node expected for parameter "object"');if(!e.isIndexNode(r))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=r,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function s(t){return!(e.isAccessorNode(t)||e.isArrayNode(t)||e.isConstantNode(t)||e.isFunctionNode(t)||e.isObjectNode(t)||e.isParenthesisNode(t)||e.isSymbolNode(t))}return o.prototype=new i,o.prototype.type="AccessorNode",o.prototype.isAccessorNode=!0,o.prototype._compile=function(e,t){var r=this.object._compile(e,t),n=this.index._compile(e,t);if(this.index.isObjectProperty()){var i=this.index.getObjectProperty();return function(e,t,n){return Li(r(e,t,n),i)}}return function(e,t,i){var o=r(e,t,i),s=n(e,t,o);return a(o,s)}},o.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},o.prototype.clone=function(){return new o(this.object,this.index)},o.prototype._toString=function(e){var t=this.object.toString(e);return s(this.object)&&(t="("+t+")"),t+this.index.toString(e)},o.prototype.toHTML=function(e){var t=this.object.toHTML(e);return s(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},o.prototype._toTex=function(e){var t=this.object.toTex(e);return s(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},o.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},o.fromJSON=function(e){return new o(e.object,e.index)},o}},qi=or.map;var Ui={name:"ArrayNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai);function a(t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(e.isNode))throw new TypeError("Array containing Nodes expected");var r=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:r,set:r})}return a.prototype=new i,a.prototype.type="ArrayNode",a.prototype.isArrayNode=!0,a.prototype._compile=function(e,t){var r=qi(this.items,function(r){return r._compile(e,t)});if("Array"!==e.config().matrix){var n=e.matrix;return function(e,t,i){return n(qi(r,function(r){return r(e,t,i)}))}}return function(e,t,n){return qi(r,function(r){return r(e,t,n)})}},a.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++)e(this.items[t],"items["+t+"]",this)},a.prototype.map=function(e){for(var t=[],r=0;r<this.items.length;r++)t[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new a(t)},a.prototype.clone=function(){return new a(this.items.slice(0))},a.prototype._toString=function(e){return"["+this.items.map(function(t){return t.toString(e)}).join(", ")+"]"},a.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},a.fromJSON=function(e){return new a(e.items)},a.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(t){return t.toHTML(e)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},a.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach(function(r){r.items?t+=r.items.map(function(t){return t.toTex(e)}).join("&"):t+=r.toTex(e),t+="\\\\"}),t+="\\end{bmatrix}"},a}};function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Hi=Oi,Wi=_i.setSafeProperty;var Gi={factory:function(e,t,r,n){var i=r(ji),a=r(zr);return function(e,t,r){try{if(Array.isArray(e))return a(e).subset(t,r).valueOf();if(e&&"function"==typeof e.subset)return e.subset(t,r);if("string"==typeof e)return i(e,t,r);if("object"===Vi(e)){if(!t.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Wi(e,t.getObjectProperty(),r),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(e){throw Hi(e)}}}},Zi=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function Ji(e,t){var r=e;"keep"!==t&&(r=e.getContent());for(var n=r.getIdentifier(),i=0;i<Zi.length;i++)if(n in Zi[i])return i;return null}var Qi={properties:Zi,getPrecedence:Ji,getAssociativity:function(e,t){var r=e;"keep"!==t&&(r=e.getContent());var n=r.getIdentifier(),i=Ji(r,t);if(null===i)return null;var a=Zi[i][n];if(a.hasOwnProperty("associativity")){if("left"===a.associativity)return"left";if("right"===a.associativity)return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null},isAssociativeWith:function(e,t,r){var n="keep"!==r?e.getContent():e,i="keep"!==r?e.getContent():t,a=n.getIdentifier(),o=i.getIdentifier(),s=Ji(n,r);if(null===s)return null;var u=Zi[s][a];if(u.hasOwnProperty("associativeWith")&&u.associativeWith instanceof Array){for(var c=0;c<u.associativeWith.length;c++)if(u.associativeWith[c]===o)return!0;return!1}return null}},Ki=_i.getSafeProperty,Yi=_i.setSafeProperty;var Xi={name:"AssignmentNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai),a=r(Gi),o=r(zi),s=Qi;function u(t,r,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=n?r:null,this.value=n||r,!e.isSymbolNode(t)&&!e.isAccessorNode(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(e.isSymbolNode(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!e.isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!e.isNode(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function c(e,t){t||(t="keep");var r=s.getPrecedence(e,t),n=s.getPrecedence(e.value,t);return"all"===t||null!==n&&n<=r}return u.prototype=new i,u.prototype.type="AssignmentNode",u.prototype.isAssignmentNode=!0,u.prototype._compile=function(t,r){var n=this.object._compile(t,r),i=this.index?this.index._compile(t,r):null,s=this.value._compile(t,r),u=this.object.name;if(this.index){if(this.index.isObjectProperty()){var c=this.index.getObjectProperty();return function(e,t,r){var i=n(e,t,r),a=s(e,t,r);return Yi(i,c,a)}}if(e.isSymbolNode(this.object))return function(e,t,r){var o=n(e,t,r),c=s(e,t,r),l=i(e,t,o);return Yi(e,u,a(o,l,c)),c};var l=this.object.object._compile(t,r);if(this.object.index.isObjectProperty()){var f=this.object.index.getObjectProperty();return function(e,t,r){var n=l(e,t,r),o=Ki(n,f),u=i(e,t,o),c=s(e,t,r);return Yi(n,f,a(o,u,c)),c}}var p=this.object.index._compile(t,r);return function(e,t,r){var n=l(e,t,r),u=p(e,t,n),c=o(n,u),f=i(e,t,c),m=s(e,t,r);return a(n,u,a(c,f,m)),m}}if(!e.isSymbolNode(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,r){return Yi(e,u,s(e,t,r))}},u.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},u.prototype.map=function(e){return new u(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},u.prototype.clone=function(){return new u(this.object,this.index,this.value)},u.prototype._toString=function(e){var t=this.object.toString(e),r=this.index?this.index.toString(e):"",n=this.value.toString(e);return c(this,e&&e.parenthesis)&&(n="("+n+")"),t+r+" = "+n},u.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},u.fromJSON=function(e){return new u(e.object,e.index,e.value)},u.prototype.toHTML=function(e){var t=this.object.toHTML(e),r=this.index?this.index.toHTML(e):"",n=this.value.toHTML(e);return c(this,e&&e.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},u.prototype._toTex=function(e){var t=this.object.toTex(e),r=this.index?this.index.toTex(e):"",n=this.value.toTex(e);return c(this,e&&e.parenthesis)&&(n="\\left(".concat(n,"\\right)")),t+r+":="+n},u}},ea=or.forEach,ta=or.map;var ra={name:"BlockNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai),a=r(yn);function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map(function(t){var r=t&&t.node,n=!t||void 0===t.visible||t.visible;if(!e.isNode(r))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:r,visible:n}})}return o.prototype=new i,o.prototype.type="BlockNode",o.prototype.isBlockNode=!0,o.prototype._compile=function(e,t){var r=ta(this.blocks,function(r){return{eval:r.node._compile(e,t),visible:r.visible}});return function(e,t,n){var i=[];return ea(r,function(r){var a=r.eval(e,t,n);r.visible&&i.push(a)}),new a(i)}},o.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},o.prototype.map=function(e){for(var t=[],r=0;r<this.blocks.length;r++){var n=this.blocks[r],i=this._ifNode(e(n.node,"blocks["+r+"].node",this));t[r]={node:i,visible:n.visible}}return new o(t)},o.prototype.clone=function(){return new o(this.blocks.map(function(e){return{node:e.node,visible:e.visible}}))},o.prototype._toString=function(e){return this.blocks.map(function(t){return t.node.toString(e)+(t.visible?"":";")}).join("\n")},o.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},o.fromJSON=function(e){return new o(e.blocks)},o.prototype.toHTML=function(e){return this.blocks.map(function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},o.prototype._toTex=function(e){return this.blocks.map(function(t){return t.node.toTex(e)+(t.visible?"":";")}).join("\\;\\;\n")},o}};var na={name:"ConditionalNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai),a=r(hr);function o(t,r,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError("Parameter condition must be a Node");if(!e.isNode(r))throw new TypeError("Parameter trueExpr must be a Node");if(!e.isNode(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=r,this.falseExpr=n}return o.prototype=new i,o.prototype.type="ConditionalNode",o.prototype.isConditionalNode=!0,o.prototype._compile=function(t,r){var n=this.condition._compile(t,r),i=this.trueExpr._compile(t,r),o=this.falseExpr._compile(t,r);return function(t,r,s){return function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return!!t;if(t){if(e.isBigNumber(t))return!t.isZero();if(e.isComplex(t))return!(!t.re&&!t.im);if(e.isUnit(t))return!!t.value}if(null==t)return!1;throw new TypeError('Unsupported type of condition "'+a(t)+'"')}(n(t,r,s))?i(t,r,s):o(t,r,s)}},o.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},o.prototype.clone=function(){return new o(this.condition,this.trueExpr,this.falseExpr)},o.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=Qi.getPrecedence(this,t),n=this.condition.toString(e),i=Qi.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n="("+n+")");var a=this.trueExpr.toString(e),o=Qi.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==o&&o<=r)&&(a="("+a+")");var s=this.falseExpr.toString(e),u=Qi.getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(s="("+s+")"),n+" ? "+a+" : "+s},o.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},o.fromJSON=function(e){return new o(e.condition,e.trueExpr,e.falseExpr)},o.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=Qi.getPrecedence(this,t),n=this.condition.toHTML(e),i=Qi.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.trueExpr.toHTML(e),o=Qi.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==o&&o<=r)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.falseExpr.toHTML(e),u=Qi.getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+a+'<span class="math-operator math-conditional-operator">:</span>'+s},o.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},o}},ia=$t.format,aa=Kt.escape;var oa={name:"ConstantNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai),a=r(hr);function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(2===arguments.length)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=e}return o.prototype=new i,o.prototype.type="ConstantNode",o.prototype.isConstantNode=!0,o.prototype._compile=function(e,t){var r=this.value;return function(){return r}},o.prototype.forEach=function(e){},o.prototype.map=function(e){return this.clone()},o.prototype.clone=function(){return new o(this.value)},o.prototype._toString=function(e){return ia(this.value,e)},o.prototype.toHTML=function(e){var t=this._toString(e);switch(a(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},o.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},o.fromJSON=function(e){return new o(e.value)},o.prototype._toTex=function(e){var t=this._toString(e);switch(a(this.value)){case"string":return"\\mathtt{"+aa(t)+"}";case"number":case"BigNumber":var r=t.toLowerCase().indexOf("e");return-1!==r?t.substring(0,r)+"\\cdot10^{"+t.substring(r+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},o}},sa=$t.escape,ua=or.forEach,ca=or.join,la=_i.setSafeProperty;var fa={name:"FunctionAssignmentNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai);function a(t,r,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(r))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!e.isNode(n))throw new TypeError('Node expected for parameter "expr"');if(t in Ni)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=r.map(function(e){return e&&e.name||e}),this.types=r.map(function(e){return e&&e.type||"any"}),this.expr=n}function o(e,t){var r=Qi.getPrecedence(e,t),n=Qi.getPrecedence(e.expr,t);return"all"===t||null!==n&&n<=r}return a.prototype=new i,a.prototype.type="FunctionAssignmentNode",a.prototype.isFunctionAssignmentNode=!0,a.prototype._compile=function(e,t){var r=Object.create(t);ua(this.params,function(e){r[e]=!0});var i=this.expr._compile(e,r),a=this.name,o=this.params,s=ca(this.types,","),u=a+"("+ca(this.params,", ")+")";return function(e,t,r){var c={};c[s]=function(){for(var n=Object.create(t),a=0;a<o.length;a++)n[o[a]]=arguments[a];return i(e,n,r)};var l=n(a,c);return l.syntax=u,la(e,a,l),l}},a.prototype.forEach=function(e){e(this.expr,"expr",this)},a.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new a(this.name,this.params.slice(0),t)},a.prototype.clone=function(){return new a(this.name,this.params.slice(0),this.expr)},a.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toString(e);return o(this,t)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},a.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(t,r){return{name:t,type:e[r]}}),expr:this.expr}},a.fromJSON=function(e){return new a(e.name,e.params,e.expr)},a.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+sa(this.params[n])+"</span>");var i=this.expr.toHTML(e);return o(this,t)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+sa(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i},a.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toTex(e);return o(this,t)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(Kt.toSymbol).join(",")+"\\right):="+r},a}},pa=or.map,ma=$t.escape;var ha={name:"IndexNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai),a=r(mn),o=Array.isArray;function s(t,r){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=r||!1,!o(t)||!t.every(e.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var n=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}function u(t,r,n){return new a(e.isBigNumber(t)?t.toNumber():t,e.isBigNumber(r)?r.toNumber():r,e.isBigNumber(n)?n.toNumber():n)}return s.prototype=new i,s.prototype.type="IndexNode",s.prototype.isIndexNode=!0,s.prototype._compile=function(t,r){var n=pa(this.dimensions,function(n,i){if(e.isRangeNode(n)){if(n.needsEnd()){var a=Object.create(r);a.end=!0;var o=n.start._compile(t,a),s=n.end._compile(t,a),c=n.step?n.step._compile(t,a):function(){return 1};return function(e,r,n){var a=t.size(n).valueOf(),l=Object.create(r);return l.end=a[i],u(o(e,l,n),s(e,l,n),c(e,l,n))}}var l=n.start._compile(t,r),f=n.end._compile(t,r),p=n.step?n.step._compile(t,r):function(){return 1};return function(e,t,r){return u(l(e,t,r),f(e,t,r),p(e,t,r))}}if(e.isSymbolNode(n)&&"end"===n.name){var m=Object.create(r);m.end=!0;var h=n._compile(t,m);return function(e,r,n){var a=t.size(n).valueOf(),o=Object.create(r);return o.end=a[i],h(e,o,n)}}var d=n._compile(t,r);return function(e,t,r){return d(e,t,r)}});return function(e,r,i){var a=pa(n,function(t){return t(e,r,i)});return t.index.apply(t,a)}},s.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},s.prototype.map=function(e){for(var t=[],r=0;r<this.dimensions.length;r++)t[r]=this._ifNode(e(this.dimensions[r],"dimensions["+r+"]",this));return new s(t)},s.prototype.clone=function(){return new s(this.dimensions.slice(0))},s.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&e.isConstantNode(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},s.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},s.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},s.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},s.fromJSON=function(e){return new s(e.dimensions,e.dotNotation)},s.prototype.toHTML=function(e){for(var t=[],r=0;r<this.dimensions.length;r++)t[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+ma(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},s.prototype._toTex=function(e){var t=this.dimensions.map(function(t){return t.toTex(e)});return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},s}};function da(e){return(da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var va=$t.stringify,ga=$t.escape,ya=_i.isSafeProperty,ba=O.hasOwnProperty;var xa={name:"ObjectNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai);function a(t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!==da(t)||!Object.keys(t).every(function(r){return e.isNode(t[r])})))throw new TypeError("Object containing Nodes expected")}return a.prototype=new i,a.prototype.type="ObjectNode",a.prototype.isObjectNode=!0,a.prototype._compile=function(e,t){var r={};for(var n in this.properties)if(ba(this.properties,n)){var i=va(n),a=JSON.parse(i);if(!ya(this.properties,a))throw new Error('No access to property "'+a+'"');r[a]=this.properties[n]._compile(e,t)}return function(e,t,n){var i={};for(var a in r)ba(r,a)&&(i[a]=r[a](e,t,n));return i}},a.prototype.forEach=function(e){for(var t in this.properties)this.properties.hasOwnProperty(t)&&e(this.properties[t],"properties["+va(t)+"]",this)},a.prototype.map=function(e){var t={};for(var r in this.properties)this.properties.hasOwnProperty(r)&&(t[r]=this._ifNode(e(this.properties[r],"properties["+va(r)+"]",this)));return new a(t)},a.prototype.clone=function(){var e={};for(var t in this.properties)this.properties.hasOwnProperty(t)&&(e[t]=this.properties[t]);return new a(e)},a.prototype._toString=function(e){var t=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&t.push(va(r)+": "+this.properties[r].toString(e));return"{"+t.join(", ")+"}"},a.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},a.fromJSON=function(e){return new a(e.properties)},a.prototype.toHTML=function(e){var t=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&t.push('<span class="math-symbol math-property">'+ga(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},a.prototype._toTex=function(e){var t=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&t.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}")},a}},wa=or.map,_a=$t.escape,Na=_i.isSafeMethod,Ea=_i.getSafeProperty;var Sa={name:"OperatorNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai);function a(t,r,n,i){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof r)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(e.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=r,this.args=n||[]}function o(e,t,r,n,i){var a,o=Qi.getPrecedence(e,t),s=Qi.getAssociativity(e,t);if("all"===t||n.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return n.map(function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(n.length){case 0:a=[];break;case 1:var u=Qi.getPrecedence(n[0],t);if(i&&null!==u){var c,l;if("keep"===t?(c=n[0].getIdentifier(),l=e.getIdentifier()):(c=n[0].getContent().getIdentifier(),l=e.getContent().getIdentifier()),!1===Qi.properties[o][l].latexLeftParens){a=[!1];break}if(!1===Qi.properties[u][c].latexParens){a=[!1];break}}if(null===u){a=[!1];break}if(u<=o){a=[!0];break}a=[!1];break;case 2:var f,p,m=Qi.getPrecedence(n[0],t),h=Qi.isAssociativeWith(e,n[0],t);f=null!==m&&(m===o&&"right"===s&&!h||m<o);var d,v,g,y=Qi.getPrecedence(n[1],t),b=Qi.isAssociativeWith(e,n[1],t);p=null!==y&&(y===o&&"left"===s&&!b||y<o),i&&("keep"===t?(d=e.getIdentifier(),v=e.args[0].getIdentifier(),g=e.args[1].getIdentifier()):(d=e.getContent().getIdentifier(),v=e.args[0].getContent().getIdentifier(),g=e.args[1].getContent().getIdentifier()),null!==m&&(!1===Qi.properties[o][d].latexLeftParens&&(f=!1),!1===Qi.properties[m][v].latexParens&&(f=!1)),null!==y&&(!1===Qi.properties[o][d].latexRightParens&&(p=!1),!1===Qi.properties[y][g].latexParens&&(p=!1))),a=[f,p];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(a=n.map(function(r){var n=Qi.getPrecedence(r,t),i=Qi.isAssociativeWith(e,r,t),a=Qi.getAssociativity(r,t);return null!==n&&(o===n&&s===a&&!i||n<o)}))}return n.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===r&&(a=n.map(function(e,t){var r="ParenthesisNode"===e.getIdentifier();return!(!a[t]&&!r)})),a}return a.prototype=new i,a.prototype.type="OperatorNode",a.prototype.isOperatorNode=!0,a.prototype._compile=function(e,t){if("string"!=typeof this.fn||!Na(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=Ea(e,this.fn),n=wa(this.args,function(r){return r._compile(e,t)});if(1===n.length){var i=n[0];return function(e,t,n){return r(i(e,t,n))}}if(2===n.length){var a=n[0],o=n[1];return function(e,t,n){return r(a(e,t,n),o(e,t,n))}}return function(e,t,i){return r.apply(null,wa(n,function(r){return r(e,t,i)}))}},a.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},a.prototype.map=function(e){for(var t=[],r=0;r<this.args.length;r++)t[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new a(this.op,this.fn,t,this.implicit)},a.prototype.clone=function(){return new a(this.op,this.fn,this.args.slice(0),this.implicit)},a.prototype.isUnary=function(){return 1===this.args.length},a.prototype.isBinary=function(){return 2===this.args.length},a.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",n=this.args,i=o(this,t,r,n,!1);if(1===n.length){var a=Qi.getAssociativity(this,t),s=n[0].toString(e);i[0]&&(s="("+s+")");var u=/[a-zA-Z]+/.test(this.op);return"right"===a?this.op+(u?" ":"")+s:"left"===a?s+(u?" ":"")+this.op:s+this.op}if(2===n.length){var c=n[0].toString(e),l=n[1].toString(e);return i[0]&&(c="("+c+")"),i[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c+" "+l:c+" "+this.op+" "+l}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=n.map(function(t,r){return t=t.toString(e),i[r]&&(t="("+t+")"),t});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?f.join(" "):f.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},a.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},a.fromJSON=function(e){return new a(e.op,e.fn,e.args,e.implicit)},a.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",n=this.args,i=o(this,t,r,n,!1);if(1===n.length){var a=Qi.getAssociativity(this,t),s=n[0].toHTML(e);return i[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+_a(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+_a(this.op)+"</span>"}if(2===n.length){var u=n[0].toHTML(e),c=n[1].toHTML(e);return i[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),i[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+_a(this.op)+"</span>"+c}var l=n.map(function(t,r){return t=t.toHTML(e),i[r]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t});return n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):l.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+_a(this.op)+"</span>"):'<span class="math-function">'+_a(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},a.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",n=this.args,i=o(this,t,r,n,!0),a=Kt.operators[this.fn];if(a=void 0===a?this.op:a,1===n.length){var s=Qi.getAssociativity(this,t),u=n[0].toTex(e);return i[0]&&(u="\\left(".concat(u,"\\right)")),"right"===s?a+u:u+a}if(2===n.length){var c=n[0],l=c.toTex(e);i[0]&&(l="\\left(".concat(l,"\\right)"));var f,p=n[1].toTex(e);switch(i[1]&&(p="\\left(".concat(p,"\\right)")),f="keep"===t?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+l+"}{"+p+"}";case"OperatorNode:pow":switch(l="{"+l+"}",p="{"+p+"}",f){case"ConditionalNode":case"OperatorNode:divide":l="\\left(".concat(l,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return l+"~"+p}return l+a+p}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var m=n.map(function(t,r){return t=t.toTex(e),i[r]&&(t="\\left(".concat(t,"\\right)")),t});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?m.join("~"):m.join(a)}return"\\mathrm{"+this.fn+"}\\left("+n.map(function(t){return t.toTex(e)}).join(",")+"\\right)"},a.prototype.getIdentifier=function(){return this.type+":"+this.fn},a}};var Ma={name:"ParenthesisNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai);function a(t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError('Node expected for parameter "content"');this.content=t}return a.prototype=new i,a.prototype.type="ParenthesisNode",a.prototype.isParenthesisNode=!0,a.prototype._compile=function(e,t){return this.content._compile(e,t)},a.prototype.getContent=function(){return this.content.getContent()},a.prototype.forEach=function(e){e(this.content,"content",this)},a.prototype.map=function(e){return new a(e(this.content,"content",this))},a.prototype.clone=function(){return new a(this.content)},a.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},a.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},a.fromJSON=function(e){return new a(e.content)},a.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},a.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)},a}},Aa=$t.escape,Oa=O.hasOwnProperty,Ca=_i.getSafeProperty;var Pa={name:"SymbolNode",path:"expression.node",math:!0,factory:function(e,t,r,n,i){var a=r(Ai);function o(t){return!!e.Unit&&e.Unit.isValuelessUnit(t)}function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return s.prototype=new a,s.prototype.type="SymbolNode",s.prototype.isSymbolNode=!0,s.prototype._compile=function(t,r){var n=this.name;if(Oa(r,n))return function(e,t,r){return t[n]};if(n in t)return function(e,r,i){return Ca(n in e?e:t,n)};var i=o(n);return function(t,r,a){return n in t?Ca(t,n):i?new e.Unit(null,n):function(e){throw new Error("Undefined symbol "+e)}(n)}},s.prototype.forEach=function(e){},s.prototype.map=function(e){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(e){return this.name},s.prototype.toHTML=function(e){var t=Aa(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},s.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},s.fromJSON=function(e){return new s(e.name)},s.prototype._toTex=function(e){var t=!1;void 0===i[this.name]&&o(this.name)&&(t=!0);var r=Kt.toSymbol(this.name,t);return"\\"===r[0]?r:" "+r},s}};function Ta(e){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ka(){return(ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ra=Kt,Ia=$t.escape,ja=O.hasOwnProperty,Fa=or.map,Da=_i.validateSafeMethod,$a=_i.getSafeProperty;var za={name:"FunctionNode",path:"expression.node",math:!0,factory:function(e,t,r,n,i){var a=r(Ai),o=r(Pa);function s(t,r){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new o(t)),!e.isNode(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(r)||!r.every(e.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=r||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var n=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}s.prototype=new a,s.prototype.type="FunctionNode",s.prototype.isFunctionNode=!0,s.prototype._compile=function(t,r){if(!(this instanceof s))throw new TypeError("No valid FunctionNode");var n=Fa(this.args,function(e){return e._compile(t,r)});if(e.isSymbolNode(this.fn)){var i=this.fn.name,a=i in t?$a(t,i):void 0;if("function"==typeof a&&!0===a.rawArgs){var o=this.args;return function(e,r,n){return(i in e?$a(e,i):a)(o,t,ka({},e,r))}}if(1===n.length){var u=n[0];return function(e,t,r){return(i in e?$a(e,i):a)(u(e,t,r))}}if(2===n.length){var c=n[0],l=n[1];return function(e,t,r){return(i in e?$a(e,i):a)(c(e,t,r),l(e,t,r))}}return function(e,t,r){return(i in e?$a(e,i):a).apply(null,Fa(n,function(n){return n(e,t,r)}))}}if(e.isAccessorNode(this.fn)&&e.isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var f=this.fn.object._compile(t,r),p=this.fn.index.getObjectProperty(),m=this.args;return function(e,r,i){var a=f(e,r,i);return Da(a,p),a[p]&&a[p].rawArgs?a[p](m,t,ka({},e,r)):a[p].apply(a,Fa(n,function(t){return t(e,r,i)}))}}var h=this.fn._compile(t,r),d=this.args;return function(e,r,i){var a=h(e,r,i);return a&&a.rawArgs?a(d,t,ka({},e,r)):a.apply(a,Fa(n,function(t){return t(e,r,i)}))}},s.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},s.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new s(t,r)},s.prototype.clone=function(){return new s(this.fn,this.args.slice(0))};var u=s.prototype.toString;function c(t,r,n){for(var i,a="",o=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),s=0;null!==(i=o.exec(t));)if(a+=t.substring(s,i.index),s=i.index,"$$"===i[0])a+="$",s++;else{s+=i[0].length;var u=r[i[1]];if(!u)throw new ReferenceError("Template: Property "+i[1]+" does not exist.");if(void 0===i[2])switch(Ta(u)){case"string":a+=u;break;case"object":if(e.isNode(u))a+=u.toTex(n);else{if(!Array.isArray(u))throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes");a+=u.map(function(t,r){if(e.isNode(t))return t.toTex(n);throw new TypeError("Template: "+i[1]+"["+r+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes")}else{if(!e.isNode(u[i[2]]&&u[i[2]]))throw new TypeError("Template: "+i[1]+"["+i[2]+"] is not a Node.");a+=u[i[2]].toTex(n)}}return a+=t.slice(s)}s.prototype.toString=function(e){var t,r=this.fn.toString(e);return e&&"object"===Ta(e.handler)&&ja(e.handler,r)&&(t=e.handler[r](this,e)),void 0!==t?t:u.call(this,e)},s.prototype._toString=function(t){var r=this.args.map(function(e){return e.toString(t)});return(e.isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+r.join(", ")+")"},s.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},s.fromJSON=function(e){return new s(e.fn,e.args)},s.prototype.toHTML=function(e){var t=this.args.map(function(t){return t.toHTML(e)});return'<span class="math-function">'+Ia(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var l=s.prototype.toTex;return s.prototype.toTex=function(e){var t;return e&&"object"===Ta(e.handler)&&ja(e.handler,this.name)&&(t=e.handler[this.name](this,e)),void 0!==t?t:l.call(this,e)},s.prototype._toTex=function(e){var t,r,n=this.args.map(function(t){return t.toTex(e)});switch(!i[this.name]||"function"!=typeof i[this.name].toTex&&"object"!==Ta(i[this.name].toTex)&&"string"!=typeof i[this.name].toTex||(t=i[this.name].toTex),Ta(t)){case"function":r=t(this,e);break;case"string":r=c(t,this,e);break;case"object":switch(Ta(t[n.length])){case"function":r=t[n.length](this,e);break;case"string":r=c(t[n.length],this,e)}}return void 0!==r?r:c(Ra.defaultTemplate,this,e)},s.prototype.getIdentifier=function(){return this.type+":"+this.name},s}};var La={name:"RangeNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai);function a(t,r,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError("Node expected");if(!e.isNode(r))throw new TypeError("Node expected");if(n&&!e.isNode(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=r,this.step=n||null}function o(e,t){var r=Qi.getPrecedence(e,t),n={},i=Qi.getPrecedence(e.start,t);if(n.start=null!==i&&i<=r||"all"===t,e.step){var a=Qi.getPrecedence(e.step,t);n.step=null!==a&&a<=r||"all"===t}var o=Qi.getPrecedence(e.end,t);return n.end=null!==o&&o<=r||"all"===t,n}return a.prototype=new i,a.prototype.type="RangeNode",a.prototype.isRangeNode=!0,a.prototype.needsEnd=function(){return this.filter(function(t){return e.isSymbolNode(t)&&"end"===t.name}).length>0},a.prototype._compile=function(e,t){var r=e.range,n=this.start._compile(e,t),i=this.end._compile(e,t);if(this.step){var a=this.step._compile(e,t);return function(e,t,o){return r(n(e,t,o),i(e,t,o),a(e,t,o))}}return function(e,t,a){return r(n(e,t,a),i(e,t,a))}},a.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},a.prototype.map=function(e){return new a(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},a.prototype.clone=function(){return new a(this.start,this.end,this.step&&this.step)},a.prototype._toString=function(e){var t,r=o(this,e&&e.parenthesis?e.parenthesis:"keep"),n=this.start.toString(e);if(r.start&&(n="("+n+")"),t=n,this.step){var i=this.step.toString(e);r.step&&(i="("+i+")"),t+=":"+i}var a=this.end.toString(e);return r.end&&(a="("+a+")"),t+=":"+a},a.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},a.fromJSON=function(e){return new a(e.start,e.end,e.step)},a.prototype.toHTML=function(e){var t,r=o(this,e&&e.parenthesis?e.parenthesis:"keep"),n=this.start.toHTML(e);if(r.start&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=n,this.step){var i=this.step.toHTML(e);r.step&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+i}var a=this.end.toHTML(e);return r.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+a},a.prototype._toTex=function(e){var t=o(this,e&&e.parenthesis?e.parenthesis:"keep"),r=this.start.toTex(e);if(t.start&&(r="\\left(".concat(r,"\\right)")),this.step){var n=this.step.toTex(e);t.step&&(n="\\left(".concat(n,"\\right)")),r+=":"+n}var i=this.end.toTex(e);return t.end&&(i="\\left(".concat(i,"\\right)")),r+=":"+i},a}},Ba=$t.escape;var qa={name:"RelationalNode",path:"expression.node",factory:function(e,t,r,n){var i=r(Ai),a=_i.getSafeProperty;function o(e,t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t}return o.prototype=new i,o.prototype.type="RelationalNode",o.prototype.isRelationalNode=!0,o.prototype._compile=function(e,t){var r=this,n=this.params.map(function(r){return r._compile(e,t)});return function(t,i,o){for(var s,u=n[0](t,i,o),c=0;c<r.conditionals.length;c++)if(s=u,u=n[c+1](t,i,o),!a(e,r.conditionals[c])(s,u))return!1;return!0}},o.prototype.forEach=function(e){var t=this;this.params.forEach(function(r,n){return e(r,"params["+n+"]",t)},this)},o.prototype.map=function(e){var t=this;return new o(this.conditionals.slice(),this.params.map(function(r,n){return t._ifNode(e(r,"params["+n+"]",t))},this))},o.prototype.clone=function(){return new o(this.conditionals,this.params)},o.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=Qi.getPrecedence(this,t),n=this.params.map(function(n,i){var a=Qi.getPrecedence(n,t);return"all"===t||null!==a&&a<=r?"("+n.toString(e)+")":n.toString(e)}),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=n[0],o=0;o<this.conditionals.length;o++)a+=" "+i[this.conditionals[o]]+" "+n[o+1];return a},o.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},o.fromJSON=function(e){return new o(e.conditionals,e.params)},o.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=Qi.getPrecedence(this,t),n=this.params.map(function(n,i){var a=Qi.getPrecedence(n,t);return"all"===t||null!==a&&a<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':n.toHTML(e)}),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=n[0],o=0;o<this.conditionals.length;o++)a+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ba(i[this.conditionals[o]])+"</span>"+n[o+1];return a},o.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=Qi.getPrecedence(this,t),n=this.params.map(function(n,i){var a=Qi.getPrecedence(n,t);return"all"===t||null!==a&&a<=r?"\\left("+n.toTex(e)+"\right)":n.toTex(e)}),i=n[0],a=0;a<this.conditionals.length;a++)i+=Kt.operators[this.conditionals[a]]+n[a+1];return i},o}};function Ua(){return(Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Va={name:"parse",path:"expression",factory:function(e,t,r,n){var i=r(gn),a=r(Bi),o=r(Ui),s=r(Xi),u=r(ra),c=r(na),l=r(oa),f=r(fa),p=r(ha),m=r(xa),h=r(Sa),d=r(Ma),v=r(za),g=r(La),y=r(qa),b=r(Pa);function x(t,r){if(1!==arguments.length&&2!==arguments.length)throw new B("parse",arguments.length,1,2);var n=r&&r.nodes?r.nodes:{};if("string"==typeof t)return j(t,n);if(Array.isArray(t)||t instanceof e.Matrix)return Rt(t,function(e){if("string"!=typeof e)throw new TypeError("String expected");return j(e,n)});throw new TypeError("String or matrix expected")}var w={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},_={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},N={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},E={true:!0,false:!1,null:null,undefined:void 0},S=["NaN","Infinity"];function M(e,t){return e.expression.substr(e.index,t)}function A(e){return M(e,1)}function O(e){e.index++}function C(e){return e.expression.charAt(e.index-1)}function P(e){return e.expression.charAt(e.index+1)}function T(e){for(e.tokenType=w.NULL,e.token="",e.comment="";x.isWhitespace(A(e),e.nestingLevel);)O(e);if("#"===A(e))for(;"\n"!==A(e)&&""!==A(e);)e.comment+=A(e),O(e);if(""!==A(e)){if("\n"===A(e)&&!e.nestingLevel)return e.tokenType=w.DELIMITER,e.token=A(e),void O(e);var t=A(e),r=M(e,2),n=M(e,3);if(3===n.length&&_[n])return e.tokenType=w.DELIMITER,e.token=n,O(e),O(e),void O(e);if(2===r.length&&_[r])return e.tokenType=w.DELIMITER,e.token=r,O(e),void O(e);if(_[t])return e.tokenType=w.DELIMITER,e.token=t,void O(e);if(x.isDigitDot(t)){if(e.tokenType=w.NUMBER,"."===A(e))e.token+=A(e),O(e),x.isDigit(A(e))||(e.tokenType=w.DELIMITER);else{for(;x.isDigit(A(e));)e.token+=A(e),O(e);x.isDecimalMark(A(e),P(e))&&(e.token+=A(e),O(e))}for(;x.isDigit(A(e));)e.token+=A(e),O(e);if("E"===A(e)||"e"===A(e))if(x.isDigit(P(e))||"-"===P(e)||"+"===P(e)){if(e.token+=A(e),O(e),"+"!==A(e)&&"-"!==A(e)||(e.token+=A(e),O(e)),!x.isDigit(A(e)))throw ne(e,'Digit expected, got "'+A(e)+'"');for(;x.isDigit(A(e));)e.token+=A(e),O(e);if(x.isDecimalMark(A(e),P(e)))throw ne(e,'Digit expected, got "'+A(e)+'"')}else if("."===P(e))throw O(e),ne(e,'Digit expected, got "'+A(e)+'"')}else{if(!x.isAlpha(A(e),C(e),P(e))){for(e.tokenType=w.UNKNOWN;""!==A(e);)e.token+=A(e),O(e);throw ne(e,'Syntax error in part "'+e.token+'"')}for(;x.isAlpha(A(e),C(e),P(e))||x.isDigit(A(e));)e.token+=A(e),O(e);N.hasOwnProperty(e.token)?e.tokenType=w.DELIMITER:e.tokenType=w.SYMBOL}}else e.tokenType=w.DELIMITER}function k(e){do{T(e)}while("\n"===e.token)}function R(e){e.nestingLevel++}function I(e){e.nestingLevel--}function j(e,t){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w.NULL,nestingLevel:0,conditionalLevel:null};Ua(r,{expression:e,extraNodes:t}),T(r);var n=function(e){var t,r,n=[];for(""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=F(e)).comment=e.comment);"\n"===e.token||";"===e.token;)0===n.length&&t&&(r=";"!==e.token,n.push({node:t,visible:r})),T(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=F(e)).comment=e.comment,r=";"!==e.token,n.push({node:t,visible:r}));return n.length>0?new u(n):(t||((t=new l(void 0)).comment=e.comment),t)}(r);if(""!==r.token)throw r.tokenType===w.DELIMITER?ie(r,"Unexpected operator "+r.token):ne(r,'Unexpected part "'+r.token+'"');return n}function F(t){var r,n,i,a,o=function(e){for(var t=function(e){for(var t=D(e);"or"===e.token;)k(e),t=new h("or","or",[t,D(e)]);return t}(e);"?"===e.token;){var r=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,k(e);var n=t,i=F(e);if(":"!==e.token)throw ne(e,"False part of conditional expression expected");e.conditionalLevel=null,k(e);var a=F(e);t=new c(n,i,a),e.conditionalLevel=r}return t}(t);if("="===t.token){if(e.isSymbolNode(o))return r=o.name,k(t),i=F(t),new s(new b(r),i);if(e.isAccessorNode(o))return k(t),i=F(t),new s(o.object,o.index,i);if(e.isFunctionNode(o)&&e.isSymbolNode(o.fn)&&(a=!0,n=[],r=o.name,o.args.forEach(function(t,r){e.isSymbolNode(t)?n[r]=t.name:a=!1}),a))return k(t),i=F(t),new f(r,n,i);throw ne(t,"Invalid left hand side of assignment operator =")}return o}function D(e){for(var t=$(e);"xor"===e.token;)k(e),t=new h("xor","xor",[t,$(e)]);return t}function $(e){for(var t=z(e);"and"===e.token;)k(e),t=new h("and","and",[t,z(e)]);return t}function z(e){for(var t=L(e);"|"===e.token;)k(e),t=new h("|","bitOr",[t,L(e)]);return t}function L(e){for(var t=q(e);"^|"===e.token;)k(e),t=new h("^|","bitXor",[t,q(e)]);return t}function q(e){for(var t=U(e);"&"===e.token;)k(e),t=new h("&","bitAnd",[t,U(e)]);return t}function U(e){for(var t=[V(e)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};n.hasOwnProperty(e.token);){var i={name:e.token,fn:n[e.token]};r.push(i),k(e),t.push(V(e))}return 1===t.length?t[0]:2===t.length?new h(r[0].name,r[0].fn,t):new y(r.map(function(e){return e.fn}),t)}function V(e){var t,r,n,i,a;for(t=H(e),r={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};r.hasOwnProperty(e.token);)i=r[n=e.token],k(e),a=[t,H(e)],t=new h(n,i,a);return t}function H(e){var t,r,n,i,a;for(t=W(e),r={to:"to",in:"to"};r.hasOwnProperty(e.token);)i=r[n=e.token],k(e),"in"===n&&""===e.token?t=new h("*","multiply",[t,new b("in")],!0):(a=[t,W(e)],t=new h(n,i,a));return t}function W(e){var t,r=[];if(t=":"===e.token?new l(1):G(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(r.push(t);":"===e.token&&r.length<3;)k(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?r.push(new b("end")):r.push(G(e));t=3===r.length?new g(r[0],r[2],r[1]):new g(r[0],r[1])}return t}function G(e){var t,r,n,i,a;for(t=Z(e),r={"+":"add","-":"subtract"};r.hasOwnProperty(e.token);)i=r[n=e.token],k(e),a=[t,Z(e)],t=new h(n,i,a);return t}function Z(e){var t,r,n,i,a;for(r=t=J(e),n={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};n.hasOwnProperty(e.token);)a=n[i=e.token],k(e),r=J(e),t=new h(i,a,[t,r]);return t}function J(t){var r,n;for(n=r=Q(t);t.tokenType===w.SYMBOL||"in"===t.token&&e.isConstantNode(r)||!(t.tokenType!==w.NUMBER||e.isConstantNode(n)||e.isOperatorNode(n)&&"!"!==n.op)||"("===t.token;)n=Q(t),r=new h("*","multiply",[r,n],!0);return r}function Q(t){for(var r=K(t),n=r,i=[];"/"===t.token&&e.isConstantNode(n);){if(i.push(Ua({},t)),k(t),t.tokenType!==w.NUMBER){Ua(t,i.pop());break}if(i.push(Ua({},t)),k(t),t.tokenType!==w.SYMBOL&&"("!==t.token){i.pop(),Ua(t,i.pop());break}Ua(t,i.pop()),i.pop(),n=K(t),r=new h("/","divide",[r,n])}return r}function K(e){var r,n,a,s={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return s.hasOwnProperty(e.token)?(a=s[e.token],r=e.token,k(e),n=[K(e)],new h(r,a,n)):function(e){var r,n,a,s;return r=function(e){var r,n,a,s;for(r=function(e){var r=[];if(e.tokenType===w.SYMBOL&&e.extraNodes.hasOwnProperty(e.token)){var n=e.extraNodes[e.token];if(T(e),"("===e.token){if(r=[],R(e),T(e),")"!==e.token)for(r.push(F(e));","===e.token;)T(e),r.push(F(e));if(")"!==e.token)throw ne(e,"Parenthesis ) expected");I(e),T(e)}return new n(r)}return function(e){var r,n;return e.tokenType===w.SYMBOL||e.tokenType===w.DELIMITER&&e.token in N?(n=e.token,T(e),r=E.hasOwnProperty(n)?new l(E[n]):-1!==S.indexOf(n)?new l(i(n,"number")):new b(n),r=Y(e,r)):function(e){var r,n;return'"'===e.token?(n=X(e),r=new l(n),r=Y(e,r)):function(e){var r,n;return"'"===e.token?(n=ee(e),r=new l(n),r=Y(e,r)):function(e){var r,n,a,s;if("["===e.token){if(R(e),T(e),"]"!==e.token){var u=te(e);if(";"===e.token){for(a=1,n=[u];";"===e.token;)T(e),n[a]=te(e),a++;if("]"!==e.token)throw ne(e,"End of matrix ] expected");I(e),T(e),s=n[0].items.length;for(var c=1;c<a;c++)if(n[c].items.length!==s)throw ie(e,"Column dimensions mismatch ("+n[c].items.length+" !== "+s+")");r=new o(n)}else{if("]"!==e.token)throw ne(e,"End of matrix ] expected");I(e),T(e),r=u}}else I(e),T(e),r=new o([]);return Y(e,r)}return function(e){if("{"===e.token){var r;R(e);var n={};do{if(T(e),"}"!==e.token){if('"'===e.token)r=X(e);else if("'"===e.token)r=ee(e);else{if(e.tokenType!==w.SYMBOL)throw ne(e,"Symbol or string expected as object key");r=e.token,T(e)}if(":"!==e.token)throw ne(e,"Colon : expected after object key");T(e),n[r]=F(e)}}while(","===e.token);if("}"!==e.token)throw ne(e,"Comma , or bracket } expected after object value");I(e),T(e);var a=new m(n);return a=Y(e,a)}return function(e){var r;return e.tokenType===w.NUMBER?(r=e.token,T(e),new l(i(r,t.number))):function(e){var t;if("("===e.token){if(R(e),T(e),t=F(e),")"!==e.token)throw ne(e,"Parenthesis ) expected");return I(e),T(e),t=new d(t),t=Y(e,t)}return function(e){throw""===e.token?ne(e,"Unexpected end of expression"):ne(e,"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e),n={"!":"factorial","'":"ctranspose"};n.hasOwnProperty(e.token);)a=e.token,s=n[a],T(e),r=new h(a,s,[r]),r=Y(e,r);return r}(e),("^"===e.token||".^"===e.token)&&(n=e.token,a="^"===n?"pow":"dotPow",k(e),s=[r,K(e)],r=new h(n,a,s)),r}(e)}function Y(t,r,n){for(var i;!("("!==t.token&&"["!==t.token&&"."!==t.token||n&&-1===n.indexOf(t.token));)if(i=[],"("===t.token){if(!e.isSymbolNode(r)&&!e.isAccessorNode(r))return r;if(R(t),T(t),")"!==t.token)for(i.push(F(t));","===t.token;)T(t),i.push(F(t));if(")"!==t.token)throw ne(t,"Parenthesis ) expected");I(t),T(t),r=new v(r,i)}else if("["===t.token){if(R(t),T(t),"]"!==t.token)for(i.push(F(t));","===t.token;)T(t),i.push(F(t));if("]"!==t.token)throw ne(t,"Parenthesis ] expected");I(t),T(t),r=new a(r,new p(i))}else{if(T(t),t.tokenType!==w.SYMBOL)throw ne(t,"Property name expected after dot");i.push(new l(t.token)),T(t),r=new a(r,new p(i,!0))}return r}function X(e){for(var t="";""!==A(e)&&'"'!==A(e);)"\\"===A(e)&&(t+=A(e),O(e)),t+=A(e),O(e);if(T(e),'"'!==e.token)throw ne(e,'End of string " expected');return T(e),JSON.parse('"'+t+'"')}function ee(e){for(var t="";""!==A(e)&&"'"!==A(e);)"\\"===A(e)&&(t+=A(e),O(e)),t+=A(e),O(e);if(T(e),"'"!==e.token)throw ne(e,"End of string ' expected");return T(e),JSON.parse('"'+t+'"')}function te(e){for(var t=[F(e)],r=1;","===e.token;)T(e),t[r]=F(e),r++;return new o(t)}function re(e){return e.index-e.token.length+1}function ne(e,t){var r=re(e),n=new SyntaxError(t+" (char "+r+")");return n.char=r,n}function ie(e,t){var r=re(e),n=new SyntaxError(t+" (char "+r+")");return n.char=r,n}return x.isAlpha=function(e,t,r){return x.isValidLatinOrGreek(e)||x.isValidMathSymbol(e,r)||x.isValidMathSymbol(t,e)},x.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},x.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},x.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},x.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},x.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},x.isDigit=function(e){return e>="0"&&e<="9"},x}};var Ha={factory:function(e,t,r,n,i){var a=i.expression.node.FunctionNode,o=i.expression.node.OperatorNode,s=i.expression.node.SymbolNode,u={add:!0,multiply:!0},c={add:!0,multiply:!0};function l(t,r){if(!e.isOperatorNode(t))return!1;var n=t.fn.toString();return r&&r.hasOwnProperty(n)&&r[n].hasOwnProperty("associative")?r[n].associative:c[n]||!1}function f(t){var r,n=[];return l(t)?(r=t.op,function t(i){for(var a=0;a<i.args.length;a++){var o=i.args[a];e.isOperatorNode(o)&&r===o.op?t(o):n.push(o)}}(t),n):t.args}function p(t){return e.isOperatorNode(t)?function(e){try{return new o(t.op,t.fn,e,t.implicit)}catch(e){return console.error(e),[]}}:function(e){return new a(new s(t.name),e)}}return{createMakeNodeFunction:p,isCommutative:function(t,r){if(!e.isOperatorNode(t))return!0;var n=t.fn.toString();return r&&r.hasOwnProperty(n)&&r[n].hasOwnProperty("commutative")?r[n].commutative:u[n]||!1},isAssociative:l,flatten:function e(t){if(!t.args||0===t.args.length)return t;t.args=f(t);for(var r=0;r<t.args.length;r++)e(t.args[r])},allChildren:f,unflattenr:function e(t){if(t.args&&0!==t.args.length){for(var r=p(t),n=t.args.length,i=0;i<n;i++)e(t.args[i]);if(n>2&&l(t)){for(var a=t.args.pop();t.args.length>0;)a=r([t.args.pop(),a]);t.args=a.args}}},unflattenl:function e(t){if(t.args&&0!==t.args.length){for(var r=p(t),n=t.args.length,i=0;i<n;i++)e(t.args[i]);if(n>2&&l(t)){for(var a=t.args.shift();t.args.length>0;)a=r([a,t.args.shift()]);t.args=a.args}}}}},math:!0};var Wa={math:!0,name:"simplifyConstant",path:"algebra.simplify",factory:function(e,t,r,n,i){var a=r(Ha),o=a.isCommutative,s=a.isAssociative,u=a.allChildren,c=a.createMakeNodeFunction,l=i.expression.node.ConstantNode,f=i.expression.node.OperatorNode,p=i.expression.node.FunctionNode;function m(t,r,n){try{return v(i[t].apply(null,r),n)}catch(a){return r=r.map(function(t){return e.isFraction(t)?t.valueOf():t}),v(i[t].apply(null,r),n)}}var h=n({Fraction:function(e){var t,r=e.s*e.n;return t=r<0?new f("-","unaryMinus",[new l(-r)]):new l(r),1===e.d?t:new f("/","divide",[t,new l(e.d)])},number:function(e){return e<0?g(new l(-e)):new l(e)},BigNumber:function(e){return e<0?g(new l(-e)):new l(e)},Complex:function(e){throw new Error("Cannot convert Complex number to Node")}});function d(e,t){if(t&&!1!==t.exactFractions&&isFinite(e)){var r=i.fraction(e);if(r.valueOf()===e)return r}return e}var v=n({"string, Object":function(e,r){return"BigNumber"===t.number?i.bignumber(e):"Fraction"===t.number?i.fraction(e):d(parseFloat(e),r)},"Fraction, Object":function(e,t){return e},"BigNumber, Object":function(e,t){return e},"number, Object":function(e,t){return d(e,t)},"Complex, Object":function(e,t){return 0!==e.im?e:d(e.re,t)}});function g(e){return new f("-","unaryMinus",[e])}function y(t,r,n,i){return r.reduce(function(r,a){if(e.isNode(r)||e.isNode(a))e.isNode(r)?e.isNode(a)||(a=h(a)):r=h(r);else{try{return m(t,[r,a],i)}catch(e){}r=h(r),a=h(a)}return n([r,a])})}return function(t,r){var n=function t(r,n){switch(r.type){case"SymbolNode":return r;case"ConstantNode":return"number"!=typeof r.value&&isNaN(r.value)?r:v(r.value,n);case"FunctionNode":if(i[r.name]&&i[r.name].rawArgs)return r;if(-1===["add","multiply"].indexOf(r.name)){var a=r.args.map(function(e){return t(e,n)});if(!a.some(e.isNode))try{return m(r.name,a,n)}catch(e){}return a=a.map(function(t){return e.isNode(t)?t:h(t)}),new p(r.name,a)}case"OperatorNode":var l,f,d=r.fn.toString(),g=c(r);if(r.isUnary())l=[t(r.args[0],n)],f=e.isNode(l[0])?g(l):m(d,l,n);else if(s(r))if(l=(l=u(r)).map(function(e){return t(e,n)}),o(d)){for(var b=[],x=[],w=0;w<l.length;w++)e.isNode(l[w])?x.push(l[w]):b.push(l[w]);b.length>1?(f=y(d,b,g,n),x.unshift(f),f=y(d,x,g,n)):f=y(d,l,g,n)}else f=y(d,l,g,n);else l=r.args.map(function(e){return t(e,n)}),f=y(d,l,g,n);return f;case"ParenthesisNode":return t(r.content,n);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"UpdateNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(r.type))}}(t,r);return e.isNode(n)?n:h(n)}}};var Ga={name:"isZero",factory:function(e,t,r,n){var i=n("isZero",{number:function(e){return 0===e},BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return i(e.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i}},Za=lr.object;var Ja={name:"lup",factory:function(e,t,r,n){var i=r(zr),a=r(Fn),o=r(Lr),s=r(An),u=r(Mn),c=r(Sn),l=r(rn),f=r(Or),p=r(_n),m=e.SparseMatrix,h=e.DenseMatrix,d=e.Spa;function v(e){var t,r,n,i=e._size[0],p=e._size[1],m=Math.min(i,p),d=Za.clone(e._data),v=[],g=[i,m],y=[],b=[m,p],x=[];for(t=0;t<i;t++)x[t]=t;for(r=0;r<p;r++){if(r>0)for(t=0;t<i;t++){var w=Math.min(t,r),_=0;for(n=0;n<w;n++)_=o(_,u(d[t][n],d[n][r]));d[t][r]=c(d[t][r],_)}var N=r,E=0,S=0;for(t=r;t<i;t++){var M=d[t][r],A=a(M);l(A,E)&&(N=t,E=A,S=M)}if(r!==N&&(x[r]=[x[N],x[N]=x[r]][0],h._swapRows(r,N,d)),r<i)for(t=r+1;t<i;t++){var O=d[t][r];f(O,0)||(d[t][r]=s(d[t][r],S))}}for(r=0;r<p;r++)for(t=0;t<i;t++)0===r&&(t<p&&(y[t]=[]),v[t]=[]),t<r?(t<p&&(y[t][r]=d[t][r]),r<i&&(v[t][r]=0)):t!==r?(t<p&&(y[t][r]=0),r<i&&(v[t][r]=d[t][r])):(t<p&&(y[t][r]=d[t][r]),r<i&&(v[t][r]=1));var C=new h({data:v,size:g}),P=new h({data:y,size:b}),T=[];for(t=0,m=x.length;t<m;t++)T[x[t]]=t;return{L:C,U:P,p:T,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function g(e){var t,r,n,i=e._size[0],o=e._size[1],c=Math.min(i,o),h=e._values,v=e._index,g=e._ptr,y=[],b=[],x=[],w=[i,c],_=[],N=[],E=[],S=[c,o],M=[],A=[];for(t=0;t<i;t++)M[t]=t,A[t]=t;var O=function(){var e=new d;r<i&&(x.push(y.length),y.push(1),b.push(r)),E.push(_.length);var o=g[r],c=g[r+1];for(n=o;n<c;n++)t=v[n],e.set(M[t],h[n]);r>0&&e.forEach(0,r-1,function(t,r){m._forEachRow(t,y,b,x,function(n,i){n>t&&e.accumulate(n,p(u(i,r)))})});var O,C,P,T,k=r,R=e.get(r),I=a(R);e.forEach(r+1,i-1,function(e,t){var r=a(t);l(r,I)&&(k=e,I=r,R=t)}),r!==k&&(m._swapRows(r,k,w[1],y,b,x),m._swapRows(r,k,S[1],_,N,E),e.swap(r,k),C=k,P=A[O=r],T=A[C],M[P]=C,M[T]=O,A[O]=T,A[C]=P),e.forEach(0,i-1,function(e,t){e<=r?(_.push(t),N.push(e)):(t=s(t,R),f(t,0)||(y.push(t),b.push(e)))})};for(r=0;r<o;r++)O();return E.push(_.length),x.push(y.length),{L:new m({values:y,index:b,ptr:x,size:w}),U:new m({values:_,index:N,ptr:E,size:S}),p:M,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}return n("lup",{DenseMatrix:function(e){return v(e)},SparseMatrix:function(e){return g(e)},Array:function(e){var t=v(i(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}})}},Qa=lr.object,Ka=lr.string;var Ya={name:"det",factory:function(e,t,r,n){var i=r(zr),a=r(Sn),o=r(kn),s=r(_n),u=r(Ja),c=n("det",{any:function(e){return Qa.clone(e)},"Array | Matrix":function(t){var r;switch((r=e.isMatrix(t)?t.size():Array.isArray(t)?(t=i(t)).size():[]).length){case 0:return Qa.clone(t);case 1:if(1===r[0])return Qa.clone(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Ka.format(r)+")");case 2:var n=r[0];if(n===r[1])return function(e,t,r){if(1===t)return Qa.clone(e[0][0]);if(2===t)return a(o(e[0][0],e[1][1]),o(e[1][0],e[0][1]));for(var n=u(e),i=n.U[0][0],c=1;c<t;c++)i=o(i,n.U[c][c]);for(var l=0,f=0,p=[];;){for(;p[f];)f++;if(f>=t)break;for(var m=f,h=0;!p[n.p[m]];)p[n.p[m]]=!0,m=n.p[m],h++;h%2==0&&l++}return l%2==0?i:s(i)}(t.clone().valueOf(),n);throw new RangeError("Matrix must be square (size: "+Ka.format(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Ka.format(r)+")")}}});return c.toTex={1:"\\det\\left(${args[0]}\\right)"},c}};var Xa={name:"inv",factory:function(e,t,r,n){var i=r(zr),a=r(An),o=r(Lr),s=r(kn),u=r(_n),c=r(Ya),l=r(Cn),f=r(Fn),p=n("inv",{"Array | Matrix":function(t){var r=e.isMatrix(t)?t.size():lr.array.size(t);switch(r.length){case 1:if(1===r[0])return e.isMatrix(t)?i([a(1,t.valueOf()[0])]):[a(1,t[0])];throw new RangeError("Matrix must be square (size: "+lr.string.format(r)+")");case 2:var n=r[0],o=r[1];if(n===o)return e.isMatrix(t)?i(m(t.valueOf(),n,o),t.storage()):m(t,n,o);throw new RangeError("Matrix must be square (size: "+lr.string.format(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+lr.string.format(r)+")")}},any:function(e){return a(1,e)}});function m(e,t,r){var n,i,p,m,h;if(1===t){if(0===(m=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[a(1,m)]]}if(2===t){var d=c(e);if(0===d)throw Error("Cannot calculate inverse, determinant is zero");return[[a(e[1][1],d),a(u(e[0][1]),d)],[a(u(e[1][0]),d),a(e[0][0],d)]]}var v=e.concat();for(n=0;n<t;n++)v[n]=v[n].concat();for(var g=l(t).valueOf(),y=0;y<r;y++){var b=f(v[y][y]),x=y;for(n=y+1;n<t;)f(v[n][y])>b&&(b=f(v[n][y]),x=n),n++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(n=x)!==y&&(h=v[y],v[y]=v[n],v[n]=h,h=g[y],g[y]=g[n],g[n]=h);var w=v[y],_=g[y];for(n=0;n<t;n++){var N=v[n],E=g[n];if(n!==y){if(0!==N[y]){for(p=a(u(N[y]),w[y]),i=y;i<r;i++)N[i]=o(N[i],s(p,w[i]));for(i=0;i<r;i++)E[i]=o(E[i],s(p,_[i]))}}else{for(p=w[y],i=y;i<r;i++)N[i]=a(N[i],p);for(i=0;i<r;i++)E[i]=a(E[i],p)}}}return g}return p.toTex={1:"\\left(${args[0]}\\right)^{-1}"},p}},eo=O.extend;var to={name:"divide",factory:function(e,t,r,n){var i=r(An),a=r(kn),o=r(Xa),s=r(zr),u=r(Pn),c=r(Wr),l=n("divide",eo({"Array | Matrix, Array | Matrix":function(e,t){return a(e,o(t))},"DenseMatrix, any":function(e,t){return c(e,t,i,!1)},"SparseMatrix, any":function(e,t){return u(e,t,i,!1)},"Array, any":function(e,t){return c(s(e),t,i,!1).valueOf()},"any, Array | Matrix":function(e,t){return a(e,o(t))}},i.signatures));return l.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},l}};var ro={math:!0,name:"simplifyCore",path:"algebra.simplify",factory:function(e,t,r,n,i){var a=r(Qn),o=r(Ga),s=r(Zr),u=r(Sn),c=r(kn),l=r(to),f=r(jn),p=i.expression.node.ConstantNode,m=i.expression.node.OperatorNode,h=i.expression.node.FunctionNode,d=i.expression.node.ParenthesisNode,v=new p(0),g=new p(1);return function t(r){if(e.isOperatorNode(r)&&r.isUnary()){var n=t(r.args[0]);if("+"===r.op)return n;if("-"===r.op){if(e.isOperatorNode(n)){if(n.isUnary()&&"-"===n.op)return n.args[0];if(n.isBinary()&&"subtract"===n.fn)return new m("-","subtract",[n.args[1],n.args[0]])}return new m(r.op,r.fn,[n])}}else if(e.isOperatorNode(r)&&r.isBinary()){var i=t(r.args[0]),y=t(r.args[1]);if("+"===r.op){if(e.isConstantNode(i)){if(o(i.value))return y;if(e.isConstantNode(y))return new p(s(i.value,y.value))}return e.isConstantNode(y)&&o(y.value)?i:e.isOperatorNode(y)&&y.isUnary()&&"-"===y.op?new m("-","subtract",[i,y.args[0]]):new m(r.op,r.fn,y?[i,y]:[i])}if("-"===r.op){if(e.isConstantNode(i)&&y){if(e.isConstantNode(y))return new p(u(i.value,y.value));if(o(i.value))return new m("-","unaryMinus",[y])}if("subtract"===r.fn)return e.isConstantNode(y)&&o(y.value)?i:e.isOperatorNode(y)&&y.isUnary()&&"-"===y.op?t(new m("+","add",[i,y.args[0]])):new m(r.op,r.fn,[i,y])}else{if("*"===r.op){if(e.isConstantNode(i)){if(o(i.value))return v;if(a(i.value,1))return y;if(e.isConstantNode(y))return new p(c(i.value,y.value))}if(e.isConstantNode(y)){if(o(y.value))return v;if(a(y.value,1))return i;if(e.isOperatorNode(i)&&i.isBinary()&&i.op===r.op){var b=i.args[0];if(e.isConstantNode(b)){var x=new p(c(b.value,y.value));return new m(r.op,r.fn,[x,i.args[1]],r.implicit)}}return new m(r.op,r.fn,[y,i],r.implicit)}return new m(r.op,r.fn,[i,y],r.implicit)}if("/"===r.op){if(e.isConstantNode(i)){if(o(i.value))return v;if(e.isConstantNode(y)&&(a(y.value,1)||a(y.value,2)||a(y.value,4)))return new p(l(i.value,y.value))}return new m(r.op,r.fn,[i,y])}if("^"===r.op){if(e.isConstantNode(y)){if(o(y.value))return g;if(a(y.value,1))return i;if(e.isConstantNode(i))return new p(f(i.value,y.value));if(e.isOperatorNode(i)&&i.isBinary()&&"^"===i.op){var w=i.args[1];if(e.isConstantNode(w))return new m(r.op,r.fn,[i.args[0],new p(c(w.value,y.value))])}}return new m(r.op,r.fn,[i,y])}}}else{if(e.isParenthesisNode(r)){var _=t(r.content);return e.isParenthesisNode(_)||e.isSymbolNode(_)||e.isConstantNode(_)?_:new d(_)}if(e.isFunctionNode(r)){var N=r.args.map(t).map(function(t){return e.isParenthesisNode(t)?t.content:t});return new h(t(r.fn),N)}}return r}}};var no={math:!0,name:"resolve",path:"algebra.simplify",factory:function(e,t,r,n,i){var a=i.expression.node.Node,o=i.expression.node.OperatorNode,s=i.expression.node.FunctionNode,u=i.expression.node.ParenthesisNode;return function t(r,n){if(!n)return r;if(e.isSymbolNode(r)){var c=n[r.name];if(c instanceof a)return t(c,n);if("number"==typeof c)return i.parse(String(c))}else{if(e.isOperatorNode(r)){var l=r.args.map(function(e){return t(e,n)});return new o(r.op,r.fn,l,r.implicit)}if(e.isParenthesisNode(r))return new u(t(r.content,n));if(e.isFunctionNode(r)){var f=r.args.map(function(e){return t(e,n)});return new s(r.name,f)}}return r}}};function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ao={math:!0,name:"simplify",factory:function(e,t,r,n,i){var a=r(Va),o=r(Qn),s=r(oa),u=r(za),c=r(Sa),l=r(Ma),f=r(Pa),p=r(Wa),m=r(ro),h=r(no),d=r(Ha),v=d.isCommutative,g=d.isAssociative,y=d.flatten,b=d.unflattenr,x=d.unflattenl,w=d.createMakeNodeFunction,_=n("simplify",{string:function(e){return _(a(e),_.rules,{},{})},"string, Object":function(e,t){return _(a(e),_.rules,t,{})},"string, Object, Object":function(e,t,r){return _(a(e),_.rules,t,r)},"string, Array":function(e,t){return _(a(e),t,{},{})},"string, Array, Object":function(e,t,r){return _(a(e),t,r,{})},"string, Array, Object, Object":function(e,t,r,n){return _(a(e),t,r,n)},"Node, Object":function(e,t){return _(e,_.rules,t,{})},"Node, Object, Object":function(e,t,r){return _(e,_.rules,t,r)},Node:function(e){return _(e,_.rules,{},{})},"Node, Array":function(e,t){return _(e,t,{},{})},"Node, Array, Object":function(e,t,r){return _(e,t,r,{})},"Node, Array, Object, Object":function(e,t,r,n){t=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=void 0,o=io(n);switch(o){case"string":var s=n.split("->");if(2!==s.length)throw SyntaxError("Could not parse rule: "+n);n={l:s[0],r:s[1]};case"object":if(i={l:N(a(n.l)),r:N(a(n.r))},n.context&&(i.evaluate=n.context),n.evaluate&&(i.evaluate=a(n.evaluate)),g(i.l)){var u=w(i.l),c=new f("_p"+S++);i.expanded={},i.expanded.l=u([i.l.clone(),c]),y(i.expanded.l),b(i.expanded.l),i.expanded.r=u([i.r,c])}break;case"function":i=n;break;default:throw TypeError("Unsupported type of rule: "+o)}t.push(i)}return t}(t);for(var i=h(e,r),o={},s=(i=N(i)).toString({parenthesis:"all"});!o[s];){o[s]=!0,S=0;for(var u=0;u<t.length;u++)"function"==typeof t[u]?i=t[u](i,n):(y(i),i=M(i,t[u])),x(i);s=i.toString({parenthesis:"all"})}return i}});function N(t){return t.transform(function(t,r,n){return e.isParenthesisNode(t)?t.content:t})}_.simplifyCore=m,_.resolve=h;var E={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};_.rules=[m,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},p,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"}];var S=0,M=n("applyRule",{"Node, Object":function(e,t){var r=e;if(r instanceof c||r instanceof u){if(r.args)for(var n=0;n<r.args.length;n++)r.args[n]=M(r.args[n],t)}else r instanceof l&&r.content&&(r.content=M(r.content,t));var i=t.r,a=C(t.l,r)[0];if(!a&&t.expanded&&(i=t.expanded.r,a=C(t.expanded.l,r)[0]),a){var o=r.implicit;r=i.clone(),o&&"implicit"in i&&(r.implicit=!0),r=function e(t){return t.isSymbolNode&&a.placeholders.hasOwnProperty(t.name)?a.placeholders[t.name].clone():t.map(e)}(r)}return r}});function A(e,t){var r={placeholders:{}};if(!e.placeholders&&!t.placeholders)return r;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var n in e.placeholders)if(r.placeholders[n]=e.placeholders[n],t.placeholders.hasOwnProperty(n)&&!P(e.placeholders[n],t.placeholders[n]))return null;for(var i in t.placeholders)r.placeholders[i]=t.placeholders[i];return r}function O(e,t){var r,n=[];if(0===e.length||0===t.length)return n;for(var i=0;i<e.length;i++)for(var a=0;a<t.length;a++)(r=A(e[i],t[a]))&&n.push(r);return n}function C(t,r,n){var a=[{placeholders:{}}];if(t instanceof c&&r instanceof c||t instanceof u&&r instanceof u){if(t instanceof c){if(t.op!==r.op||t.fn!==r.fn)return[]}else if(t instanceof u&&t.name!==r.name)return[];if((1!==r.args.length||1!==t.args.length)&&g(r)&&!n){if(r.args.length>=2&&2===t.args.length){for(var l=function(e,t){var r,n,i=[],a=w(e);if(v(e,t))for(var o=0;o<e.args.length;o++)(n=e.args.slice(0)).splice(o,1),r=1===n.length?n[0]:a(n),i.push(a([e.args[o],r]));else r=1===(n=e.args.slice(1)).length?n[0]:a(n),i.push(a([e.args[0],r]));return i}(r,t.context),p=[],m=0;m<l.length;m++){var h=C(t,l[m],!0);p=p.concat(h)}return p}if(t.args.length>2)throw Error("Unexpected non-binary associative function: "+t.toString());return[]}for(var d=[],y=0;y<t.args.length;y++){var b=C(t.args[y],r.args[y]);if(0===b.length)return[];d.push(b)}a=function(e){if(0===e.length)return e;for(var t=e.reduce(O),r=[],n={},i=0;i<t.length;i++){var a=JSON.stringify(t[i]);n[a]||(n[a]=!0,r.push(t[i]))}return r}(d)}else if(t instanceof f){if(0===t.name.length)throw new Error("Symbol in rule has 0 length...!?");if(i.hasOwnProperty(t.name)){if(!E[t.name])throw new Error("Built in constant: "+t.name+" is not supported by simplify.");if(t.name!==r.name)return[]}else if("n"===t.name[0]||"_p"===t.name.substring(0,2))a[0].placeholders[t.name]=r;else if("v"===t.name[0]){if(e.isConstantNode(r))return[];a[0].placeholders[t.name]=r}else{if("c"!==t.name[0])throw new Error("Invalid symbol in rule: "+t.name);if(!(r instanceof s))return[];a[0].placeholders[t.name]=r}}else{if(!(t instanceof s))return[];if(!o(t.value,r.value))return[]}return a}function P(e,t){if(e instanceof s&&t instanceof s){if(!o(e.value,t.value))return!1}else if(e instanceof f&&t instanceof f){if(e.name!==t.name)return!1}else{if(!(e instanceof c&&t instanceof c||e instanceof u&&t instanceof u))return!1;if(e instanceof c){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof u&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var r=0;r<e.args.length;r++)if(!P(e.args[r],t.args[r]))return!1}return!0}return _}};var oo={name:"derivative",factory:function(e,t,r,n){var i=r(Va),a=r(ao),o=r(Qn),s=r(Ga),u=r(hr),c=r(gn),l=r(oa),f=r(za),p=r(Sa),m=r(Ma),h=r(Pa),d=n("derivative",{"Node, SymbolNode, Object":function(e,t,r){var n={};g(n,e,t.name);var i=y(e,n);return r.simplify?a(i):i},"Node, SymbolNode":function(e,t){return d(e,t,{simplify:!0})},"string, SymbolNode":function(e,t){return d(i(e),t)},"string, SymbolNode, Object":function(e,t,r){return d(i(e),t,r)},"string, string":function(e,t){return d(i(e),i(t))},"string, string, Object":function(e,t,r){return d(i(e),i(t),r)},"Node, string":function(e,t){return d(e,i(t))},"Node, string, Object":function(e,t,r){return d(e,i(t),r)}});d._simplify=!0,d.toTex=function(e){return v.apply(null,e.args)};var v=n("_derivTex",{"Node, SymbolNode":function(t,r){return e.isConstantNode(t)&&"string"===u(t.value)?v(i(t.value).toString(),r.toString(),1):v(t.toString(),r.toString(),1)},"Node, ConstantNode":function(e,t){if("string"===u(t.value))return v(e,i(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,t,r){return v(e.toString(),t.name,r.value)},"string, string, number":function(e,t,r){return(1===r?"{d\\over d"+t+"}":"{d^{"+r+"}\\over d"+t+"^{"+r+"}}")+"\\left[".concat(e,"\\right]")}}),g=n("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0,!0},"Object, SymbolNode, string":function(e,t,r){return t.name!==r&&(e[t]=!0,!0)},"Object, ParenthesisNode, string":function(e,t,r){return g(e,t.content,r)},"Object, FunctionAssignmentNode, string":function(e,t,r){return-1===t.params.indexOf(r)?(e[t]=!0,!0):g(e,t.expr,r)},"Object, FunctionNode | OperatorNode, string":function(e,t,r){if(t.args.length>0){for(var n=g(e,t.args[0],r),i=1;i<t.args.length;++i)n=g(e,t.args[i],r)&&n;if(n)return e[t]=!0,!0}return!1}}),y=n("_derivative",{"ConstantNode, Object":function(e){return b(0)},"SymbolNode, Object":function(e,t){return void 0!==t[e]?b(0):b(1)},"ParenthesisNode, Object":function(e,t){return new m(y(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?b(0):y(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!==e.args.length&&function(e){if("log"!==e.name&&"nthRoot"!==e.name&&"pow"!==e.name||2!==e.args.length){for(var t=0;t<e.args.length;++t)e.args[t]=b(0);throw e.compile().eval(),new Error("Expected TypeError, but none found")}}(e),void 0!==t[e])return b(0);var r,n,i,a,o=e.args[0],s=!1,u=!1;switch(e.name){case"cbrt":s=!0,n=new p("*","multiply",[b(3),new p("^","pow",[o,new p("/","divide",[b(2),b(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)s=!0,n=new p("*","multiply",[b(2),new f("sqrt",[o])]);else if(2===e.args.length)return t[r=new p("/","divide",[b(1),e.args[1]])]=t[e.args[1]],y(new p("^","pow",[o,r]),t);break;case"log10":r=b(10);case"log":if(r||1!==e.args.length){if(1===e.args.length&&r||2===e.args.length&&void 0!==t[e.args[1]])n=new p("*","multiply",[o.clone(),new f("log",[r||e.args[1]])]),s=!0;else if(2===e.args.length)return y(new p("/","divide",[new f("log",[o]),new f("log",[e.args[1]])]),t)}else n=o.clone(),s=!0;break;case"pow":return t[r]=t[e.args[1]],y(new p("^","pow",[o,e.args[1]]),t);case"exp":n=new f("exp",[o.clone()]);break;case"sin":n=new f("cos",[o.clone()]);break;case"cos":n=new p("-","unaryMinus",[new f("sin",[o.clone()])]);break;case"tan":n=new p("^","pow",[new f("sec",[o.clone()]),b(2)]);break;case"sec":n=new p("*","multiply",[e,new f("tan",[o.clone()])]);break;case"csc":u=!0,n=new p("*","multiply",[e,new f("cot",[o.clone()])]);break;case"cot":u=!0,n=new p("^","pow",[new f("csc",[o.clone()]),b(2)]);break;case"asin":s=!0,n=new f("sqrt",[new p("-","subtract",[b(1),new p("^","pow",[o.clone(),b(2)])])]);break;case"acos":s=!0,u=!0,n=new f("sqrt",[new p("-","subtract",[b(1),new p("^","pow",[o.clone(),b(2)])])]);break;case"atan":s=!0,n=new p("+","add",[new p("^","pow",[o.clone(),b(2)]),b(1)]);break;case"asec":s=!0,n=new p("*","multiply",[new f("abs",[o.clone()]),new f("sqrt",[new p("-","subtract",[new p("^","pow",[o.clone(),b(2)]),b(1)])])]);break;case"acsc":s=!0,u=!0,n=new p("*","multiply",[new f("abs",[o.clone()]),new f("sqrt",[new p("-","subtract",[new p("^","pow",[o.clone(),b(2)]),b(1)])])]);break;case"acot":s=!0,u=!0,n=new p("+","add",[new p("^","pow",[o.clone(),b(2)]),b(1)]);break;case"sinh":n=new f("cosh",[o.clone()]);break;case"cosh":n=new f("sinh",[o.clone()]);break;case"tanh":n=new p("^","pow",[new f("sech",[o.clone()]),b(2)]);break;case"sech":u=!0,n=new p("*","multiply",[e,new f("tanh",[o.clone()])]);break;case"csch":u=!0,n=new p("*","multiply",[e,new f("coth",[o.clone()])]);break;case"coth":u=!0,n=new p("^","pow",[new f("csch",[o.clone()]),b(2)]);break;case"asinh":s=!0,n=new f("sqrt",[new p("+","add",[new p("^","pow",[o.clone(),b(2)]),b(1)])]);break;case"acosh":s=!0,n=new f("sqrt",[new p("-","subtract",[new p("^","pow",[o.clone(),b(2)]),b(1)])]);break;case"atanh":s=!0,n=new p("-","subtract",[b(1),new p("^","pow",[o.clone(),b(2)])]);break;case"asech":s=!0,u=!0,n=new p("*","multiply",[o.clone(),new f("sqrt",[new p("-","subtract",[b(1),new p("^","pow",[o.clone(),b(2)])])])]);break;case"acsch":s=!0,u=!0,n=new p("*","multiply",[new f("abs",[o.clone()]),new f("sqrt",[new p("+","add",[new p("^","pow",[o.clone(),b(2)]),b(1)])])]);break;case"acoth":s=!0,u=!0,n=new p("-","subtract",[b(1),new p("^","pow",[o.clone(),b(2)])]);break;case"abs":n=new p("/","divide",[new f(new h("abs"),[o.clone()]),o.clone()]);break;case"gamma":default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}s?(i="/",a="divide"):(i="*",a="multiply");var c=y(o,t);return u&&(c=new p("-","unaryMinus",[c])),new p(i,a,[c,n])},"OperatorNode, Object":function(t,r){if(void 0!==r[t])return b(0);if("+"===t.op)return new p(t.op,t.fn,t.args.map(function(e){return y(e,r)}));if("-"===t.op){if(t.isUnary())return new p(t.op,t.fn,[y(t.args[0],r)]);if(t.isBinary())return new p(t.op,t.fn,[y(t.args[0],r),y(t.args[1],r)])}if("*"===t.op){var n=t.args.filter(function(e){return void 0!==r[e]});if(n.length>0){var i=t.args.filter(function(e){return void 0===r[e]}),a=1===i.length?i[0]:new p("*","multiply",i),u=n.concat(y(a,r));return new p("*","multiply",u)}return new p("+","add",t.args.map(function(e){return new p("*","multiply",t.args.map(function(t){return t===e?y(t,r):t.clone()}))}))}if("/"===t.op&&t.isBinary()){var c=t.args[0],l=t.args[1];return void 0!==r[l]?new p("/","divide",[y(c,r),l]):void 0!==r[c]?new p("*","multiply",[new p("-","unaryMinus",[c]),new p("/","divide",[y(l,r),new p("^","pow",[l.clone(),b(2)])])]):new p("/","divide",[new p("-","subtract",[new p("*","multiply",[y(c,r),l.clone()]),new p("*","multiply",[c.clone(),y(l,r)])]),new p("^","pow",[l.clone(),b(2)])])}if("^"===t.op&&t.isBinary()){var m=t.args[0],h=t.args[1];if(void 0!==r[m])return e.isConstantNode(m)&&(s(m.value)||o(m.value,1))?b(0):new p("*","multiply",[t,new p("*","multiply",[new f("log",[m.clone()]),y(h.clone(),r)])]);if(void 0!==r[h]){if(e.isConstantNode(h)){if(s(h.value))return b(0);if(o(h.value,1))return y(m,r)}var d=new p("^","pow",[m.clone(),new p("-","subtract",[h,b(1)])]);return new p("*","multiply",[h.clone(),new p("*","multiply",[y(m,r),d])])}return new p("*","multiply",[new p("^","pow",[m.clone(),h.clone()]),new p("+","add",[new p("*","multiply",[y(m,r),new p("/","divide",[h.clone(),m.clone()])]),new p("*","multiply",[y(h,r),new f("log",[m.clone()])])])])}throw new Error('Operator "'+t.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function b(e,r){return new l(c(e,r||t.number))}return d}};var so={name:"parse",factory:function(e,t,r,n){var i=r(Va);return n("parse",{"string | Array | Matrix":i,"string | Array | Matrix, Object":i})}};var uo={name:"rationalize",factory:function(e,t,r,n){var i=r(ao),a=r(ro),o=r(Wa),s=r(so),u=P,c=r(oa),l=r(Sa),f=r(Pa),p=n("rationalize",{string:function(e){return p(s(e),{},!1)},"string, boolean":function(e,t){return p(s(e),{},t)},"string, Object":function(e,t){return p(s(e),t,!1)},"string, Object, boolean":function(e,t,r){return p(s(e),t,r)},Node:function(e){return p(e,{},!1)},"Node, boolean":function(e,t){return p(e,{},t)},"Node, Object":function(e,t){return p(e,t,!1)},"Node, Object, boolean":function(e,t,r){var n=function(){var e=[a,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},o,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],t=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],r=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],n={};return n.firstRules=e.concat(t,r),n.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],n.sucDivRules=r,n.firstRulesAgain=e.concat(t),n.finalRules=[a,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},o,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],n}(),s=function(e,t,r,n){var a=[],o=i(e,n,t,{exactFractions:!1}),s="+-*"+((r=!!r)?"/":"");!function e(t){var r=t.type;if("FunctionNode"===r)throw new Error("There is an unsolved function call");if("OperatorNode"===r)if("^"===t.op){if("unaryMinus"===t.args[1].fn&&(t=t.args[0]),"ConstantNode"!==t.args[1].type||!u.isInteger(parseFloat(t.args[1].value)))throw new Error("There is a non-integer exponent");e(t.args[0])}else{if(-1===s.indexOf(t.op))throw new Error("Operator "+t.op+" invalid in polynomial expression");for(var n=0;n<t.args.length;n++)e(t.args[n])}else if("SymbolNode"===r){var i=t.name,o=a.indexOf(i);-1===o&&a.push(i)}else if("ParenthesisNode"===r)e(t.content);else if("ConstantNode"!==r)throw new Error("type "+r+" is not allowed in polynomial expression")}(o);var c={};return c.expression=o,c.variables=a,c}(e,t,!0,n.firstRules),f=s.variables.length;if(e=s.expression,f>=1){var p,h;e=function e(t,r,n){var i=t.type,a=arguments.length>1;if("OperatorNode"===i&&t.isBinary()){var o,s=!1;if("^"===t.op&&("ParenthesisNode"!==t.args[0].type&&"OperatorNode"!==t.args[0].type||"ConstantNode"!==t.args[1].type||(o=parseFloat(t.args[1].value),s=o>=2&&u.isInteger(o))),s){if(o>2){var f=t.args[0],p=new l("^","pow",[t.args[0].cloneDeep(),new c(o-1)]);t=new l("*","multiply",[f,p])}else t=new l("*","multiply",[t.args[0],t.args[0].cloneDeep()]);a&&("content"===n?r.content=t:r.args[n]=t)}}if("ParenthesisNode"===i)e(t.content,t,"content");else if("ConstantNode"!==i&&"SymbolNode"!==i)for(var m=0;m<t.args.length;m++)e(t.args[m],t,m);if(!a)return t}(e);var d,v=!0,g=!1;for(e=i(e,n.firstRules,{},{exactFractions:!1});h=v?n.distrDivRules:n.sucDivRules,v=!v,(d=(e=i(e,h)).toString())!==p;)g=!0,p=d;g&&(e=i(e,n.firstRulesAgain,{},{exactFractions:!1})),e=i(e,n.finalRules,{},{exactFractions:!1})}var y=[],b={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===f&&(e.args[0]=m(e.args[0],y),e.args[1]=m(e.args[1])),r&&(b.numerator=e.args[0],b.denominator=e.args[1])):(1===f&&(e=m(e,y)),r&&(b.numerator=e,b.denominator=null)),r?(b.coefficients=y,b.variables=s.variables,b.expression=e,b):e}});function m(e,t){void 0===t&&(t=[]),t[0]=0;var r={cte:1,oper:"+",fire:""},n=0,i="";!function e(r,a,o){var s=r.type;if("FunctionNode"===s)throw new Error("There is an unsolved function call");if("OperatorNode"===s){if(-1==="+-*^".indexOf(r.op))throw new Error("Operator "+r.op+" invalid");if(null!==a){if(("unaryMinus"===r.fn||"pow"===r.fn)&&"add"!==a.fn&&"subtract"!==a.fn&&"multiply"!==a.fn)throw new Error("Invalid "+r.op+" placing");if(("subtract"===r.fn||"add"===r.fn||"multiply"===r.fn)&&"add"!==a.fn&&"subtract"!==a.fn)throw new Error("Invalid "+r.op+" placing");if(("subtract"===r.fn||"add"===r.fn||"unaryMinus"===r.fn)&&0!==o.noFil)throw new Error("Invalid "+r.op+" placing")}"^"!==r.op&&"*"!==r.op||(o.fire=r.op);for(var c=0;c<r.args.length;c++)"unaryMinus"===r.fn&&(o.oper="-"),"+"!==r.op&&"subtract"!==r.fn||(o.fire="",o.cte=1,o.oper=0===c?"+":r.op),o.noFil=c,e(r.args[c],r,o)}else if("SymbolNode"===s){if(r.name!==i&&""!==i)throw new Error("There is more than one variable");if(i=r.name,null===a)return void(t[1]=1);if("^"===a.op&&0!==o.noFil)throw new Error("In power the variable should be the first parameter");if("*"===a.op&&1!==o.noFil)throw new Error("In multiply the variable should be the second parameter");""!==o.fire&&"*"!==o.fire||(n<1&&(t[1]=0),t[1]+=o.cte*("+"===o.oper?1:-1),n=Math.max(1,n))}else{if("ConstantNode"!==s)throw new Error("Type "+s+" is not allowed");var l=parseFloat(r.value);if(null===a)return void(t[0]=l);if("^"===a.op){if(1!==o.noFil)throw new Error("Constant cannot be powered");if(!u.isInteger(l)||l<=0)throw new Error("Non-integer exponent is not allowed");for(var f=n+1;f<l;f++)t[f]=0;return l>n&&(t[l]=0),t[l]+=o.cte*("+"===o.oper?1:-1),void(n=Math.max(l,n))}o.cte=l,""===o.fire&&(t[0]+=o.cte*("+"===o.oper?1:-1))}}(e,null,r);for(var a,o=!0,s=n=t.length-1;s>=0;s--)if(0!==t[s]){var p=new c(o?t[s]:Math.abs(t[s])),m=t[s]<0?"-":"+";if(s>0){var h=new f(i);if(s>1){var d=new c(s);h=new l("^","pow",[h,d])}p=-1===t[s]&&o?new l("-","unaryMinus",[h]):1===Math.abs(t[s])?h:new l("*","multiply",[p,h])}a=o?p:"+"===m?new l("+","add",[a,p]):new l("-","subtract",[a,p]),o=!1}return o?new c(0):a}return p}},co=P.nearlyEqual;var lo={name:"unequal",factory:function(e,t,r,n){var i=r(zr),a=r(Qr),o=r(Kr),s=r(Yr),u=r(Vr),c=r(Wr),l=Kt,f=n("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:p(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,p)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,p,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,p)},"Array, Array":function(e,t){return f(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return f(i(e),t)},"Matrix, Array":function(e,t){return f(e,i(t))},"SparseMatrix, any":function(e,t){return s(e,t,p,!1)},"DenseMatrix, any":function(e,t){return c(e,t,p,!1)},"any, SparseMatrix":function(e,t){return s(t,e,p,!0)},"any, DenseMatrix":function(e,t){return c(t,e,p,!0)},"Array, any":function(e,t){return c(i(e),t,p,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,p,!0).valueOf()}}),p=n("_unequal",{"boolean, boolean":function(e,t){return e!==t},"number, number":function(e,r){return!co(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return!Mr(e,r,t.epsilon)},"Fraction, Fraction":function(e,t){return!e.equals(t)},"Complex, Complex":function(e,t){return!e.equals(t)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return f(e.value,t.value)}});return f.toTex={2:"\\left(${args[0]}".concat(l.operators.unequal,"${args[1]}\\right)")},f}};var fo={name:"sign",factory:function(e,t,r,n){var i=n("sign",{number:P.sign,Complex:function(e){return e.sign()},BigNumber:function(t){return new e.BigNumber(t.cmp(0))},Fraction:function(t){return new e.Fraction(t.s,1)},"Array | Matrix":function(e){return Rt(e,i)},Unit:function(e){return i(e.value)}});return i.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},i}};var po={name:"sqrt",factory:function(e,t,r,n){var i=n("sqrt",{number:a,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():a(e.toNumber())},"Array | Matrix":function(e){return Rt(e,i)},Unit:function(e){return e.pow(.5)}});function a(r){return isNaN(r)?NaN:r>=0||t.predictable?Math.sqrt(r):new e.Complex(r,0).sqrt()}return i.toTex={1:"\\sqrt{${args[0]}}"},i}};var mo={name:"conj",factory:function(e,t,r,n){var i=n("conj",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\left(${args[0]}\\right)^*"},i}};var ho={name:"qr",factory:function(e,t,r,n){var i=r(zr),a=r(zn),o=r(Cn),s=r(Ga),u=r(lo),c=r(fo),l=r(po),f=r(mo),p=r(_n),m=r(Lr),h=r(An),d=r(Mn),v=r(Sn);function g(e){var t,r,n,i=e._size[0],g=e._size[1],y=o([i],"dense"),b=y._data,x=e.clone(),w=x._data,_=a([i],"");for(n=0;n<Math.min(g,i);++n){var N=w[n][n],E=p(c(N)),S=f(E),M=0;for(t=n;t<i;t++)M=m(M,d(w[t][n],f(w[t][n])));var A=d(E,l(M));if(!s(A)){var O=v(N,A);for(_[n]=1,t=n+1;t<i;t++)_[t]=h(w[t][n],O);var C=p(f(h(O,A))),P=void 0;for(r=n;r<g;r++){for(P=0,t=n;t<i;t++)P=m(P,d(f(_[t]),w[t][r]));for(P=d(P,C),t=n;t<i;t++)w[t][r]=d(v(w[t][r],d(_[t],P)),S)}for(t=0;t<i;t++){for(P=0,r=n;r<i;r++)P=m(P,d(b[t][r],_[r]));for(P=d(P,C),r=n;r<i;++r)b[t][r]=h(v(b[t][r],d(P,f(_[r]))),S)}}}for(t=0;t<i;++t)for(r=0;r<t&&r<g;++r){if(u(0,h(w[t][r],1e5)))throw new Error("math.qr(): unknown error - R is not lower triangular (element ("+t+", "+r+")  = "+w[t][r]+")");w[t][r]=d(w[t][r],0)}return{Q:y,R:x,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}return n("qr",{DenseMatrix:function(e){return g(e)},SparseMatrix:function(e){return function(e){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(e){var t=g(i(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}})}};var vo={name:"csFlip",path:"algebra.sparse",factory:function(){return function(e){return-e-2}}};var go={name:"csFkeep",path:"algebra.sparse",factory:function(){return function(e,t,r){for(var n=e._values,i=e._index,a=e._ptr,o=e._size[1],s=0,u=0;u<o;u++){var c=a[u];for(a[u]=s;c<a[u+1];c++)t(i[c],u,n?n[c]:1,r)&&(i[s]=i[c],n&&(n[s]=n[c]),s++)}return a[o]=s,i.splice(s,i.length-s),n&&n.splice(s,n.length-s),s}}};var yo={name:"csTdfs",path:"algebra.sparse",factory:function(){return function(e,t,r,n,i,a,o){var s=0;for(r[o]=e;s>=0;){var u=r[o+s],c=r[n+u];-1===c?(s--,a[t++]=u):(r[n+u]=r[i+c],r[o+ ++s]=c)}return t}}},bo=O.clone,xo=$t.format;var wo={name:"transpose",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=e.DenseMatrix,s=e.SparseMatrix,u=n("transpose",{Array:function(e){return u(a(e)).valueOf()},Matrix:function(e){var t,r=e.size();switch(r.length){case 1:t=e.clone();break;case 2:var n=r[0],i=r[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+xo(r)+")");switch(e.storage()){case"dense":t=function(e,t,r){for(var n,i=e._data,a=[],s=0;s<r;s++){n=a[s]=[];for(var u=0;u<t;u++)n[u]=bo(i[u][s])}return new o({data:a,size:[r,t],datatype:e._datatype})}(e,n,i);break;case"sparse":t=function(e,t,r){for(var n,i,a,o=e._values,u=e._index,c=e._ptr,l=o?[]:void 0,f=[],p=[],m=[],h=0;h<t;h++)m[h]=0;for(n=0,i=u.length;n<i;n++)m[u[n]]++;for(var d=0,v=0;v<t;v++)p.push(d),d+=m[v],m[v]=p[v];for(p.push(d),a=0;a<r;a++)for(var g=c[a],y=c[a+1],b=g;b<y;b++){var x=m[u[b]]++;f[x]=a,o&&(l[x]=bo(o[b]))}return new s({values:l,index:f,ptr:p,size:[r,t],datatype:e._datatype})}(e,n,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+xo(this._size)+")")}return t},any:function(e){return bo(e)}});return u.toTex={1:"\\left(${args[0]}\\right)".concat(i.operators.transpose)},u}};var _o={name:"csAmd",path:"algebra.sparse",factory:function(e,t,r){var n=r(vo),i=r(go),a=r(yo),o=r(Zr),s=r(kn),u=r(wo);function c(e,t,r,n,i){if(e<2||e+t<0){for(var a=0;a<i;a++)0!==r[n+a]&&(r[n+a]=1);e=2}return e}function l(e,t){return e!==t}return function(e,t){if(!t||e<=0||e>3)return null;var r=t._size,f=r[0],p=r[1],m=0,h=Math.max(16,10*Math.sqrt(p)),d=function(e,t,r,n,i){var a=u(t);if(1===e&&n===r)return o(t,a);if(2===e){for(var c=a._index,l=a._ptr,f=0,p=0;p<r;p++){var m=l[p];if(l[p]=f,!(l[p+1]-m>i))for(var h=l[p+1];m<h;m++)c[f++]=c[m]}return l[r]=f,t=u(a),s(a,t)}return s(a,t)}(e,t,f,p,h=Math.min(p-2,h));i(d,l,null);for(var v,g,y,b,x,w,_,N,E,S,M,A,O,C,P,T,k=d._index,R=d._ptr,I=R[p],j=[],F=[],D=p+1,$=2*(p+1),z=3*(p+1),L=4*(p+1),B=5*(p+1),q=6*(p+1),U=7*(p+1),V=j,H=function(e,t,r,n,i,a,o,s,u,l,f,p){for(var m=0;m<e;m++)r[n+m]=t[m+1]-t[m];r[n+e]=0;for(var h=0;h<=e;h++)r[i+h]=-1,a[h]=-1,r[o+h]=-1,r[s+h]=-1,r[u+h]=1,r[l+h]=1,r[f+h]=0,r[p+h]=r[n+h];var d=c(0,0,r,l,e);return r[f+e]=-2,t[e]=-1,r[l+e]=0,d}(p,R,F,0,z,V,$,U,D,q,L,B),W=function(e,t,r,i,a,o,s,u,c,l,f){for(var p=0,m=0;m<e;m++){var h=r[i+m];if(0===h)r[a+m]=-2,p++,t[m]=-1,r[o+m]=0;else if(h>s)r[u+m]=0,r[a+m]=-1,p++,t[m]=n(e),r[u+e]++;else{var d=r[c+h];-1!==d&&(l[d]=m),r[f+m]=r[c+h],r[c+h]=m}}return p}(p,R,F,B,L,q,h,D,z,V,$),G=0;W<p;){for(y=-1;G<p&&-1===(y=F[z+G]);G++);-1!==F[$+y]&&(V[F[$+y]]=-1),F[z+G]=F[$+y];var Z=F[L+y],J=F[D+y];W+=J;var Q=0;F[D+y]=-J;var K=R[y],Y=0===Z?K:I,X=Y;for(b=1;b<=Z+1;b++){for(b>Z?(w=y,_=K,N=F[0+y]-Z):(_=R[w=k[K++]],N=F[0+w]),x=1;x<=N;x++)(E=F[D+(v=k[_++])])<=0||(Q+=E,F[D+v]=-E,k[X++]=v,-1!==F[$+v]&&(V[F[$+v]]=V[v]),-1!==V[v]?F[$+V[v]]=F[$+v]:F[z+F[B+v]]=F[$+v]);w!==y&&(R[w]=n(y),F[q+w]=0)}for(0!==Z&&(I=X),F[B+y]=Q,R[y]=Y,F[0+y]=X-Y,F[L+y]=-2,H=c(H,m,F,q,p),S=Y;S<X;S++)if(!((M=F[L+(v=k[S])])<=0)){var ee=H-(E=-F[D+v]);for(K=R[v],A=R[v]+M-1;K<=A;K++)F[q+(w=k[K])]>=H?F[q+w]-=E:0!==F[q+w]&&(F[q+w]=F[B+w]+ee)}for(S=Y;S<X;S++){for(O=(A=R[v=k[S]])+F[L+v]-1,C=A,P=0,T=0,K=A;K<=O;K++)if(0!==F[q+(w=k[K])]){var te=F[q+w]-H;te>0?(T+=te,k[C++]=w,P+=w):(R[w]=n(y),F[q+w]=0)}F[L+v]=C-A+1;var re=C,ne=A+F[0+v];for(K=O+1;K<ne;K++){var ie=F[D+(g=k[K])];ie<=0||(T+=ie,k[C++]=g,P+=g)}0===T?(R[v]=n(y),Q-=E=-F[D+v],J+=E,W+=E,F[D+v]=0,F[L+v]=-1):(F[B+v]=Math.min(F[B+v],T),k[C]=k[re],k[re]=k[A],k[A]=y,F[0+v]=C-A+1,P=(P<0?-P:P)%p,F[$+v]=F[U+P],F[U+P]=v,V[v]=P)}for(F[B+y]=Q,H=c(H+(m=Math.max(m,Q)),m,F,q,p),S=Y;S<X;S++)if(!(F[D+(v=k[S])]>=0))for(v=F[U+(P=V[v])],F[U+P]=-1;-1!==v&&-1!==F[$+v];v=F[$+v],H++){for(N=F[0+v],M=F[L+v],K=R[v]+1;K<=R[v]+N-1;K++)F[q+k[K]]=H;var ae=v;for(g=F[$+v];-1!==g;){var oe=F[0+g]===N&&F[L+g]===M;for(K=R[g]+1;oe&&K<=R[g]+N-1;K++)F[q+k[K]]!==H&&(oe=0);oe?(R[g]=n(v),F[D+v]+=F[D+g],F[D+g]=0,F[L+g]=-1,g=F[$+g],F[$+ae]=g):(ae=g,g=F[$+g])}}for(K=Y,S=Y;S<X;S++)(E=-F[D+(v=k[S])])<=0||(F[D+v]=E,T=F[B+v]+Q-E,-1!==F[z+(T=Math.min(T,p-W-E))]&&(V[F[z+T]]=v),F[$+v]=F[z+T],V[v]=-1,F[z+T]=v,G=Math.min(G,T),F[B+v]=T,k[K++]=v);F[D+y]=J,0==(F[0+y]=K-Y)&&(R[y]=-1,F[q+y]=0),0!==Z&&(I=K)}for(v=0;v<p;v++)R[v]=n(R[v]);for(g=0;g<=p;g++)F[z+g]=-1;for(g=p;g>=0;g--)F[D+g]>0||(F[$+g]=F[z+R[g]],F[z+R[g]]=g);for(w=p;w>=0;w--)F[D+w]<=0||-1!==R[w]&&(F[$+w]=F[z+R[w]],F[z+R[w]]=w);for(y=0,v=0;v<=p;v++)-1===R[v]&&(y=a(v,y,F,z,$,j,q));return j.splice(j.length-1,1),j}}};var No={name:"csPermute",path:"algebra.sparse",factory:function(e){var t=e.SparseMatrix;return function(e,r,n,i){for(var a=e._values,o=e._index,s=e._ptr,u=e._size,c=e._datatype,l=u[0],f=u[1],p=i&&e._values?[]:null,m=[],h=[],d=0,v=0;v<f;v++){h[v]=d;for(var g=n?n[v]:v,y=s[g],b=s[g+1],x=y;x<b;x++){var w=r?r[o[x]]:o[x];m[d]=w,p&&(p[d]=a[x]),d++}}return h[f]=d,new t({values:p,index:m,ptr:h,size:[l,f],datatype:c})}}};var Eo={name:"csEtree",path:"algebra.sparse",factory:function(){return function(e,t){if(!e)return null;var r,n,i=e._index,a=e._ptr,o=e._size,s=o[0],u=o[1],c=[],l=[],f=u;if(t)for(r=0;r<s;r++)l[f+r]=-1;for(var p=0;p<u;p++){c[p]=-1,l[0+p]=-1;for(var m=a[p],h=a[p+1],d=m;d<h;d++){var v=i[d];for(r=t?l[f+v]:v;-1!==r&&r<p;r=n)n=l[0+r],l[0+r]=p,-1===n&&(c[r]=p);t&&(l[f+v]=p)}}return c}}};var So={name:"csPost",path:"algebra.sparse",factory:function(e,t,r){var n=r(yo);return function(e,t){if(!e)return null;var r,i=0,a=[],o=[],s=t,u=2*t;for(r=0;r<t;r++)o[0+r]=-1;for(r=t-1;r>=0;r--)-1!==e[r]&&(o[s+r]=o[0+e[r]],o[0+e[r]]=r);for(r=0;r<t;r++)-1===e[r]&&(i=n(r,i,o,0,s,a,u));return a}}};var Mo={name:"csLeaf",path:"algebra.sparse",factory:function(){return function(e,t,r,n,i,a,o){var s,u,c,l,f=0;if(e<=t||r[n+t]<=r[i+e])return-1;if(r[i+e]=r[n+t],c=r[a+e],r[a+e]=t,-1===c)f=1,l=e;else{for(f=2,l=c;l!==r[o+l];l=r[o+l]);for(s=c;s!==l;s=u)u=r[o+s],r[o+s]=l}return{jleaf:f,q:l}}}};var Ao={name:"csCounts",path:"algebra.sparse",factory:function(e,t,r){var n=r(wo),i=r(Mo);return function(e,t,r,a){if(!e||!t||!r)return null;var o,s,u,c,l,f,p,m=e._size,h=m[0],d=m[1],v=4*d+(a?d+h+1:0),g=[],y=d,b=2*d,x=3*d,w=4*d,_=5*d+1;for(u=0;u<v;u++)g[u]=-1;var N=[],E=n(e),S=E._index,M=E._ptr;for(u=0;u<d;u++)for(N[s=r[u]]=-1===g[x+s]?1:0;-1!==s&&-1===g[x+s];s=t[s])g[x+s]=u;if(a){for(u=0;u<d;u++)g[r[u]]=u;for(o=0;o<h;o++){for(u=d,f=M[o],p=M[o+1],l=f;l<p;l++)u=Math.min(u,g[S[l]]);g[_+o]=g[w+u],g[w+u]=o}}for(o=0;o<d;o++)g[0+o]=o;for(u=0;u<d;u++){for(-1!==t[s=r[u]]&&N[t[s]]--,c=a?g[w+u]:s;-1!==c;c=a?g[_+c]:-1)for(l=M[c];l<M[c+1];l++){o=S[l];var A=i(o,s,g,x,y,b,0);A.jleaf>=1&&N[s]++,2===A.jleaf&&N[A.q]--}-1!==t[s]&&(g[0+s]=t[s])}for(s=0;s<d;s++)-1!==t[s]&&(N[t[s]]+=N[s]);return N}}};var Oo={name:"csSqr",path:"algebra.sparse",factory:function(e,t,r){var n=r(_o),i=r(No),a=r(Eo),o=r(So),s=r(Ao);return function(e,t,r){var u,c=t._ptr,l=t._size[1],f={};if(f.q=n(e,t),e&&!f.q)return null;if(r){var p=e?i(t,null,f.q,0):t;f.parent=a(p,1);var m=o(f.parent,l);if(f.cp=s(p,f.parent,m,1),p&&f.parent&&f.cp&&function(e,t){var r=e._ptr,n=e._index,i=e._size,a=i[0],o=i[1];t.pinv=[],t.leftmost=[];var s,u,c,l,f,p=t.parent,m=t.pinv,h=t.leftmost,d=[],v=a,g=a+o,y=a+2*o;for(u=0;u<o;u++)d[v+u]=-1,d[g+u]=-1,d[y+u]=0;for(s=0;s<a;s++)h[s]=-1;for(u=o-1;u>=0;u--)for(l=r[u],f=r[u+1],c=l;c<f;c++)h[n[c]]=u;for(s=a-1;s>=0;s--)m[s]=-1,-1!==(u=h[s])&&(0==d[y+u]++&&(d[g+u]=s),d[0+s]=d[v+u],d[v+u]=s);for(t.lnz=0,t.m2=a,u=0;u<o;u++)if(s=d[v+u],t.lnz++,s<0&&(s=t.m2++),m[s]=u,!(--y[u]<=0)){t.lnz+=d[y+u];var b=p[u];-1!==b&&(0===d[y+b]&&(d[g+b]=d[g+u]),d[0+d[g+u]]=d[v+b],d[v+b]=d[0+s],d[y+b]+=d[y+u])}for(s=0;s<a;s++)m[s]<0&&(m[s]=u++);return!0}(p,f))for(f.unz=0,u=0;u<l;u++)f.unz+=f.cp[u]}else f.unz=4*c[l]+l,f.lnz=f.unz;return f}}},Co=P.nearlyEqual;var Po={name:"largerEq",factory:function(e,t,r,n){var i=r(zr),a=r(Qr),o=r(Kr),s=r(Yr),u=r(Vr),c=r(Wr),l=Kt,f=n("largerEq",{"boolean, boolean":function(e,t){return e>=t},"number, number":function(e,r){return e>=r||Co(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return e.gte(r)||Mr(e,r,t.epsilon)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return f(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,f)},"Array, Array":function(e,t){return f(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return f(i(e),t)},"Matrix, Array":function(e,t){return f(e,i(t))},"SparseMatrix, any":function(e,t){return s(e,t,f,!1)},"DenseMatrix, any":function(e,t){return c(e,t,f,!1)},"any, SparseMatrix":function(e,t){return s(t,e,f,!0)},"any, DenseMatrix":function(e,t){return c(t,e,f,!0)},"Array, any":function(e,t){return c(i(e),t,f,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(l.operators.largerEq,"${args[1]}\\right)")},f}};var To={name:"csMarked",path:"algebra.sparse",factory:function(){return function(e,t){return e[t]<0}}};var ko={name:"csMark",path:"algebra.sparse",factory:function(e,t,r){var n=r(vo);return function(e,t){e[t]=n(e[t])}}};var Ro={name:"csUnflip",path:"algebra.sparse",factory:function(e,t,r){var n=r(vo);return function(e){return e<0?n(e):e}}};var Io={name:"csDfs",path:"algebra.sparse",factory:function(e,t,r){var n=r(To),i=r(ko),a=r(Ro);return function(e,t,r,o,s){var u,c,l,f=t._index,p=t._ptr,m=t._size[1],h=0;for(o[0]=e;h>=0;){e=o[h];var d=s?s[e]:e;n(p,e)||(i(p,e),o[m+h]=d<0?0:a(p[d]));var v=1;for(c=o[m+h],l=d<0?0:a(p[d+1]);c<l;c++)if(u=f[c],!n(p,u)){o[m+h]=c,o[++h]=u,v=0;break}v&&(h--,o[--r]=e)}return r}}};var jo={name:"csReach",path:"algebra.sparse",factory:function(e,t,r){var n=r(Io),i=r(To),a=r(ko);return function(e,t,r,o,s){var u,c,l,f=e._ptr,p=e._size,m=t._index,h=t._ptr,d=p[1],v=d;for(c=h[r],l=h[r+1],u=c;u<l;u++){var g=m[u];i(f,g)||(v=n(g,e,v,o,s))}for(u=v;u<d;u++)a(f,o[u]);return v}}};var Fo={name:"csSpsolve",path:"algebra.sparse",factory:function(e,t,r){var n=r(An),i=r(kn),a=r(Sn),o=r(jo);return function(e,t,r,s,u,c,l){var f,p,m,h,d=e._values,v=e._index,g=e._ptr,y=e._size[1],b=t._values,x=t._index,w=t._ptr,_=o(e,t,r,s,c);for(f=_;f<y;f++)u[s[f]]=0;for(p=w[r],m=w[r+1],f=p;f<m;f++)u[x[f]]=b[f];for(var N=_;N<y;N++){var E=s[N],S=c?c[E]:E;if(!(S<0))for(p=g[S],m=g[S+1],u[E]=n(u[E],d[l?p:m-1]),f=l?p+1:p,h=l?m:m-1;f<h;f++){var M=v[f];u[M]=a(u[M],i(d[f],u[E]))}}return _}}};var Do={name:"csLu",path:"algebra.sparse",factory:function(e,t,r){var n=r(Fn),i=r(An),a=r(kn),o=r(rn),s=r(Po),u=r(Fo),c=e.SparseMatrix;return function(e,t,r){if(!e)return null;var l,f=e._size[1],p=100,m=100;t&&(l=t.q,p=t.lnz||p,m=t.unz||m);var h,d,v=[],g=[],y=[],b=new c({values:v,index:g,ptr:y,size:[f,f]}),x=[],w=[],_=[],N=new c({values:x,index:w,ptr:_,size:[f,f]}),E=[],S=[],M=[];for(h=0;h<f;h++)S[h]=0,E[h]=-1,y[h+1]=0;p=0,m=0;for(var A=0;A<f;A++){y[A]=p,_[A]=m;var O=l?l[A]:A,C=u(b,e,O,M,S,E,1),P=-1,T=-1;for(d=C;d<f;d++)if(E[h=M[d]]<0){var k=n(S[h]);o(k,T)&&(T=k,P=h)}else w[m]=E[h],x[m++]=S[h];if(-1===P||T<=0)return null;E[O]<0&&s(n(S[O]),a(T,r))&&(P=O);var R=S[P];for(w[m]=A,x[m++]=R,E[P]=A,g[p]=P,v[p++]=1,d=C;d<f;d++)E[h=M[d]]<0&&(g[p]=h,v[p++]=i(S[h],R)),S[h]=0}for(y[f]=p,_[f]=m,d=0;d<p;d++)g[d]=E[g[d]];return v.splice(p,v.length-p),g.splice(p,g.length-p),x.splice(m,x.length-m),w.splice(m,w.length-m),{L:b,U:N,pinv:E}}}},$o=lr.number.isInteger;var zo={name:"slu",factory:function(e,t,r,n){var i=r(Oo),a=r(Do);return n("slu",{"SparseMatrix, number, number":function(e,t,r){if(!$o(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(r<0||r>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var n=i(t,e,!1),o=a(e,n,r);return{L:o.L,U:o.U,p:o.pinv,q:n.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}},Lo=lr.string,Bo=lr.array,qo=Array.isArray;var Uo={factory:function(e){var t=e.DenseMatrix;return function(r,n,i){var a=r.size();if(2!==a.length)throw new RangeError("Matrix must be two dimensional (size: "+Lo.format(a)+")");var o,s,u,c=a[0];if(c!==a[1])throw new RangeError("Matrix must be square (size: "+Lo.format(a)+")");if(e.isMatrix(n)){var l=n.size();if(1===l.length){if(l[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],u=n._data,s=0;s<c;s++)o[s]=[u[s]];return new t({data:o,size:[c,1],datatype:n._datatype})}if(2===l.length){if(l[0]!==c||1!==l[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(e.isDenseMatrix(n)){if(i){for(o=[],u=n._data,s=0;s<c;s++)o[s]=[u[s][0]];return new t({data:o,size:[c,1],datatype:n._datatype})}return n}for(o=[],s=0;s<c;s++)o[s]=[0];for(var f=n._values,p=n._index,m=n._ptr,h=m[1],d=m[0];d<h;d++)o[s=p[d]][0]=f[d];return new t({data:o,size:[c,1],datatype:n._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(qo(n)){var v=Bo.size(n);if(1===v.length){if(v[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],s=0;s<c;s++)o[s]=[n[s]];return new t({data:o,size:[c,1]})}if(2===v.length){if(v[0]!==c||1!==v[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],s=0;s<c;s++)o[s]=[n[s][0]];return new t({data:o,size:[c,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}}}};var Vo={name:"lsolve",factory:function(e,t,r,n){var i=r(zr),a=r(An),o=r(Mn),s=r(Sn),u=r(Or),c=r(Uo),l=e.DenseMatrix;function f(e,t){for(var r=(t=c(e,t,!0))._data,n=e._size[0],i=e._size[1],f=[],p=e._data,m=0;m<i;m++){var h=r[m][0]||0,d=void 0;if(u(h,0))d=0;else{var v=p[m][m];if(u(v,0))throw new Error("Linear system cannot be solved since matrix is singular");d=a(h,v);for(var g=m+1;g<n;g++)r[g]=[s(r[g][0]||0,o(d,p[g][m]))]}f[m]=[d]}return new l({data:f,size:[n,1]})}return n("lsolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r,n,i=(t=c(e,t,!0))._data,f=e._size[0],p=e._size[1],m=e._values,h=e._index,d=e._ptr,v=[],g=0;g<p;g++){var y=i[g][0]||0;if(u(y,0))v[g]=[0];else{var b=0,x=[],w=[],_=d[g+1];for(n=d[g];n<_;n++)(r=h[n])===g?b=m[n]:r>g&&(x.push(m[n]),w.push(r));if(u(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var N=a(y,b);for(n=0,_=w.length;n<_;n++)r=w[n],i[r]=[s(i[r][0]||0,o(N,x[n]))];v[g]=[N]}}return new l({data:v,size:[f,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return f(e,t)},"Array, Array | Matrix":function(e,t){return f(i(e),t).valueOf()}})}};var Ho={name:"csIpvec",path:"algebra.sparse",factory:function(){return function(e,t){var r,n=t.length,i=[];if(e)for(r=0;r<n;r++)i[e[r]]=t[r];else for(r=0;r<n;r++)i[r]=t[r];return i}}};var Wo={name:"usolve",factory:function(e,t,r,n){var i=r(zr),a=r(An),o=r(Mn),s=r(Sn),u=r(Or),c=r(Uo),l=e.DenseMatrix;function f(e,t){for(var r=(t=c(e,t,!0))._data,n=e._size[0],i=e._size[1],f=[],p=e._data,m=i-1;m>=0;m--){var h=r[m][0]||0,d=void 0;if(u(h,0))d=0;else{var v=p[m][m];if(u(v,0))throw new Error("Linear system cannot be solved since matrix is singular");d=a(h,v);for(var g=m-1;g>=0;g--)r[g]=[s(r[g][0]||0,o(d,p[g][m]))]}f[m]=[d]}return new l({data:f,size:[n,1]})}return n("usolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r,n,i=(t=c(e,t,!0))._data,f=e._size[0],p=e._size[1],m=e._values,h=e._index,d=e._ptr,v=[],g=p-1;g>=0;g--){var y=i[g][0]||0;if(u(y,0))v[g]=[0];else{var b=0,x=[],w=[],_=d[g],N=d[g+1];for(n=N-1;n>=_;n--)(r=h[n])===g?b=m[n]:r<g&&(x.push(m[n]),w.push(r));if(u(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var E=a(y,b);for(n=0,N=w.length;n<N;n++)r=w[n],i[r]=[s(i[r][0],o(E,x[n]))];v[g]=[E]}}return new l({data:v,size:[f,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return f(e,t)},"Array, Array | Matrix":function(e,t){return f(i(e),t).valueOf()}})}},Go=Array.isArray;var Zo=[oo,ao,uo,ho,Ja,zo,Vo,{name:"lusolve",factory:function(e,t,r,n){var i=r(zr),a=r(Ja),o=r(zo),s=r(Ho),u=r(Uo),c=r(Wo),l=r(Vo),f=n("lusolve",{"Array, Array | Matrix":function(e,t){e=i(e);var r=a(e);return m(r.L,r.U,r.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var r=a(e);return m(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var r=a(e);return m(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,r,n){var i=o(e,r,n);return m(i.L,i.U,i.p,i.q,t)},"Object, Array | Matrix":function(e,t){return m(e.L,e.U,e.p,e.q,t)}}),p=function(t){if(e.isMatrix(t))return t;if(Go(t))return i(t);throw new TypeError("Invalid Matrix LU decomposition")};function m(e,t,r,n,i){e=p(e),t=p(t),i=u(e,i,!1),r&&(i._data=s(r,i._data));var a=l(e,i),o=c(t,a);return n&&(o._data=s(n,o._data)),o}return f}},Wo];var Jo={name:"isNegative",factory:function(e,t,r,n){var i=n("isNegative",{number:function(e){return e<0},BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:function(e){return i(e.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i}};var Qo=Math.cbrt||function(e){if(0===e)return e;var t,r=e<0;return r&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,r?-t:t},Ko={name:"cbrt",factory:function(e,t,r,n){var i=r(_n),a=r(Jo),o=r(zr),s=n("cbrt",{number:Qo,Complex:u,"Complex, boolean":u,BigNumber:function(e){return e.cbrt()},Unit:function(t){if(t.value&&e.isComplex(t.value)){var r=t.clone();return r.value=1,(r=r.pow(1/3)).value=u(t.value),r}var n,o=a(t.value);o&&(t.value=i(t.value)),n=e.isBigNumber(t.value)?new e.BigNumber(1).div(3):e.isFraction(t.value)?new e.Fraction(1,3):1/3;var s=t.pow(n);return o&&(s.value=i(s.value)),s},"Array | Matrix":function(e){return Rt(e,s)}});function u(r,n){var i=r.arg()/3,a=r.abs(),s=new e.Complex(Qo(a),0).mul(new e.Complex(0,i).exp());if(n){var u=[s,new e.Complex(Qo(a),0).mul(new e.Complex(0,i+2*Math.PI/3).exp()),new e.Complex(Qo(a),0).mul(new e.Complex(0,i-2*Math.PI/3).exp())];return"Array"===t.matrix?u:o(u)}return s}return s.toTex={1:"\\sqrt[3]{${args[0]}}"},s}};var Yo={name:"cube",factory:function(e,t,r,n){var i=n("cube",{number:function(e){return e*e*e},Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},"Array | Matrix":function(e){return Rt(e,i)},Unit:function(e){return e.pow(3)}});return i.toTex={1:"\\left(${args[0]}\\right)^3"},i}};var Xo={name:"algorithm02",factory:function(e,t,r,n){var i=r(Or),a=e.SparseMatrix;return function(e,t,r,o){var s=e._data,u=e._size,c=e._datatype,l=t._values,f=t._index,p=t._ptr,m=t._size,h=t._datatype;if(u.length!==m.length)throw new nr(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,v=u[0],g=u[1],y=i,b=0,x=r;"string"==typeof c&&c===h&&(d=c,y=n.find(i,[d,d]),b=n.convert(0,d),x=n.find(r,[d,d]));for(var w=[],_=[],N=[],E=0;E<g;E++){N[E]=_.length;for(var S=p[E],M=p[E+1],A=S;A<M;A++){var O=f[A],C=o?x(l[A],s[O][E]):x(s[O][E],l[A]);y(C,b)||(_.push(O),w.push(C))}}return N[g]=_.length,new a({values:w,index:_,ptr:N,size:[v,g],datatype:d})}}};var es={name:"dotDivide",factory:function(e,t,r,n){var i=r(zr),a=r(An),o=Kt,s=r(Xo),u=r(Qr),c=r(Kr),l=r(Pn),f=r(Yr),p=r(Vr),m=r(Wr),h=n("dotDivide",{"any, any":a,"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,a,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,a,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,a,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,a)},"Array, Array":function(e,t){return h(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return h(i(e),t)},"Matrix, Array":function(e,t){return h(e,i(t))},"SparseMatrix, any":function(e,t){return l(e,t,a,!1)},"DenseMatrix, any":function(e,t){return m(e,t,a,!1)},"any, SparseMatrix":function(e,t){return f(t,e,a,!0)},"any, DenseMatrix":function(e,t){return m(t,e,a,!0)},"Array, any":function(e,t){return m(i(e),t,a,!1).valueOf()},"any, Array":function(e,t){return m(i(t),e,a,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(o.operators.dotDivide,"${args[1]}\\right)")},h}};var ts={name:"algorithm09",factory:function(e,t,r,n){var i=r(Or),a=e.SparseMatrix;return function(e,t,r){var o=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype,f=t._values,p=t._index,m=t._ptr,h=t._size,d=t._datatype;if(c.length!==h.length)throw new nr(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var v,g=c[0],y=c[1],b=i,x=0,w=r;"string"==typeof l&&l===d&&(v=l,b=n.find(i,[v,v]),x=n.convert(0,v),w=n.find(r,[v,v]));var _,N,E,S,M,A=o&&f?[]:void 0,O=[],C=[],P=new a({values:A,index:O,ptr:C,size:[g,y],datatype:v}),T=A?[]:void 0,k=[];for(N=0;N<y;N++){C[N]=O.length;var R=N+1;if(T)for(S=m[N],M=m[N+1],E=S;E<M;E++)k[_=p[E]]=R,T[_]=f[E];for(S=u[N],M=u[N+1],E=S;E<M;E++)if(_=s[E],T){var I=k[_]===R?T[_]:x,j=w(o[E],I);b(j,x)||(O.push(_),A.push(j))}else O.push(_)}return C[y]=O.length,P}}};var rs={name:"dotMultiply",factory:function(e,t,r,n){var i=r(zr),a=r(Mn),o=Kt,s=r(Xo),u=r(ts),c=r(Pn),l=r(Vr),f=r(Wr),p=n("dotMultiply",{"any, any":a,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,a,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,a,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,a,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,a)},"Array, Array":function(e,t){return p(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return p(i(e),t)},"Matrix, Array":function(e,t){return p(e,i(t))},"SparseMatrix, any":function(e,t){return c(e,t,a,!1)},"DenseMatrix, any":function(e,t){return f(e,t,a,!1)},"any, SparseMatrix":function(e,t){return c(t,e,a,!0)},"any, DenseMatrix":function(e,t){return f(t,e,a,!0)},"Array, any":function(e,t){return f(i(e),t,a,!1).valueOf()},"any, Array":function(e,t){return f(i(t),e,a,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}".concat(o.operators.dotMultiply,"${args[1]}\\right)")},p}};var ns={name:"dotPow",factory:function(e,t,r,n){var i=r(zr),a=r(jn),o=Kt,s=r(Qr),u=r(Kr),c=r(Pn),l=r(Yr),f=r(Vr),p=r(Wr),m=n("dotPow",{"any, any":a,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,a,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,a,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,a,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,a)},"Array, Array":function(e,t){return m(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return m(i(e),t)},"Matrix, Array":function(e,t){return m(e,i(t))},"SparseMatrix, any":function(e,t){return c(e,t,m,!1)},"DenseMatrix, any":function(e,t){return p(e,t,m,!1)},"any, SparseMatrix":function(e,t){return l(t,e,m,!0)},"any, DenseMatrix":function(e,t){return p(t,e,m,!0)},"Array, any":function(e,t){return p(i(e),t,m,!1).valueOf()},"any, Array":function(e,t){return p(i(t),e,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}".concat(o.operators.dotPow,"${args[1]}\\right)")},m}};var is={name:"exp",factory:function(e,t,r,n){var i=n("exp",{number:Math.exp,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\exp\\left(${args[0]}\\right)"},i}};var as={name:"expm1",factory:function(e,t,r,n){var i=Kt,a=n("expm1",{number:Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6},Complex:function(t){var r=Math.exp(t.re);return new e.Complex(r*Math.cos(t.im)-1,r*Math.sin(t.im))},BigNumber:function(e){return e.exp().minus(1)},"Array | Matrix":function(e){return Rt(e,a)}});return a.toTex="\\left(e".concat(i.operators.pow,"{${args[0]}}-1\\right)"),a}},os=P.isInteger;function ss(e,t){if(!os(e)||!os(t))throw new Error("Parameters in function gcd must be integer numbers");for(var r;0!==t;)r=e%t,e=t,t=r;return e<0?-e:e}var us={name:"gcd",factory:function(e,t,r,n){var i=r(zr),a=r(Br),o=r(qr),s=r(Ur),u=r(Vr),c=r(Wr),l=n("gcd",{"number, number":ss,"BigNumber, BigNumber":function(t,r){if(!t.isInt()||!r.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var n=new e.BigNumber(0);!r.isZero();){var i=t.mod(r);t=r,r=i}return t.lt(n)?t.neg():t},"Fraction, Fraction":function(e,t){return e.gcd(t)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,l)},"Array, Array":function(e,t){return l(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return l(i(e),t)},"Matrix, Array":function(e,t){return l(e,i(t))},"SparseMatrix, number | BigNumber":function(e,t){return s(e,t,l,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,l,!1)},"number | BigNumber, SparseMatrix":function(e,t){return s(t,e,l,!0)},"number | BigNumber, DenseMatrix":function(e,t){return c(t,e,l,!0)},"Array, number | BigNumber":function(e,t){return c(i(e),t,l,!1).valueOf()},"number | BigNumber, Array":function(e,t){return c(i(t),e,l,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,r){for(var n=l(e,t),i=0;i<r.length;i++)n=l(n,r[i]);return n}});return l.toTex="\\gcd\\left(${args}\\right)",l}};var cs={name:"isPositive",factory:function(e,t,r,n){var i=n("isPositive",{number:function(e){return e>0},BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:function(e){return i(e.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i}},ls=or.flatten;var fs={name:"hypot",factory:function(e,t,r,n){var i=r(Fn),a=r(Lr),o=r(An),s=r(Mn),u=r(po),c=r(en),l=r(cs),f=n("hypot",{"... number | BigNumber":function(e){for(var t=0,r=0,n=0;n<e.length;n++){var f=i(e[n]);c(r,f)?(t=s(t,s(o(r,f),o(r,f))),t=a(t,1),r=f):t=a(t,l(f)?s(o(f,r),o(f,r)):f)}return s(r,u(t))},Array:function(e){return f.apply(f,ls(e))},Matrix:function(e){return f.apply(f,ls(e.toArray()))}});return f.toTex="\\hypot\\left(${args}\\right)",f}},ps=function(e,t,r,n,i,a,o,s,u,c,l){var f,p,m,h,d=e._values,v=e._index,g=e._ptr,y=o._index;if(n)for(p=g[t],m=g[t+1],f=p;f<m;f++)r[h=v[f]]!==a?(r[h]=a,y.push(h),c?(n[h]=u?s(d[f],l):s(l,d[f]),i[h]=a):n[h]=d[f]):(n[h]=u?s(d[f],n[h]):s(n[h],d[f]),i[h]=a);else for(p=g[t],m=g[t+1],f=p;f<m;f++)r[h=v[f]]!==a?(r[h]=a,y.push(h)):i[h]=a};var ms={name:"algorithm06",factory:function(e,t,r,n){var i=r(Or),a=e.SparseMatrix;return function(e,t,r){var o=e._values,s=e._size,u=e._datatype,c=t._values,l=t._size,f=t._datatype;if(s.length!==l.length)throw new nr(s.length,l.length);if(s[0]!==l[0]||s[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+l+")");var p,m=s[0],h=s[1],d=i,v=0,g=r;"string"==typeof u&&u===f&&(p=u,d=n.find(i,[p,p]),v=n.convert(0,p),g=n.find(r,[p,p]));for(var y=o&&c?[]:void 0,b=[],x=[],w=new a({values:y,index:b,ptr:x,size:[m,h],datatype:p}),_=y?[]:void 0,N=[],E=[],S=0;S<h;S++){x[S]=b.length;var M=S+1;if(ps(e,S,N,_,E,M,w,g),ps(t,S,N,_,E,M,w,g),_)for(var A=x[S];A<b.length;){var O=b[A];if(E[O]===M){var C=_[O];d(C,v)?b.splice(A,1):(y.push(C),A++)}else b.splice(A,1)}else for(var P=x[S];P<b.length;)E[b[P]]!==M?b.splice(P,1):P++}return x[h]=b.length,w}}},hs=P.isInteger;function ds(e,t){if(!hs(e)||!hs(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var r,n=e*t;0!==t;)t=e%(r=t),e=r;return Math.abs(n/e)}var vs={name:"lcm",factory:function(e,t,r,n){var i=r(zr),a=r(Xo),o=r(ms),s=r(Pn),u=r(Vr),c=r(Wr),l=n("lcm",{"number, number":ds,"BigNumber, BigNumber":function(t,r){if(!t.isInt()||!r.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(t.isZero()||r.isZero())return new e.BigNumber(0);for(var n=t.times(r);!r.isZero();){var i=r;r=t.mod(i),t=i}return n.div(t).abs()},"Fraction, Fraction":function(e,t){return e.lcm(t)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,l)},"Array, Array":function(e,t){return l(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return l(i(e),t)},"Matrix, Array":function(e,t){return l(e,i(t))},"SparseMatrix, number | BigNumber":function(e,t){return s(e,t,l,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,l,!1)},"number | BigNumber, SparseMatrix":function(e,t){return s(t,e,l,!0)},"number | BigNumber, DenseMatrix":function(e,t){return c(t,e,l,!0)},"Array, number | BigNumber":function(e,t){return c(i(e),t,l,!1).valueOf()},"number | BigNumber, Array":function(e,t){return c(i(t),e,l,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,r){for(var n=l(e,t),i=0;i<r.length;i++)n=l(n,r[i]);return n}});return l.toTex=void 0,l}};var gs={name:"log",factory:function(e,t,r,n){var i=r(An),a=n("log",{number:function(r){return r>=0||t.predictable?Math.log(r):new e.Complex(r,0).log()},Complex:function(e){return e.log()},BigNumber:function(r){return!r.isNegative()||t.predictable?r.ln():new e.Complex(r.toNumber(),0).log()},"Array | Matrix":function(e){return Rt(e,a)},"any, any":function(e,t){return i(a(e),a(t))}});return a.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},a}};var ys=Math.log10||function(e){return Math.log(e)/Math.LN10},bs={name:"log10",factory:function(e,t,r,n){var i=n("log10",{number:function(r){return r>=0||t.predictable?ys(r):new e.Complex(r,0).log().div(Math.LN10)},Complex:function(t){return new e.Complex(t).log().div(Math.LN10)},BigNumber:function(r){return!r.isNegative()||t.predictable?r.log():new e.Complex(r.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},i}};var xs={name:"log1p",factory:function(e,t,r,n){var i=r(An),a=r(gs),o=n("log1p",{number:function(r){return r>=-1||t.predictable?Math.log1p?Math.log1p(r):Math.log(r+1):s(new e.Complex(r,0))},Complex:s,BigNumber:function(r){var n=r.plus(1);return!n.isNegative()||t.predictable?n.ln():s(new e.Complex(r.toNumber(),0))},"Array | Matrix":function(e){return Rt(e,o)},"any, any":function(e,t){return i(o(e),a(t))}});function s(t){var r=t.re+1;return new e.Complex(Math.log(Math.sqrt(r*r+t.im*t.im)),Math.atan2(t.im,r))}return o.toTex={1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},o}};var ws={name:"log2",factory:function(e,t,r,n){var i=n("log2",{number:function(r){return r>=0||t.predictable?Math.log2?Math.log2(r):Math.log(r)/Math.LN2:a(new e.Complex(r,0))},Complex:a,BigNumber:function(r){return!r.isNegative()||t.predictable?r.log(2):a(new e.Complex(r.toNumber(),0))},"Array | Matrix":function(e){return Rt(e,i)}});function a(t){var r=Math.sqrt(t.re*t.re+t.im*t.im);return new e.Complex(Math.log2?Math.log2(r):Math.log(r)/Math.LN2,Math.atan2(t.im,t.re)/Math.LN2)}return i.toTex="\\log_{2}\\left(${args[0]}\\right)",i}};var _s={name:"mod",factory:function(e,t,r,n){var i=r(zr),a=Kt,o=r(Xo),s=r(Qr),u=r(Nn),c=r(Pn),l=r(Yr),f=r(Vr),p=r(Wr),m=n("mod",{"number, number":function(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")},"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){return e.mod(t)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,m,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,m,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,m,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,m)},"Array, Array":function(e,t){return m(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return m(i(e),t)},"Matrix, Array":function(e,t){return m(e,i(t))},"SparseMatrix, any":function(e,t){return c(e,t,m,!1)},"DenseMatrix, any":function(e,t){return p(e,t,m,!1)},"any, SparseMatrix":function(e,t){return l(t,e,m,!0)},"any, DenseMatrix":function(e,t){return p(t,e,m,!0)},"Array, any":function(e,t){return p(i(e),t,m,!1).valueOf()},"any, Array":function(e,t){return p(i(t),e,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}".concat(a.operators.mod,"${args[1]}\\right)")},m}};var Ns={name:"norm",factory:function(e,t,r,n){var i=r(Fn),a=r(Zr),o=r(jn),s=r(mo),u=r(po),c=r(kn),l=r(Or),f=r(rn),p=r(en),m=r(zr),h=n("norm",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return d(m(e),2)},Matrix:function(e){return d(e,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(e){return h(e)},"Array, number | BigNumber | string":function(e,t){return d(m(e),t)},"Matrix, number | BigNumber | string":function(e,t){return d(e,t)}});function d(e,t){var r=e.size();if(1===r.length){if(t===Number.POSITIVE_INFINITY||"inf"===t){var n=0;return e.forEach(function(e){var t=i(e);f(t,n)&&(n=t)},!0),n}var m;if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return e.forEach(function(e){var t=i(e);m&&!p(t,m)||(m=t)},!0),m||0;if("fro"===t)return d(e,2);if("number"==typeof t&&!isNaN(t)){if(!l(t,0)){var h=0;return e.forEach(function(e){h=a(o(i(e),t),h)},!0),o(h,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2===r.length){if(1===t){var v=[],g=0;return e.forEach(function(e,t){var r=t[1],n=a(v[r]||0,i(e));f(n,g)&&(g=n),v[r]=n},!0),g}if(t===Number.POSITIVE_INFINITY||"inf"===t){var y=[],b=0;return e.forEach(function(e,t){var r=t[0],n=a(y[r]||0,i(e));f(n,b)&&(b=n),y[r]=n},!0),b}if("fro"===t){var x=0;return e.forEach(function(e,t){x=a(x,c(e,s(e)))}),i(u(x))}if(2===t)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}return h.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},h}};function Es(e,t){var r=t<0;if(r&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===e)return r?1/0:0;if(!isFinite(e))return r?0:e;var n=Math.pow(Math.abs(e),1/t);return n=e<0?-n:n,r?1/n:n}var Ss={name:"nthRoot",factory:function(e,t,r,n){var i=r(zr),a=r(Br),o=r(Xo),s=r(ms),u=r(Pn),c=r(Vr),l=r(Wr),f="Complex number not supported in function nthRoot. Use nthRoots instead.",p=n("nthRoot",{number:function(e){return Es(e,2)},"number, number":Es,BigNumber:function(t){return m(t,new e.BigNumber(2))},Complex:function(e){throw new Error(f)},"Complex, number":function(e,t){throw new Error(f)},"BigNumber, BigNumber":m,"Array | Matrix":function(e){return p(e,2)},"SparseMatrix, SparseMatrix":function(e,t){if(1===t.density())return s(e,t,p);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){if(1===t.density())return a(e,t,p,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,p)},"Array, Array":function(e,t){return p(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return p(i(e),t)},"Matrix, Array":function(e,t){return p(e,i(t))},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,p,!1)},"DenseMatrix, number | BigNumber":function(e,t){return l(e,t,p,!1)},"number | BigNumber, SparseMatrix":function(e,t){if(1===t.density())return u(t,e,p,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(e,t){return l(t,e,p,!0)},"Array, number | BigNumber":function(e,t){return p(i(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return p(e,i(t)).valueOf()}});return p.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},p;function m(t,r){var n=e.BigNumber.precision,i=e.BigNumber.clone({precision:n+2}),a=new e.BigNumber(0),o=new i(1),s=r.isNegative();if(s&&(r=r.neg()),r.isZero())throw new Error("Root must be non-zero");if(t.isNegative()&&!r.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(t.isZero())return s?new i(1/0):0;if(!t.isFinite())return s?a:t;var u=t.abs().pow(o.div(r));return u=t.isNeg()?u.neg():u,new e.BigNumber((s?o.div(u):u).toPrecision(n))}}},Ms=Wt.factory("Complex",{},"",j,{on:function(e,t){}});var As=[function(e){return Ms(e)},function(e){return Ms(0,e)},function(e){return Ms(-e)},function(e){return Ms(0,-e)}];function Os(e,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!=0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[Ms(0)];var r,n="number"==typeof e;(n||0===e.re||0===e.im)&&(r=n?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var i=e.arg(),a=e.abs(),o=[],s=Math.pow(a,1/t),u=0;u<t;u++){var c=(r+4*u)/t;c!==Math.round(c)?o.push(Ms({r:s,phi:(i+2*Math.PI*u)/t})):o.push(As[c%4](s))}return o}var Cs={name:"nthRoots",factory:function(e,t,r,n){var i=n("nthRoots",{Complex:function(e){return Os(e,2)},"Complex, number":Os});return i.toTex={2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},i}};var Ps={name:"square",factory:function(e,t,r,n){var i=n("square",{number:function(e){return e*e},Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return Rt(e,i)},Unit:function(e){return e.pow(2)}});return i.toTex={1:"\\left(${args[0]}\\right)^2"},i}};var Ts={name:"unaryPlus",factory:function(e,t,r,n){var i=Kt,a=n("unaryPlus",{number:function(e){return e},Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return Rt(e,a)},"boolean | string":function(r){return"BigNumber"===t.number?new e.BigNumber(+r):+r}});return a.toTex={1:"".concat(i.operators.unaryPlus,"\\left(${args[0]}\\right)")},a}},ks=P.isInteger;var Rs=[Fn,Zr,Lr,Ko,Wn,Yo,to,es,rs,ns,is,as,Jn,Zn,us,fs,vs,gs,bs,xs,ws,_s,kn,Ns,Ss,Cs,jn,Vn,fo,po,Ps,Sn,_n,Ts,{name:"xgcd",factory:function(e,t,r,n){var i=r(zr),a=n("xgcd",{"number, number":function(e,r){var n,a,o,s,u=0,c=1,l=1,f=0;if(!ks(e)||!ks(r))throw new Error("Parameters in function xgcd must be integer numbers");for(;r;)a=Math.floor(e/r),o=e-a*r,n=u,u=c-a*u,c=n,n=l,l=f-a*l,f=n,e=r,r=o;return s=e<0?[-e,-c,-f]:[e,e?c:0,f],"Array"===t.matrix?s:i(s)},"BigNumber, BigNumber":function(r,n){var a,o,s,u,c=new e.BigNumber(0),l=new e.BigNumber(1),f=c,p=l,m=l,h=c;if(!r.isInt()||!n.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!n.isZero();)o=r.div(n).floor(),s=r.mod(n),a=f,f=p.minus(o.times(f)),p=a,a=m,m=h.minus(o.times(m)),h=a,r=n,n=s;return u=r.lt(c)?[r.neg(),p.neg(),h.neg()]:[r,r.isZero()?0:p,h],"Array"===t.matrix?u:i(u)}});return a.toTex=void 0,a}}],Is=function(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,r=t.precision;t.config({precision:1e9});var n=e.plus(new t(1));return n.s=-n.s||null,t.config({precision:r}),n},js=function(e,t,r){var n,i,a,o,s,u=e.constructor,c=+(e.s<0),l=+(t.s<0);if(c){n=Fs(Is(e));for(var f=0;f<n.length;++f)n[f]^=1}else n=Fs(e);if(l){i=Fs(Is(t));for(var p=0;p<i.length;++p)i[p]^=1}else i=Fs(t);n.length<=i.length?(a=n,o=i,s=c):(a=i,o=n,s=l);var m=a.length,h=o.length,d=1^r(c,l),v=new u(1^d),g=new u(1),y=new u(2),b=u.precision;for(u.config({precision:1e9});m>0;)r(a[--m],o[--h])===d&&(v=v.plus(g)),g=g.times(y);for(;h>0;)r(s,o[--h])===d&&(v=v.plus(g)),g=g.times(y);return u.config({precision:b}),0===d&&(v.s=-v.s),v};function Fs(e){for(var t=e.d,r=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var o=r.length;"0"===r.charAt(o);)o--;var s=e.e,u=r.slice(0,o+1||1),c=u.length;if(s>0)if(++s>c)for(s-=c;s--;)u+="0";else s<c&&(u=u.slice(0,s)+"."+u.slice(s));for(var l=[0],f=0;f<u.length;){for(var p=l.length;p--;)l[p]*=10;l[0]+=parseInt(u.charAt(f++));for(var m=0;m<l.length;++m)l[m]>1&&(null!==l[m+1]&&void 0!==l[m+1]||(l[m+1]=0),l[m+1]+=l[m]>>1,l[m]&=1)}return l.reverse()}var Ds=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e}return js(e,t,function(e,t){return e&t})},$s=P.isInteger;var zs={name:"bitAnd",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=r(Xo),s=r(ms),u=r(Pn),c=r(Vr),l=r(Wr),f=n("bitAnd",{"number, number":function(e,t){if(!$s(e)||!$s(t))throw new Error("Integers expected in function bitAnd");return e&t},"BigNumber, BigNumber":Ds,"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,f,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,f)},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"SparseMatrix, any":function(e,t){return u(e,t,f,!1)},"DenseMatrix, any":function(e,t){return l(e,t,f,!1)},"any, SparseMatrix":function(e,t){return u(t,e,f,!0)},"any, DenseMatrix":function(e,t){return l(t,e,f,!0)},"Array, any":function(e,t){return l(a(e),t,f,!1).valueOf()},"any, Array":function(e,t){return l(a(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(i.operators.bitAnd,"${args[1]}\\right)")},f}},Ls=P.isInteger;var Bs={name:"bitNot",factory:function(e,t,r,n){var i=Kt,a=n("bitNot",{number:function(e){if(!Ls(e))throw new Error("Integer expected in function bitNot");return~e},BigNumber:Is,"Array | Matrix":function(e){return Rt(e,a)}});return a.toTex={1:i.operators.bitNot+"\\left(${args[0]}\\right)"},a}},qs=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);var n=new r(-1);return e.isZero()||t.eq(n)||e.eq(t)?t:t.isZero()||e.eq(n)?e:e.isFinite()&&t.isFinite()?js(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?n:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e},Us=P.isInteger;var Vs={name:"bitOr",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=r(Br),s=r(qr),u=r(Ur),c=r(Vr),l=r(Wr),f=n("bitOr",{"number, number":function(e,t){if(!Us(e)||!Us(t))throw new Error("Integers expected in function bitOr");return e|t},"BigNumber, BigNumber":qs,"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,f)},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"SparseMatrix, any":function(e,t){return u(e,t,f,!1)},"DenseMatrix, any":function(e,t){return l(e,t,f,!1)},"any, SparseMatrix":function(e,t){return u(t,e,f,!0)},"any, DenseMatrix":function(e,t){return l(t,e,f,!0)},"Array, any":function(e,t){return l(a(e),t,f,!1).valueOf()},"any, Array":function(e,t){return l(a(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(i.operators.bitOr,"${args[1]}\\right)")},f}},Hs=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new r(0);var n=new r(-1);return e.eq(n)?Is(t):t.eq(n)?Is(e):e.isFinite()&&t.isFinite()?js(e,t,function(e,t){return e^t}):e.isFinite()||t.isFinite()?new r(e.isNegative()===t.isNegative()?1/0:-1/0):n},Ws=P.isInteger;var Gs={name:"bitXor",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=r(Qr),s=r(Kr),u=r(Yr),c=r(Vr),l=r(Wr),f=n("bitXor",{"number, number":function(e,t){if(!Ws(e)||!Ws(t))throw new Error("Integers expected in function bitXor");return e^t},"BigNumber, BigNumber":Hs,"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,f)},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"SparseMatrix, any":function(e,t){return u(e,t,f,!1)},"DenseMatrix, any":function(e,t){return l(e,t,f,!1)},"any, SparseMatrix":function(e,t){return u(t,e,f,!0)},"any, DenseMatrix":function(e,t){return l(t,e,f,!0)},"Array, any":function(e,t){return l(a(e),t,f,!1).valueOf()},"any, Array":function(e,t){return l(a(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(i.operators.bitXor,"${args[1]}\\right)")},f}},Zs=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new r(2).pow(t)):new r(NaN)};var Js={name:"algorithm08",factory:function(e,t,r,n){var i=r(Or),a=e.SparseMatrix;return function(e,t,r){var o=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype,f=t._values,p=t._index,m=t._ptr,h=t._size,d=t._datatype;if(c.length!==h.length)throw new nr(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!o||!f)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v,g=c[0],y=c[1],b=i,x=0,w=r;"string"==typeof l&&l===d&&(v=l,b=n.find(i,[v,v]),x=n.convert(0,v),w=n.find(r,[v,v]));for(var _,N,E,S,M=[],A=[],O=[],C=new a({values:M,index:A,ptr:O,size:[g,y],datatype:v}),P=[],T=[],k=0;k<y;k++){O[k]=A.length;var R=k+1;for(N=u[k],E=u[k+1],_=N;_<E;_++)T[S=s[_]]=R,P[S]=o[_],A.push(S);for(N=m[k],E=m[k+1],_=N;_<E;_++)T[S=p[_]]===R&&(P[S]=w(P[S],f[_]));for(_=O[k];_<A.length;){var I=P[S=A[_]];b(I,x)?A.splice(_,1):(M.push(I),_++)}}return O[y]=A.length,C}}},Qs=P.isInteger;var Ks={name:"leftShift",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=r(Or),s=r(zn),u=r(Br),c=r(Xo),l=r(Js),f=r(Ur),p=r(Pn),m=r(Vr),h=r(Wr),d=n("leftShift",{"number, number":function(e,t){if(!Qs(e)||!Qs(t))throw new Error("Integers expected in function leftShift");return e<<t},"BigNumber, BigNumber":Zs,"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,d,!1)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,d)},"Array, Array":function(e,t){return d(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return d(a(e),t)},"Matrix, Array":function(e,t){return d(e,a(t))},"SparseMatrix, number | BigNumber":function(e,t){return o(t,0)?e.clone():p(e,t,d,!1)},"DenseMatrix, number | BigNumber":function(e,t){return o(t,0)?e.clone():h(e,t,d,!1)},"number | BigNumber, SparseMatrix":function(e,t){return o(e,0)?s(t.size(),t.storage()):f(t,e,d,!0)},"number | BigNumber, DenseMatrix":function(e,t){return o(e,0)?s(t.size(),t.storage()):h(t,e,d,!0)},"Array, number | BigNumber":function(e,t){return d(a(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return d(e,a(t)).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(i.operators.leftShift,"${args[1]}\\right)")},d}},Ys=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():e.isNegative()?new r(-1):e.isFinite()?new r(0):new r(NaN)},Xs=P.isInteger;var eu={name:"rightArithShift",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=r(Or),s=r(zn),u=r(Br),c=r(Xo),l=r(Js),f=r(Ur),p=r(Pn),m=r(Vr),h=r(Wr),d=n("rightArithShift",{"number, number":function(e,t){if(!Xs(e)||!Xs(t))throw new Error("Integers expected in function rightArithShift");return e>>t},"BigNumber, BigNumber":Ys,"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,d,!1)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,d)},"Array, Array":function(e,t){return d(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return d(a(e),t)},"Matrix, Array":function(e,t){return d(e,a(t))},"SparseMatrix, number | BigNumber":function(e,t){return o(t,0)?e.clone():p(e,t,d,!1)},"DenseMatrix, number | BigNumber":function(e,t){return o(t,0)?e.clone():h(e,t,d,!1)},"number | BigNumber, SparseMatrix":function(e,t){return o(e,0)?s(t.size(),t.storage()):f(t,e,d,!0)},"number | BigNumber, DenseMatrix":function(e,t){return o(e,0)?s(t.size(),t.storage()):h(t,e,d,!0)},"Array, number | BigNumber":function(e,t){return d(a(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return d(e,a(t)).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(i.operators.rightArithShift,"${args[1]}\\right)")},d}},tu=P.isInteger;var ru=[zs,Bs,Vs,Gs,Ks,eu,{name:"rightLogShift",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=r(Or),s=r(zn),u=r(Br),c=r(Xo),l=r(Js),f=r(Ur),p=r(Pn),m=r(Vr),h=r(Wr),d=n("rightLogShift",{"number, number":function(e,t){if(!tu(e)||!tu(t))throw new Error("Integers expected in function rightLogShift");return e>>>t},"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,d,!1)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,d)},"Array, Array":function(e,t){return d(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return d(a(e),t)},"Matrix, Array":function(e,t){return d(e,a(t))},"SparseMatrix, number | BigNumber":function(e,t){return o(t,0)?e.clone():p(e,t,d,!1)},"DenseMatrix, number | BigNumber":function(e,t){return o(t,0)?e.clone():h(e,t,d,!1)},"number | BigNumber, SparseMatrix":function(e,t){return o(e,0)?s(t.size(),t.storage()):f(t,e,d,!0)},"number | BigNumber, DenseMatrix":function(e,t){return o(e,0)?s(t.size(),t.storage()):h(t,e,d,!0)},"Array, number | BigNumber":function(e,t){return d(a(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return d(e,a(t)).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(i.operators.rightLogShift,"${args[1]}\\right)")},d}}];var nu=function e(t,r){var n;return r<t?1:r===t?r:e(t,n=r+t>>1)*e(n+1,r)},iu=P.isInteger;var au=4.7421875,ou=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],su={name:"gamma",factory:function(e,t,r,n){var i=r(kn),a=r(jn),o=nu,s=n("gamma",{number:function(e){var t,r;if(iu(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:o(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*s(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,i=n*e,a=i*e,u=a*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*i)-571/(2488320*a)+163879/(209018880*u)+5246819/(75246796800*u*e))}--e,r=ou[0];for(var c=1;c<ou.length;++c)r+=ou[c]/(e+c);return t=e+au+.5,Math.sqrt(2*Math.PI)*Math.pow(t,e+.5)*Math.exp(-t)*r},Complex:function(t){var r,n;if(0===t.im)return s(t.re);t=new e.Complex(t.re-1,t.im),n=new e.Complex(ou[0],0);for(var o=1;o<ou.length;++o){var u=t.re+o,c=u*u+t.im*t.im;0!==c?(n.re+=ou[o]*u/c,n.im+=-ou[o]*t.im/c):n.re=ou[o]<0?-1/0:1/0}r=new e.Complex(t.re+au+.5,t.im);var l=Math.sqrt(2*Math.PI);t.re+=.5;var f=a(r,t);0===f.im?f.re*=l:0===f.re?f.im*=l:(f.re*=l,f.im*=l);var p=Math.exp(-r.re);return r.re=p*Math.cos(-r.im),r.im=p*Math.sin(-r.im),i(i(f,r),n)},BigNumber:function(r){if(r.isInteger())return r.isNegative()||r.isZero()?new e.BigNumber(1/0):function(r){if(r.isZero())return new e.BigNumber(1);for(var n=t.precision+(0|Math.log(r.toNumber())),i=new(e.BigNumber.clone({precision:n}))(r),a=r.toNumber()-1;a>1;)i=i.times(a),a--;return new e.BigNumber(i.toPrecision(e.BigNumber.precision))}(r.minus(1));if(!r.isFinite())return new e.BigNumber(r.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return Rt(e,s)}});return s.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},s}};var uu={name:"factorial",factory:function(e,t,r,n){var i=r(su),a=Kt,o=n("factorial",{number:function(e){if(e<0)throw new Error("Value must be non-negative");return i(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return i(e.plus(1))},"Array | Matrix":function(e){return Rt(e,o)}});return o.toTex={1:"\\left(${args[0]}\\right)".concat(a.operators.factorial)},o}},cu=P.isInteger;function lu(e){return e.isInteger()&&e.gte(0)}var fu={name:"combinations",factory:function(e,t,r,n){var i=n("combinations",{"number, number":function(e,t){var r;if(!cu(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!cu(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");return t<(r=e-t)?nu(r+1,e)/nu(1,t):nu(t+1,e)/nu(1,r)},"BigNumber, BigNumber":function(t,r){var n,i,a,o,s=new e.BigNumber(1);if(!lu(t)||!lu(r))throw new TypeError("Positive integer value expected in function combinations");if(r.gt(t))throw new TypeError("k must be less than n in function combinations");for(n=t.minus(r),r.lt(n)&&(n=r),i=s,a=s,o=t.minus(n);a.lte(o);a=a.plus(1))i=i.times(n.plus(a)).dividedBy(a);return i}});return i.toTex={2:"\\binom{${args[0]}}{${args[1]}}"},i}};var pu={name:"isInteger",factory:function(e,t,r,n){var i=n("isInteger",{number:P.isInteger,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return Rt(e,i)}});return i}};var mu={name:"stirlingS2",factory:function(e,t,r,n){var i=r(Zr),a=r(Sn),o=r(kn),s=r(to),u=r(jn),c=r(uu),l=r(fu),f=r(Jo),p=r(pu),m=r(rn),h=n("stirlingS2",{"number | BigNumber, number | BigNumber":function(e,t){if(!p(e)||f(e)||!p(t)||f(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var r=c(t),n=0,h=0;h<=t;h++){var d=u(-1,a(t,h)),v=l(t,h),g=u(h,e);n=i(n,o(o(v,g),d))}return s(n,r)}});return h.toTex={2:"\\mathrm{S}\\left(${args}\\right)"},h}};var hu=[{name:"bellNumbers",factory:function(e,t,r,n){var i=r(Zr),a=r(mu),o=r(Jo),s=r(pu),u=n("bellNumbers",{"number | BigNumber":function(e){if(!s(e)||o(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,r=0;r<=e;r++)t=i(t,a(e,r));return t}});return u.toTex={1:"\\mathrm{B}_{${args[0]}}"},u}},{name:"composition",factory:function(e,t,r,n){var i=r(fu),a=r(Lr),o=r(cs),s=r(pu),u=r(rn),c=n("composition",{"number | BigNumber, number | BigNumber":function(e,t){if(!(s(e)&&o(e)&&s(t)&&o(t)))throw new TypeError("Positive integer value expected in function composition");if(u(t,e))throw new TypeError("k must be less than or equal to n in function composition");return i(a(e,-1),a(t,-1))}});return c.toTex=void 0,c}},mu,{name:"catalan",factory:function(e,t,r,n){var i=r(Zr),a=r(to),o=r(kn),s=r(fu),u=r(Jo),c=r(pu),l=n("catalan",{"number | BigNumber":function(e){if(!c(e)||u(e))throw new TypeError("Non-negative integer value expected in function catalan");return a(s(o(e,2),e),i(e,1))}});return l.toTex={1:"\\mathrm{C}_{${args[0]}}"},l}}];var du=[{name:"arg",factory:function(e,t,r,n){var i=n("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(t){return e.BigNumber.atan2(0,t)},Complex:function(e){return e.arg()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\arg\\left(${args[0]}\\right)"},i}},mo,{name:"im",factory:function(e,t,r,n){var i=n("im",{number:function(e){return 0},BigNumber:function(t){return new e.BigNumber(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},i}},{name:"re",factory:function(e,t,r,n){var i=n("re",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},i}}];var vu=[{name:"intersect",factory:function(e,t,r,n){var i=r(Fn),a=r(Zr),o=r(Lr),s=r(zr),u=r(kn),c=r(Mn),l=r(An),f=r(Sn),p=r(en),m=r(Or),h=n("intersect",{"Array, Array, Array":function(e,t,r){if(!g(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(e){return 4===e.length&&d(e[0])&&d(e[1])&&d(e[2])&&d(e[3])}(r))throw new TypeError("Array with 4 numbers expected as third argument");return function(e,t,r,n,i,a,s,u,p,m){var h=c(e,s),d=c(n,s),v=c(t,u),g=c(i,u),y=c(r,p),b=c(a,p),x=l(f(f(f(m,h),v),y),f(f(f(o(o(d,g),b),h),v),y)),w=o(e,c(x,f(n,e))),_=o(t,c(x,f(i,t))),N=o(r,c(x,f(a,r)));return[w,_,N]}(e[0],e[1],e[2],t[0],t[1],t[2],r[0],r[1],r[2],r[3])},"Array, Array, Array, Array":function(e,r,n,s){if(2===e.length){if(!v(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!v(r))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!v(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!v(s))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,r,n,s){var m=e,h=n,d=f(m,r),v=f(h,s),g=f(c(d[0],v[1]),c(v[0],d[1]));if(p(i(g),t.epsilon))return null;var y=c(v[0],m[1]),b=c(v[1],m[0]),x=c(v[0],h[1]),w=c(v[1],h[0]),_=l(o(f(f(y,b),x),w),g);return a(u(d,_),m)}(e,r,n,s)}if(3===e.length){if(!g(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(r))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!g(n))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!g(s))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return h=e[0],d=e[1],b=e[2],x=r[0],w=r[1],_=r[2],N=n[0],E=n[1],S=n[2],M=s[0],A=s[1],O=s[2],C=y(h,N,M,N,d,E,A,E,b,S,O,S),P=y(M,N,x,h,A,E,w,d,O,S,_,b),T=y(h,N,x,h,d,E,w,d,b,S,_,b),k=y(M,N,M,N,A,E,A,E,O,S,O,S),R=y(x,h,x,h,w,d,w,d,_,b,_,b),I=l(f(c(C,P),c(T,k)),f(c(R,k),c(P,P))),j=l(o(C,c(I,P)),k),F=o(h,c(I,f(x,h))),D=o(d,c(I,f(w,d))),$=o(b,c(I,f(_,b))),z=o(N,c(j,f(M,N))),L=o(E,c(j,f(A,E))),B=o(S,c(j,f(O,S))),m(F,z)&&m(D,L)&&m($,B)?[F,D,$]:null}throw new TypeError("Arrays with two or thee dimensional points expected");var h,d,b,x,w,_,N,E,S,M,A,O,C,P,T,k,R,I,j,F,D,$,z,L,B},"Matrix, Matrix, Matrix":function(e,t,r){return s(h(e.valueOf(),t.valueOf(),r.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(e,t,r,n){return s(h(e.valueOf(),t.valueOf(),r.valueOf(),n.valueOf()))}});function d(t){return"number"==typeof t||e.isBigNumber(t)}function v(e){return 2===e.length&&d(e[0])&&d(e[1])}function g(e){return 3===e.length&&d(e[0])&&d(e[1])&&d(e[2])}function y(e,t,r,n,i,a,s,u,l,p,m,h){var d=c(f(e,t),f(r,n)),v=c(f(i,a),f(s,u)),g=c(f(l,p),f(m,h));return o(o(d,v),g)}return h}},{name:"distance",factory:function(e,t,r,n){var i=r(Lr),a=r(Sn),o=r(Mn),s=r(An),u=r(_n),c=r(po),l=r(Fn);function f(t){return"number"==typeof t||e.isBigNumber(t)}function p(e){return e.constructor!==Array&&(e=d(e)),f(e[0])&&f(e[1])}function m(e){return e.constructor!==Array&&(e=d(e)),f(e[0])&&f(e[1])&&f(e[2])}function h(e){return e.constructor!==Array&&(e=d(e)),f(e[0])&&f(e[1])&&f(e[2])&&f(e[3])&&f(e[4])&&f(e[5])}function d(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;n++)r.push(e[t[n]]);return r}function v(e,t,r,n,a){var u=l(i(i(o(r,e),o(n,t)),a)),f=c(i(o(r,r),o(n,n)));return s(u,f)}function g(e,t,r,n,u,l,f,p,m){var h=[a(o(a(u,t),m),o(a(l,r),p)),a(o(a(l,r),f),o(a(n,e),m)),a(o(a(n,e),p),o(a(u,t),f))];h=c(i(i(o(h[0],h[0]),o(h[1],h[1])),o(h[2],h[2])));var d=c(i(i(o(f,f),o(p,p)),o(m,m)));return s(h,d)}function y(e,t,r,n){var s=a(n,t),u=a(r,e),l=i(o(s,s),o(u,u));return c(l)}function b(e,t,r,n,s,u){var l=a(u,r),f=a(s,t),p=a(n,e),m=i(i(o(l,l),o(f,f)),o(p,p));return c(m)}return n("distance",{"Array, Array, Array":function(e,t,r){if(2===e.length&&2===t.length&&2===r.length){if(!p(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!p(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!p(r))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var n=s(a(r[1],r[0]),a(t[1],t[0])),i=o(o(n,n),t[0]),c=u(o(n,t[0])),l=e[1];return v(e[0],e[1],i,c,l)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,r){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(r).length){if(!p(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!p(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!p(r))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("lineOnePtX")&&t.hasOwnProperty("lineOnePtY")&&r.hasOwnProperty("lineTwoPtX")&&r.hasOwnProperty("lineTwoPtY")){var n=s(a(r.lineTwoPtY,r.lineTwoPtX),a(t.lineOnePtY,t.lineOnePtX)),i=o(o(n,n),t.lineOnePtX),c=u(o(n,t.lineOnePtX)),l=e.pointX;return v(e.pointX,e.pointY,i,c,l)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2===e.length&&3===t.length){if(!p(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!m(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return v(e[0],e[1],t[0],t[1],t[2])}if(3===e.length&&6===t.length){if(!m(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(2===e.length&&2===t.length){if(!p(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!p(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");return y(e[0],e[1],t[0],t[1])}if(3===e.length&&3===t.length){if(!m(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return b(e[0],e[1],e[2],t[0],t[1],t[2])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!p(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!m(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("xCoeffLine")&&t.hasOwnProperty("yCoeffLine")&&t.hasOwnProperty("constant"))return v(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!m(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("x0")&&t.hasOwnProperty("y0")&&t.hasOwnProperty("z0")&&t.hasOwnProperty("a")&&t.hasOwnProperty("b")&&t.hasOwnProperty("c"))return g(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!p(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!p(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&t.hasOwnProperty("pointTwoX")&&t.hasOwnProperty("pointTwoY"))return y(e.pointOneX,e.pointOneY,t.pointTwoX,t.pointTwoY);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!m(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!m(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointOneZ")&&t.hasOwnProperty("pointTwoX")&&t.hasOwnProperty("pointTwoY")&&t.hasOwnProperty("pointTwoZ"))return b(e.pointOneX,e.pointOneY,e.pointOneZ,t.pointTwoX,t.pointTwoY,t.pointTwoZ);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&f(e[0][0])&&f(e[0][1])){for(var t in e)if(2!==e[t].length||!f(e[t][0])||!f(e[t][1]))return!1}else{if(!(3===e[0].length&&f(e[0][0])&&f(e[0][1])&&f(e[0][2])))return!1;for(var r in e)if(3!==e[r].length||!f(e[r][0])||!f(e[r][1])||!f(e[r][2]))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],r=0;r<e.length-1;r++)for(var n=r+1;n<e.length;n++)2===e[0].length?t.push(y(e[r][0],e[r][1],e[n][0],e[n][1])):3===e[0].length&&t.push(b(e[r][0],e[r][1],e[r][2],e[n][0],e[n][1],e[n][2]));return t}(e)}})}}];var gu={name:"not",factory:function(e,t,r,n){var i=Kt,a=n("not",{number:function(e){return!e},Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return null===e.value||a(e.value)},"Array | Matrix":function(e){return Rt(e,a)}});return a.toTex={1:i.operators.not+"\\left(${args[0]}\\right)"},a}};var yu=[{name:"and",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=r(zn),s=r(gu),u=r(Xo),c=r(ms),l=r(Pn),f=r(Vr),p=r(Wr),m=n("and",{"number, number":function(e,t){return!(!e||!t)},"Complex, Complex":function(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im)},"BigNumber, BigNumber":function(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN())},"Unit, Unit":function(e,t){return m(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,m,!1)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,m,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,m,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,m)},"Array, Array":function(e,t){return m(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return m(a(e),t)},"Matrix, Array":function(e,t){return m(e,a(t))},"SparseMatrix, any":function(e,t){return s(t)?o(e.size(),e.storage()):l(e,t,m,!1)},"DenseMatrix, any":function(e,t){return s(t)?o(e.size(),e.storage()):p(e,t,m,!1)},"any, SparseMatrix":function(e,t){return s(e)?o(e.size(),e.storage()):l(t,e,m,!0)},"any, DenseMatrix":function(e,t){return s(e)?o(e.size(),e.storage()):p(t,e,m,!0)},"Array, any":function(e,t){return m(a(e),t).valueOf()},"any, Array":function(e,t){return m(e,a(t)).valueOf()}});return m.toTex={2:"\\left(${args[0]}".concat(i.operators.and,"${args[1]}\\right)")},m}},gu,{name:"or",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=r(Qr),s=r(Nn),u=r(Yr),c=r(Vr),l=r(Wr),f=n("or",{"number, number":function(e,t){return!(!e&&!t)},"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return f(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,f)},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"SparseMatrix, any":function(e,t){return u(e,t,f,!1)},"DenseMatrix, any":function(e,t){return l(e,t,f,!1)},"any, SparseMatrix":function(e,t){return u(t,e,f,!0)},"any, DenseMatrix":function(e,t){return l(t,e,f,!0)},"Array, any":function(e,t){return l(a(e),t,f,!1).valueOf()},"any, Array":function(e,t){return l(a(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(i.operators.or,"${args[1]}\\right)")},f}},{name:"xor",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=r(Qr),s=r(Kr),u=r(Yr),c=r(Vr),l=r(Wr),f=n("xor",{"number, number":function(e,t){return!!e!=!!t},"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!=(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!=(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return f(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,f)},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"SparseMatrix, any":function(e,t){return u(e,t,f,!1)},"DenseMatrix, any":function(e,t){return l(e,t,f,!1)},"any, SparseMatrix":function(e,t){return u(t,e,f,!0)},"any, DenseMatrix":function(e,t){return l(t,e,f,!0)},"Array, any":function(e,t){return l(a(e),t,f,!1).valueOf()},"any, Array":function(e,t){return l(a(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(i.operators.xor,"${args[1]}\\right)")},f}}],bu=or.size;function xu(e,t,r){var n,i,a;if(t<=0){if(Array.isArray(e[0])){for(a=function(e){var t,r,n=e.length,i=e[0].length,a=[];for(r=0;r<i;r++){var o=[];for(t=0;t<n;t++)o.push(e[t][r]);a.push(o)}return a}(e),i=[],n=0;n<a.length;n++)i[n]=xu(a[n],t-1,r);return i}return r(e)}for(i=[],n=0;n<e.length;n++)i[n]=xu(e[n],t-1,r);return i}var wu={name:"apply",factory:function(e,t,r,n){var i=r(pu),a=n("apply",{"Array | Matrix, number | BigNumber, function":function(e,t,r){if(!i(t))throw new TypeError("Integer number expected for dimension");var n=Array.isArray(e)?bu(e):e.size();if(t<0||t>=n.length)throw new ar(t,n.length);return T(e)?e.create(xu(e.valueOf(),t,r)):xu(e,t,r)}});return a.toTex=void 0,a}},_u=P.nearlyEqual;var Nu={name:"smallerEq",factory:function(e,t,r,n){var i=r(zr),a=r(Qr),o=r(Kr),s=r(Yr),u=r(Vr),c=r(Wr),l=Kt,f=n("smallerEq",{"boolean, boolean":function(e,t){return e<=t},"number, number":function(e,r){return e<=r||_u(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return e.lte(r)||Mr(e,r,t.epsilon)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return f(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,f)},"Array, Array":function(e,t){return f(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return f(i(e),t)},"Matrix, Array":function(e,t){return f(e,i(t))},"SparseMatrix, any":function(e,t){return s(e,t,f,!1)},"DenseMatrix, any":function(e,t){return c(e,t,f,!1)},"any, SparseMatrix":function(e,t){return s(t,e,f,!0)},"any, DenseMatrix":function(e,t){return c(t,e,f,!0)},"Array, any":function(e,t){return c(i(e),t,f,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(l.operators.smallerEq,"${args[1]}\\right)")},f}};var Eu={name:"range",factory:function(e,t,r,n){var i=r(zr),a=r(en),o=r(rn),s=r(Nu),u=r(Po),c=new e.BigNumber(0),l=new e.BigNumber(1),f=n("range",{string:m,"string, boolean":m,"number, number":function(e,t){return p(h(e,t,1))},"number, number, number":function(e,t,r){return p(h(e,t,r))},"number, number, boolean":function(e,t,r){return p(r?d(e,t,1):h(e,t,1))},"number, number, number, boolean":function(e,t,r,n){return p(n?d(e,t,r):h(e,t,r))},"BigNumber, BigNumber":function(e,t){return p(v(e,t,l))},"BigNumber, BigNumber, BigNumber":function(e,t,r){return p(v(e,t,r))},"BigNumber, BigNumber, boolean":function(e,t,r){return p(r?g(e,t,l):v(e,t,l))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,r,n){return p(n?g(e,t,r):v(e,t,r))}});return f.toTex=void 0,f;function p(e){return"Array"===t.matrix?e:i(e)}function m(r,n){var i=function(e){var t=e.split(":").map(function(e){return Number(e)});if(t.some(function(e){return isNaN(e)}))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(r);if(!i)throw new SyntaxError('String "'+r+'" is no valid range');return"BigNumber"===t.number?p((n?g:v)(new e.BigNumber(i.start),new e.BigNumber(i.end),new e.BigNumber(i.step))):p((n?d:h)(i.start,i.end,i.step))}function h(e,t,r){var n=[],i=e;if(r>0)for(;a(i,t);)n.push(i),i+=r;else if(r<0)for(;o(i,t);)n.push(i),i+=r;return n}function d(e,t,r){var n=[],i=e;if(r>0)for(;s(i,t);)n.push(i),i+=r;else if(r<0)for(;u(i,t);)n.push(i),i+=r;return n}function v(e,t,r){var n=[],i=e;if(r.gt(c))for(;a(i,t);)n.push(i),i=i.plus(r);else if(r.lt(c))for(;o(i,t);)n.push(i),i=i.plus(r);return n}function g(e,t,r){var n=[],i=e;if(r.gt(c))for(;s(i,t);)n.push(i),i=i.plus(r);else if(r.lt(c))for(;u(i,t);)n.push(i),i=i.plus(r);return n}}},Su=O.clone,Mu=or.validateIndex;var Au={name:"column",factory:function(e,t,r,n){var i=r(pn),a=r(zr),o=r(Eu),s=n("column",{"Matrix, number":u,"Array, number":function(e,t){return u(a(Su(e)),t).valueOf()}});return s.toTex=void 0,s;function u(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");Mu(t,e.size()[1]);var r=o(0,e.size()[0]),n=new i(r,t);return e.subset(n)}}},Ou=O.clone;function Cu(e,t,r,n){if(n<r){if(e.length!==t.length)throw new nr(e.length,t.length);for(var i=[],a=0;a<e.length;a++)i[a]=Cu(e[a],t[a],r,n+1);return i}return e.concat(t)}var Pu={name:"concat",factory:function(e,t,r,n){var i=r(zr),a=r(pu),o=n("concat",{"...Array | Matrix | number | BigNumber":function(t){var r,n,o=t.length,s=-1,u=!1,c=[];for(r=0;r<o;r++){var l=t[r];if(e.isMatrix(l)&&(u=!0),e.isNumber(l)||e.isBigNumber(l)){if(r!==o-1)throw new Error("Dimension must be specified as last argument");if(n=s,s=l.valueOf(),!a(s))throw new TypeError("Integer number expected for dimension");if(s<0||r>0&&s>n)throw new ar(s,n+1)}else{var f=Ou(l).valueOf(),p=or.size(f);if(c[r]=f,n=s,s=p.length-1,r>0&&s!==n)throw new nr(n+1,s+1)}}if(0===c.length)throw new SyntaxError("At least one matrix expected");for(var m=c.shift();c.length;)m=Cu(m,c.shift(),s,0);return u?i(m):m},"...string":function(e){return e.join("")}});return o.toTex=void 0,o}};var Tu={name:"cross",factory:function(e,t,r,n){var i=r(zr),a=r(Sn),o=r(kn),s=n("cross",{"Matrix, Matrix":function(e,t){return i(u(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return i(u(e.toArray(),t))},"Array, Matrix":function(e,t){return i(u(e,t.toArray()))},"Array, Array":u});return s.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},s;function u(e,t){var r=Math.max(or.size(e).length,or.size(t).length);e=or.squeeze(e),t=or.squeeze(t);var n=or.size(e),i=or.size(t);if(1!==n.length||1!==i.length||3!==n[0]||3!==i[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+n.join(", ")+"], B = ["+i.join(", ")+"])");var s=[a(o(e[1],t[2]),o(e[2],t[1])),a(o(e[2],t[0]),o(e[0],t[2])),a(o(e[0],t[1]),o(e[1],t[0]))];return r>1?[s]:s}}};var ku={name:"ctranspose",factory:function(e,t,r,n){var i=r(wo),a=r(mo),o=Kt,s=n("ctranspose",{any:function(e){return a(i(e))}});return s.toTex={1:"\\left(${args[0]}\\right)".concat(o.operators.ctranspose)},s}},Ru=P.isInteger;var Iu={name:"diag",factory:function(e,t,r,n){var i=r(zr),a=n("diag",{Array:function(e){return o(e,0,or.size(e),null)},"Array, number":function(e,t){return o(e,t,or.size(e),null)},"Array, BigNumber":function(e,t){return o(e,t.toNumber(),or.size(e),null)},"Array, string":function(e,t){return o(e,0,or.size(e),t)},"Array, number, string":function(e,t,r){return o(e,t,or.size(e),r)},"Array, BigNumber, string":function(e,t,r){return o(e,t.toNumber(),or.size(e),r)},Matrix:function(e){return o(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return o(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return o(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return o(e,0,e.size(),t)},"Matrix, number, string":function(e,t,r){return o(e,t,e.size(),r)},"Matrix, BigNumber, string":function(e,t,r){return o(e,t.toNumber(),e.size(),r)}});return a.toTex=void 0,a;function o(t,r,n,a){if(!Ru(r))throw new TypeError("Second parameter in function diag must be an integer");var o=r>0?r:0,s=r<0?-r:0;switch(n.length){case 1:return function(t,r,n,i,a,o){var s=[i+a,i+o],u=e.Matrix.storage(n||"dense").diagonal(s,t,r);return null!==n?u:u.valueOf()}(t,r,a,n[0],s,o);case 2:return function(t,r,n,a,o,s){if(e.isMatrix(t)){var u=t.diagonal(r);return null!==n?n!==u.storage()?i(u,n):u:u.valueOf()}for(var c=Math.min(a[0]-o,a[1]-s),l=[],f=0;f<c;f++)l[f]=t[f+o][f+s];return null!==n?i(l):l}(t,r,a,n,s,o)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}},ju=or.size;var Fu={name:"dot",factory:function(e,t,r,n){var i=r(Zr),a=r(kn),o=n("dot",{"Matrix, Matrix":function(e,t){return s(e.toArray(),t.toArray())},"Matrix, Array":function(e,t){return s(e.toArray(),t)},"Array, Matrix":function(e,t){return s(e,t.toArray())},"Array, Array":s});return o.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},o;function s(e,t){var r=ju(e),n=ju(t),o=r[0];if(1!==r.length||1!==n.length)throw new RangeError("Vector expected");if(r[0]!==n[0])throw new RangeError("Vectors must have equal length ("+r[0]+" != "+n[0]+")");if(0===o)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var s=0,u=0;u<o;u++)s=i(s,a(e[u],t[u]));return s}}};var Du={name:"eye",factory:function(e,t,r,n){return function(){throw new Error('Function "eye" is renamed to "identity" since mathjs version 5.0.0. To keep eye working, create an alias for it using "math.import({eye: math.identity}, {override: true})"')}}},$u=$t.format;var zu={name:"expm",factory:function(e,t,r,n){var i=r(Fn),a=r(Zr),o=r(Cn),s=r(Xa),u=r(kn),c=e.SparseMatrix,l=n("expm",{Matrix:function(t){var r=t.size();if(2!==r.length||r[0]!==r[1])throw new RangeError("Matrix must be square (size: "+$u(r)+")");for(var n=r[0],l=function(e,t){for(var r=0;r<30;r++)for(var n=0;n<=r;n++){var i=r-n;if(f(e,n,i)<t)return{q:n,j:i}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(e){for(var t=e.size()[0],r=0,n=0;n<t;n++){for(var a=0,o=0;o<t;o++)a+=i(e.get([n,o]));r=Math.max(a,r)}return r}(t),1e-15),p=l.q,m=l.j,h=u(t,Math.pow(2,-m)),d=o(n),v=o(n),g=1,y=h,b=-1,x=1;x<=p;x++)x>1&&(y=u(y,h),b=-b),d=a(d,u(g=g*(p-x+1)/((2*p-x+1)*x),y)),v=a(v,u(g*b,y));for(var w=u(s(v),d),_=0;_<m;_++)w=u(w,w);return e.isSparseMatrix(t)?new c(w):w}});function f(e,t,r){for(var n=1,i=2;i<=t;i++)n*=i;for(var a=n,o=t+1;o<=2*t;o++)a*=o;var s=a*(2*t+1);return 8*Math.pow(e/Math.pow(2,r),2*t)*n*n/(a*s)}return l.toTex={1:"\\exp\\left(${args[0]}\\right)"},l}},Lu=or.filter,Bu=or.filterRegExp,qu=cr.maxArgumentCount;function Uu(e,t){var r=qu(t);return Lu(e,function(e,n,i){return 1===r?t(e):2===r?t(e,[n]):t(e,[n],i)})}var Vu={name:"filter",factory:function(e,t,r,n){var i=r(zr),a=n("filter",{"Array, function":Uu,"Matrix, function":function(e,t){return i(Uu(e.toArray(),t))},"Array, RegExp":Bu,"Matrix, RegExp":function(e,t){return i(Bu(e.toArray(),t))}});return a.toTex=void 0,a}},Hu=O.clone,Wu=or.flatten;var Gu={name:"flatten",factory:function(e,t,r,n){var i=r(zr),a=n("flatten",{Array:function(e){return Wu(Hu(e))},Matrix:function(e){var t=Wu(Hu(e.toArray()));return i(t)}});return a.toTex=void 0,a}},Zu=cr.maxArgumentCount,Ju=or.forEach;function Qu(e,t){var r=Zu(t);!function n(i,a){Array.isArray(i)?Ju(i,function(e,t){n(e,a.concat(t))}):1===r?t(i):2===r?t(i,a):t(i,a,e)}(e,[])}var Ku={name:"forEach",factory:function(e,t,r,n){var i=n("forEach",{"Array, function":Qu,"Matrix, function":function(e,t){return e.forEach(t)}});return i.toTex=void 0,i}},Yu=or.size;var Xu={name:"kron",factory:function(e,t,r,n){var i=r(zr),a=r(Mn);return n("kron",{"Matrix, Matrix":function(e,t){return i(o(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return i(o(e.toArray(),t))},"Array, Matrix":function(e,t){return i(o(e,t.toArray()))},"Array, Array":o});function o(e,t){if(1===Yu(e).length&&(e=[e]),1===Yu(t).length&&(t=[t]),Yu(e).length>2||Yu(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(t.length)+")");var r=[],n=[];return e.map(function(e){return t.map(function(t){return n=[],r.push(n),e.map(function(e){return t.map(function(t){return n.push(a(e,t))})})})})&&r}}},ec=cr.maxArgumentCount;function tc(e,t){var r=ec(t);return function n(i,a){return Array.isArray(i)?i.map(function(e,t){return n(e,a.concat(t))}):1===r?t(i):2===r?t(i,a):t(i,a,e)}(e,[])}var rc={name:"map",factory:function(e,t,r,n){var i=n("map",{"Array, function":tc,"Matrix, function":function(e,t){return e.map(t)}});return i.toTex=void 0,i}},nc=P.isInteger,ic=or.resize;var ac={name:"ones",factory:function(e,t,r,n){var i=r(zr),a=n("ones",{"":function(){return"Array"===t.matrix?o([]):o([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var r=e.pop();return o(e,r)}return"Array"===t.matrix?o(e):o(e,"default")},Array:o,Matrix:function(e){var t=e.storage();return o(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return o(e.valueOf(),t)}});return a.toTex=void 0,a;function o(t,r){var n=function(t){var r=!1;return t.forEach(function(t,n,i){e.isBigNumber(t)&&(r=!0,i[n]=t.toNumber())}),r}(t)?new e.BigNumber(1):1;if(function(e){e.forEach(function(e){if("number"!=typeof e||!nc(e)||e<0)throw new Error("Parameters in function ones must be positive integers")})}(t),r){var a=i(r);return t.length>0?a.resize(t,n):a}var o=[];return t.length>0?ic(o,t,n):o}}};var oc={name:"isNaN",factory:function(e,t,r,n){return n("isNaN",{number:function(e){return Number.isNaN(e)},BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return Rt(e,Number.isNaN)}})}},sc=P.nearlyEqual;var uc={name:"compare",factory:function(e,t,r,n){var i=r(zr),a=r(Qr),o=r(Nn),s=r(Yr),u=r(Vr),c=r(Wr),l=n("compare",{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"number, number":function(e,r){return e===r||sc(e,r,t.epsilon)?0:e>r?1:-1},"BigNumber, BigNumber":function(r,n){return r.eq(n)||Mr(r,n,t.epsilon)?new e.BigNumber(0):new e.BigNumber(r.cmp(n))},"Fraction, Fraction":function(t,r){return new e.Fraction(t.compare(r))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return l(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,l)},"Array, Array":function(e,t){return l(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return l(i(e),t)},"Matrix, Array":function(e,t){return l(e,i(t))},"SparseMatrix, any":function(e,t){return s(e,t,l,!1)},"DenseMatrix, any":function(e,t){return c(e,t,l,!1)},"any, SparseMatrix":function(e,t){return s(t,e,l,!0)},"any, DenseMatrix":function(e,t){return c(t,e,l,!0)},"Array, any":function(e,t){return c(i(e),t,l,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,l,!0).valueOf()}});return l.toTex=void 0,l}},cc=P.isInteger;var lc={name:"partitionSelect",factory:function(e,t,r,n){var i=r(Kn),a=r(oc),o=r(uc);function s(e,t){return-o(e,t)}return n("partitionSelect",{"Array | Matrix, number":function(e,t){return u(e,t,o)},"Array | Matrix, number, string":function(e,t,r){if("asc"===r)return u(e,t,o);if("desc"===r)return u(e,t,s);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":u});function u(t,r,n){if(!cc(r)||r<0)throw new Error("k must be a non-negative integer");if(e.isMatrix(t)){if(t.size().length>1)throw new Error("Only one dimensional matrices supported");return c(t.valueOf(),r,n)}if(Array.isArray(t))return c(t,r,n)}function c(e,t,r){if(t>=e.length)throw new Error("k out of bounds");for(var n=0;n<e.length;n++)if(i(e[n])&&a(e[n]))return e[n];for(var o=0,s=e.length-1;o<s;){for(var u=o,c=s,l=e[Math.floor(Math.random()*(s-o+1))+o];u<c;)if(r(e[u],l)>=0){var f=e[c];e[c]=e[u],e[u]=f,--c}else++u;r(e[u],l)>0&&--u,t<=u?s=u:o=u+1}return e[t]}}};var fc={name:"reshape",factory:function(e,t,r,n){var i=r(zr),a=r(pu),o=n("reshape",{"Matrix, Array":function(e,t){return e.reshape?e.reshape(t):i(or.reshape(e.valueOf(),t))},"Array, Array":function(e,t){return t.forEach(function(e){if(!a(e))throw new TypeError("Invalid size for dimension: "+e)}),or.reshape(e,t)}});return o.toTex=void 0,o}},pc=P.isInteger,mc=$t.format,hc=O.clone;var dc={name:"resize",factory:function(e,t,r,n){var i=r(zr),a=function(r,n,a){if(2!==arguments.length&&3!==arguments.length)throw new B("resize",arguments.length,2,3);if(e.isMatrix(n)&&(n=n.valueOf()),e.isBigNumber(n[0])&&(n=n.map(function(t){return e.isBigNumber(t)?t.toNumber():t})),e.isMatrix(r))return r.resize(n,a,!0);if("string"==typeof r)return function(e,t,r){if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";if(1!==t.length)throw new nr(t.length,1);var n=t[0];if("number"!=typeof n||!pc(n))throw new TypeError("Invalid size, must contain positive integers (size: "+mc(t)+")");if(e.length>n)return e.substring(0,n);if(e.length<n){for(var i=e,a=0,o=n-e.length;a<o;a++)i+=r;return i}return e}(r,n,a);var o=!Array.isArray(r)&&"Array"!==t.matrix;if(0===n.length){for(;Array.isArray(r);)r=r[0];return hc(r)}Array.isArray(r)||(r=[r]),r=hc(r);var s=or.resize(r,n,a);return o?i(s):s};return a.toTex=void 0,a}},vc=O.clone,gc=or.validateIndex;var yc={name:"row",factory:function(e,t,r,n){var i=r(pn),a=r(zr),o=r(Eu),s=n("row",{"Matrix, number":u,"Array, number":function(e,t){return u(a(vc(e)),t).valueOf()}});return s.toTex=void 0,s;function u(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");gc(t,e.size()[0]);var r=o(0,e.size()[1]),n=new i(t,r);return e.subset(n)}}};var bc={name:"size",factory:function(e,t,r,n){var i=r(zr),a=n("size",{Matrix:function(e){return i(e.size())},Array:or.size,string:function(e){return"Array"===t.matrix?[e.length]:i([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===t.matrix?[]:i([])}});return a.toTex=void 0,a}},xc=function e(t,r){var n,i,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,c=/^0/,l=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=l(t).replace(o,"")||"",p=l(r).replace(o,"")||"",m=f.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=p.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=parseInt(f.match(u),16)||1!==m.length&&f.match(s)&&Date.parse(f),v=parseInt(p.match(u),16)||d&&p.match(s)&&Date.parse(p)||null;if(v){if(d<v)return-1;if(d>v)return 1}for(var g=0,y=Math.max(m.length,h.length);g<y;g++){if(n=!(m[g]||"").match(c)&&parseFloat(m[g])||m[g]||0,i=!(h[g]||"").match(c)&&parseFloat(h[g])||h[g]||0,isNaN(n)!==isNaN(i))return isNaN(n)?1:-1;if(typeof n!=typeof i&&(n+="",i+=""),n<i)return-1;if(n>i)return 1}return 0};var wc={name:"compareNatural",factory:function(e,t,r,n){var i=r(hr),a=r(uc),o=a.signatures["boolean,boolean"],s=n("compareNatural",{"any, any":function(t,r){var n,c=i(t),l=i(r);if(!("number"!==c&&"BigNumber"!==c&&"Fraction"!==c||"number"!==l&&"BigNumber"!==l&&"Fraction"!==l))return"0"!==(n=a(t,r)).toString()?n>0?1:-1:xc(c,l);if("Array"===c||"Matrix"===c||"Array"===l||"Matrix"===l)return 0!==(n=function t(r,n){return e.isSparseMatrix(r)&&e.isSparseMatrix(n)?u(r.toJSON().values,n.toJSON().values):e.isSparseMatrix(r)?t(r.toArray(),n):e.isSparseMatrix(n)?t(r,n.toArray()):e.isDenseMatrix(r)?t(r.toJSON().data,n):e.isDenseMatrix(n)?t(r,n.toJSON().data):Array.isArray(r)?Array.isArray(n)?u(r,n):t(r,[n]):t([r],n)}(t,r))?n:xc(c,l);if(c!==l)return xc(c,l);if("Complex"===c)return function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0}(t,r);if("Unit"===c)return t.equalBase(r)?s(t.value,r.value):u(t.formatUnits(),r.formatUnits());if("boolean"===c)return o(t,r);if("string"===c)return xc(t,r);if("Object"===c)return function(e,t){var r=Object.keys(e),n=Object.keys(t);r.sort(xc),n.sort(xc);var i=u(r,n);if(0!==i)return i;for(var a=0;a<r.length;a++){var o=s(e[r[a]],t[n[a]]);if(0!==o)return o}return 0}(t,r);if("null"===c)return 0;if("undefined"===c)return 0;throw new TypeError('Unsupported type of value "'+c+'"')}});function u(e,t){for(var r=0,n=Math.min(e.length,t.length);r<n;r++){var i=s(e[r],t[r]);if(0!==i)return i}return e.length>t.length?1:e.length<t.length?-1:0}return s.toTex=void 0,s}},_c=or.size;var Nc={name:"sort",factory:function(e,t,r,n){var i=r(zr),a=r(uc),o=function(e,t){return-a(e,t)},s=r(wc),u=n("sort",{Array:function(e){return l(e),e.sort(a)},Matrix:function(e){return f(e),i(e.toArray().sort(a),e.storage())},"Array, function":function(e,t){return l(e),e.sort(t)},"Matrix, function":function(e,t){return f(e),i(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return l(e),e.sort(c(t))},"Matrix, string":function(e,t){return f(e),i(e.toArray().sort(c(t)),e.storage())}});function c(e){if("asc"===e)return a;if("desc"===e)return o;if("natural"===e)return s;throw new Error('String "asc", "desc", or "natural" expected')}function l(e){if(1!==_c(e).length)throw new Error("One dimensional array expected")}function f(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}return u.toTex=void 0,u}},Ec=function e(t,r){T(t)&&(t=t.valueOf());for(var n=0,i=t.length;n<i;n++){var a=t[n];Array.isArray(a)?e(a,r):r(a)}},Sc=or.size,Mc=function(e,t,r){var n=Array.isArray(e)?Sc(e):e.size();if(t<0||t>=n.length)throw new ar(t,n.length);return T(e)?e.create(Ac(e.valueOf(),t,r)):Ac(e,t,r)};function Ac(e,t,r){var n,i,a,o;if(t<=0){if(Array.isArray(e[0])){for(o=function(e){var t,r,n=e.length,i=e[0].length,a=[];for(r=0;r<i;r++){var o=[];for(t=0;t<n;t++)o.push(e[t][r]);a.push(o)}return a}(e),i=[],n=0;n<o.length;n++)i[n]=Ac(o[n],t-1,r);return i}for(a=e[0],n=1;n<e.length;n++)a=r(a,e[n]);return a}for(i=[],n=0;n<e.length;n++)i[n]=Ac(e[n],t-1,r);return i}var Oc=function(e){return Array.isArray(e)||T(e)},Cc=function(e){for(var t=0;t<e.length;t++)if(Oc(e[t]))return!0;return!1};var Pc={factory:function(e,t,r,n){var i=r(hr);return function(e,t,r){var n;return-1!==String(e).indexOf("Unexpected type")?(n=arguments.length>2?" (type: "+i(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):-1!==String(e).indexOf("complex numbers")?(n=arguments.length>2?" (type: "+i(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):e}}};var Tc={name:"max",factory:function(e,t,r,n){var i=r(rn),a=r(Pc),o=n("max",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(e,t){return Mc(e,t.valueOf(),s)},"...":function(e){if(Cc(e))throw new TypeError("Scalar values expected in function max");return u(e)}});return o.toTex="\\max\\left(${args}\\right)",o;function s(e,t){try{return i(e,t)?e:t}catch(e){throw a(e,"max",t)}}function u(e){var t;if(Ec(e,function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||i(e,t))&&(t=e)}catch(t){throw a(t,"max",e)}}),void 0===t)throw new Error("Cannot calculate max of an empty array");return t}}};var kc={name:"sqrtm",factory:function(e,t,r,n){var i=r(Fn),a=r(Zr),o=r(kn),s=r(po),u=r(Sn),c=r(Xa),l=r(bc),f=r(Tc),p=r(Cn),m=n("sqrtm",{"Array | Matrix":function(t){var r=e.isMatrix(t)?t.size():or.size(t);switch(r.length){case 1:if(1===r[0])return s(t);throw new RangeError("Matrix must be square (size: "+$t.format(r)+")");case 2:if(r[0]===r[1])return v(t);throw new RangeError("Matrix must be square (size: "+$t.format(r)+")")}}}),h=1e3,d=1e-6;function v(e){var t,r=0,n=e,s=p(l(e));do{var m=n;if(n=o(.5,a(m,c(s))),s=o(.5,a(s,c(m))),(t=f(i(u(n,m))))>d&&++r>h)throw new Error("computing square root of matrix: iterative method could not converge")}while(t>d);return n}return m.toTex={1:"{${args[0]}}".concat(Kt.operators.pow,"{\\frac{1}{2}}")},m}};var Rc={name:"squeeze",factory:function(e,t,r,n){var i=r(zr),a=n("squeeze",{Array:function(e){return or.squeeze(O.clone(e))},Matrix:function(e){var t=or.squeeze(e.toArray());return Array.isArray(t)?i(t):t},any:function(e){return O.clone(e)}});return a.toTex=void 0,a}},Ic=O.clone,jc=$t.format;var Fc=[wu,Au,Pu,Tu,ku,Ya,Iu,Fu,Du,zu,Vu,Gu,Ku,Cn,Xa,Xu,rc,ac,lc,Eu,fc,dc,yc,bc,Nc,kc,Rc,ji,{name:"trace",factory:function(e,t,r,n){var i=r(zr),a=r(Zr),o=n("trace",{Array:function(e){return s(i(e))},SparseMatrix:function(e){var t=e._values,r=e._index,n=e._ptr,i=e._size,o=i[0],s=i[1];if(o===s){var u=0;if(t.length>0)for(var c=0;c<s;c++)for(var l=n[c],f=n[c+1],p=l;p<f;p++){var m=r[p];if(m===c){u=a(u,t[p]);break}if(m>c)break}return u}throw new RangeError("Matrix must be square (size: "+jc(i)+")")},DenseMatrix:s,any:Ic});function s(e){var t=e._size,r=e._data;switch(t.length){case 1:if(1===t[0])return Ic(r[0]);throw new RangeError("Matrix must be square (size: "+jc(t)+")");case 2:var n=t[0];if(n===t[1]){for(var i=0,o=0;o<n;o++)i=a(i,r[o][o]);return i}throw new RangeError("Matrix must be square (size: "+jc(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+jc(t)+")")}}return o.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},o}},wo,zn,{name:"getMatrixDataType",factory:function(e,t,r,n){var i=r(dr);return n("getMatrixDataType",{Array:function(e){return i(e)},Matrix:function(e){return e.getDataType()}})}}];var Dc={name:"sum",factory:function(e,t,r,n){var i=r(Lr),a=r(Pc),o=n("sum",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(e,t){try{var r=Mc(e,t,i);return r}catch(e){throw a(e,"sum")}},"...":function(e){if(Cc(e))throw new TypeError("Scalar values expected in function sum");return s(e)}});return o.toTex=void 0,o;function s(r){var n;if(Ec(r,function(e){try{n=void 0===n?e:i(n,e)}catch(t){throw a(t,"sum",e)}}),void 0===n)switch(t.number){case"number":return 0;case"BigNumber":return new e.BigNumber(0);case"Fraction":return new e.Fraction(0);default:return 0}return n}}};var $c={name:"kldivergence",factory:function(e,t,r,n){var i=r(zr),a=r(to),o=r(Dc),s=r(kn),u=r(es),c=r(gs),l=r(Kn);function f(e,t){var r=t.size().length,n=e.size().length;if(r>1)throw new Error("first object must be one dimensional");if(n>1)throw new Error("second object must be one dimensional");if(r!==n)throw new Error("Length of two vectors must be equal");if(0===o(e))throw new Error("Sum of elements in first object must be non zero");if(0===o(t))throw new Error("Sum of elements in second object must be non zero");var i=a(e,o(e)),f=a(t,o(t)),p=o(s(i,c(u(i,f))));return l(p)?p:Number.NaN}return n("kldivergence",{"Array, Array":function(e,t){return f(i(e),i(t))},"Matrix, Array":function(e,t){return f(e,i(t))},"Array, Matrix":function(e,t){return f(i(e),t)},"Matrix, Matrix":function(e,t){return f(e,t)}})}};var zc={name:"multinomial",factory:function(e,t,r,n){var i=r(Zr),a=r(kn),o=r(to),s=r(uu),u=r(pu),c=r(cs);return n("multinomial",{"Array | Matrix":function(e){var t=0,r=1;return Ec(e,function(e){if(!u(e)||!c(e))throw new TypeError("Positive integer value expected in function multinomial");t=i(t,e),r=a(r,s(e))}),o(s(t),r)}})}},Lc=P.isInteger;function Bc(e){return e.isInteger()&&e.gte(0)}var qc={name:"permutations",factory:function(e,t,r,n){var i=r(uu),a=nu,o=n("permutations",{"number | BigNumber":i,"number, number":function(e,t){if(!Lc(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!Lc(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return a(e-t+1,e)},"BigNumber, BigNumber":function(t,r){var n,i;if(!Bc(t)||!Bc(r))throw new TypeError("Positive integer value expected in function permutations");if(r.gt(t))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=new e.BigNumber(1),i=t.minus(r).plus(1);i.lte(t);i=i.plus(1))n=n.times(i);return n}});return o.toTex=void 0,o}},Uc=g(function(e){var t=256,r=[],n=void 0===d?window:d,i=Math.pow(t,6),a=Math.pow(2,52),o=2*a,s=t-1,u=Math.random;function c(e){var r,n=e.length,i=this,a=0,o=i.i=i.j=0,u=i.S=[];for(n||(e=[n++]);a<t;)u[a]=a++;for(a=0;a<t;a++)u[a]=u[o=s&o+e[a%n]+(r=u[a])],u[o]=r;(i.g=function(e){for(var r,n=0,a=i.i,o=i.j,u=i.S;e--;)r=u[a=s&a+1],n=n*t+u[s&(u[a]=u[o=s&o+r])+(u[o]=r)];return i.i=a,i.j=o,n})(t)}function l(e,t){for(var r,n=e+"",i=0;i<n.length;)t[s&i]=s&(r^=19*t[s&i])+n.charCodeAt(i++);return f(t)}function f(e){return String.fromCharCode.apply(0,e)}e.exports=function(s,u){if(u&&!0===u.global)return u.global=!1,Math.random=e.exports(s,u),u.global=!0,Math.random;var p=[],m=(l(function e(t,r){var n,i=[],a=(typeof t)[0];if(r&&"o"==a)for(n in t)try{i.push(e(t[n],r-1))}catch(e){}return i.length?i:"s"==a?t:t+"\0"}(u&&u.entropy||!1?[s,f(r)]:0 in arguments?s:function(e){try{return n.crypto.getRandomValues(e=new Uint8Array(t)),f(e)}catch(e){return[+new Date,n,n.navigator&&n.navigator.plugins,n.screen,f(r)]}}(),3),p),new c(p));return l(f(m.S),r),function(){for(var e=m.g(6),r=i,n=0;e<a;)e=(e+n)*t,r*=t,n=m.g(1);for(;e>=o;)e/=2,r/=2,n>>>=1;return(e+n)/r}},e.exports.resetGlobal=function(){Math.random=u},l(Math.random(),r)}),Vc=(Uc.resetGlobal,Uc());var Hc={factory:function(e,t,r,n,i){var a;function o(e){a=null===e?Vc:Uc(String(e))}return o(t.randomSeed),i.on("config",function(e,t,r){void 0!==r.randomSeed&&o(e.randomSeed)}),function(){return a()}},math:!0},Wc=P.isNumber;var Gc={name:"distribution",factory:function(e,t,r,n,i){var a=r(zr),o=or,s=r(Hc);function u(t){if(!c.hasOwnProperty(t))throw new Error("Unknown distribution "+t);var r=Array.prototype.slice.call(arguments,1);return function(t){function r(t,r,n){var i=void 0===r;if(i&&(r=1),e.isMatrix(t))t=t.valueOf();else if(!Array.isArray(t))throw new TypeError("Unsupported type of value in function pickRandom");if(o.size(t).length>1)throw new Error("Only one dimensional vectors supported");var a=0;if(void 0!==n){if(n.length!==t.length)throw new Error("Weights must have the same length as possibles");for(var u=0,c=n.length;u<c;u++){if(!Wc(n[u])||n[u]<0)throw new Error("Weights must be an array of positive numbers");a+=n[u]}}var l=t.length;if(0===l)return[];if(r>=l)return r>1?t:t[0];for(var f,p=[];p.length<r;){if(void 0===n)f=t[Math.floor(s()*l)];else for(var m=s()*a,h=0,d=t.length;h<d;h++)if((m-=n[h])<0){f=t[h];break}-1===p.indexOf(f)&&p.push(f)}return i?p[0]:p}function i(e,r){return e+t()*(r-e)}function u(e,r){return Math.floor(e+t()*(r-e))}function c(e,t,r,n){var i=[];if((e=e.slice(0)).length>1)for(var a=0,o=e.shift();a<o;a++)i.push(c(e,t,r,n));else for(var s=0,u=e.shift();s<u;s++)i.push(n(t,r));return i}return{random:function(t,r,n){var o,s,u;if(arguments.length>3)throw new B("random",arguments.length,0,3);if(1===arguments.length?Oc(t)?o=t:u=t:2===arguments.length?Oc(t)?(o=t,u=r):(s=t,u=r):(o=t,s=r,u=n),void 0!==s&&!Wc(s)||void 0!==u&&!Wc(u))throw new TypeError("Invalid argument in function random");if(void 0===u&&(u=1),void 0===s&&(s=0),void 0!==o){var l=c(o.valueOf(),s,u,i);return e.isMatrix(o)?a(l):l}return i(s,u)},randomInt:n({"number | Array":function(t){if(Oc(t)){var r=t,n=c(r.valueOf(),0,1,u);return e.isMatrix(r)?a(n):n}return u(0,t)},"number | Array, number":function(t,r){if(Oc(t)){var n=t,i=r,o=c(n.valueOf(),0,i,u);return e.isMatrix(n)?a(o):o}return u(t,r)},"Array, number, number":function(e,t,r){var n=c(e.valueOf(),t,r,u);return e&&!0===e.isMatrix?a(n):n}}),pickRandom:n({Array:function(e){return r(e)},"Array, number | Array":function(e,t){var n,i;if(Array.isArray(t))i=t;else{if(!Wc(t))throw new TypeError("Invalid argument in function pickRandom");n=t}return r(e,n,i)},"Array, number | Array, Array | number":function(e,t,n){var i,a;if(Array.isArray(t)?(a=t,i=n):(a=n,i=t),!Array.isArray(a)||!Wc(i))throw new TypeError("Invalid argument in function pickRandom");return r(e,i,a)}})}}(c[t].apply(this,r))}var c={uniform:function(){return s},normal:function(){return function(){for(var e,t,r=-1;r<0||r>1;)e=s(),t=s(),r=1/6*Math.pow(-2*Math.log(e),.5)*Math.cos(2*Math.PI*t)+.5;return r}}};return u.toTex=void 0,u}};var Zc=[fu,uu,su,$c,zc,qc,{name:"pickRandom",factory:function(e,t,r,n){var i=r(Gc)("uniform").pickRandom;return i.toTex=void 0,i}},{name:"random",factory:function(e,t,r,n){var i=r(Gc)("uniform").random;return i.toTex=void 0,i}},{name:"randomInt",factory:function(e,t,r,n){var i=r(Gc)("uniform").randomInt;return i.toTex=void 0,i}}];var Jc={name:"compareText",factory:function(e,t,r,n){var i=r(zr),a=r(hr),o=r(Vr),s=r(Wr),u=n("compareText",{"any, any":c,"DenseMatrix, DenseMatrix":function(e,t){return o(e,t,c)},"Array, Array":function(e,t){return u(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return u(i(e),t)},"Matrix, Array":function(e,t){return u(e,i(t))},"DenseMatrix, any":function(e,t){return s(e,t,c,!1)},"any, DenseMatrix":function(e,t){return s(t,e,c,!0)},"Array, any":function(e,t){return s(i(e),t,c,!1).valueOf()},"any, Array":function(e,t){return s(i(t),e,c,!0).valueOf()}});function c(t,r){if(!e.isString(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+a(t)+", index: 0)");if(!e.isString(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+a(r)+", index: 1)");return t===r?0:t>r?1:-1}return u.toTex=void 0,u}};var Qc=[uc,wc,Jc,{name:"deepEqual",factory:function(e,t,r,n){var i=r(Qn),a=n("deepEqual",{"any, any":function(e,t){return function e(t,r){if(Array.isArray(t)){if(Array.isArray(r)){var n=t.length;if(n!==r.length)return!1;for(var a=0;a<n;a++)if(!e(t[a],r[a]))return!1;return!0}return!1}return!Array.isArray(r)&&i(t,r)}(e.valueOf(),t.valueOf())}});return a.toTex=void 0,a}},Qn,{name:"equalText",factory:function(e,t,r,n){var i=r(Jc),a=r(Ga),o=n("equalText",{"any, any":function(e,t){return a(i(e,t))}});return o.toTex=void 0,o}},rn,Po,en,Nu,lo],Kc=or.flatten;var Yc={name:"setCartesian",factory:function(e,t,r,n){var i=r(pn),a=r(Sr),o=r(bc),s=r(ji),u=r(wc);return n("setCartesian",{"Array | Matrix, Array | Matrix":function(e,t){var r=[];if(0!==s(o(e),new i(0))&&0!==s(o(t),new i(0))){var n=Kc(Array.isArray(e)?e:e.toArray()).sort(u),c=Kc(Array.isArray(t)?t:t.toArray()).sort(u);r=[];for(var l=0;l<n.length;l++)for(var f=0;f<c.length;f++)r.push([n[l],c[f]])}return Array.isArray(e)&&Array.isArray(t)?r:new a(r)}})}},Xc=or.flatten,el=or.identify,tl=or.generalize;var rl={name:"setDifference",factory:function(e,t,r,n){var i=r(pn),a=r(Sr),o=r(bc),s=r(ji),u=r(wc);return n("setDifference",{"Array | Matrix, Array | Matrix":function(e,t){var r;if(0===s(o(e),new i(0)))r=[];else{if(0===s(o(t),new i(0)))return Xc(e.toArray());var n,c=el(Xc(Array.isArray(e)?e:e.toArray()).sort(u)),l=el(Xc(Array.isArray(t)?t:t.toArray()).sort(u));r=[];for(var f=0;f<c.length;f++){n=!1;for(var p=0;p<l.length;p++)if(0===u(c[f].value,l[p].value)&&c[f].identifier===l[p].identifier){n=!0;break}n||r.push(c[f])}}return Array.isArray(e)&&Array.isArray(t)?tl(r):new a(tl(r))}})}},nl=or.flatten;var il={name:"setDistinct",factory:function(e,t,r,n){var i=r(pn),a=r(Sr),o=r(bc),s=r(ji),u=r(wc);return n("setDistinct",{"Array | Matrix":function(e){var t;if(0===s(o(e),new i(0)))t=[];else{var r=nl(Array.isArray(e)?e:e.toArray()).sort(u);(t=[]).push(r[0]);for(var n=1;n<r.length;n++)0!==u(r[n],r[n-1])&&t.push(r[n])}return Array.isArray(e)?t:new a(t)}})}},al=or.flatten,ol=or.identify,sl=or.generalize;var ul={name:"setIntersect",factory:function(e,t,r,n){var i=r(pn),a=r(Sr),o=r(bc),s=r(ji),u=r(wc);return n("setIntersect",{"Array | Matrix, Array | Matrix":function(e,t){var r;if(0===s(o(e),new i(0))||0===s(o(t),new i(0)))r=[];else{var n=ol(al(Array.isArray(e)?e:e.toArray()).sort(u)),c=ol(al(Array.isArray(t)?t:t.toArray()).sort(u));r=[];for(var l=0;l<n.length;l++)for(var f=0;f<c.length;f++)if(0===u(n[l].value,c[f].value)&&n[l].identifier===c[f].identifier){r.push(n[l]);break}}return Array.isArray(e)&&Array.isArray(t)?sl(r):new a(sl(r))}})}},cl=or.flatten,ll=or.identify;var fl={name:"setIsSubset",factory:function(e,t,r,n){var i=r(pn),a=r(bc),o=r(ji),s=r(wc);return n("setIsSubset",{"Array | Matrix, Array | Matrix":function(e,t){if(0===o(a(e),new i(0)))return!0;if(0===o(a(t),new i(0)))return!1;for(var r,n=ll(cl(Array.isArray(e)?e:e.toArray()).sort(s)),u=ll(cl(Array.isArray(t)?t:t.toArray()).sort(s)),c=0;c<n.length;c++){r=!1;for(var l=0;l<u.length;l++)if(0===s(n[c].value,u[l].value)&&n[c].identifier===u[l].identifier){r=!0;break}if(!1===r)return!1}return!0}})}},pl=or.flatten;var ml={name:"setMultiplicity",factory:function(e,t,r,n){var i=r(wc),a=r(pn),o=r(bc),s=r(ji);return n("setMultiplicity",{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,t){if(0===s(o(t),new a(0)))return 0;for(var r=pl(Array.isArray(t)?t:t.toArray()),n=0,u=0;u<r.length;u++)0===i(r[u],e)&&n++;return n}})}},hl=or.flatten;var dl={name:"setPowerset",factory:function(e,t,r,n){var i=r(pn),a=r(bc),o=r(ji),s=r(wc);return n("setPowerset",{"Array | Matrix":function(e){if(0===o(a(e),new i(0)))return[];for(var t=hl(Array.isArray(e)?e:e.toArray()).sort(s),r=[],n=0;n.toString(2).length<=t.length;)r.push(u(t,n.toString(2).split("").reverse())),n++;return function(e){for(var t=[],r=e.length-1;r>0;r--)for(var n=0;n<r;n++)e[n].length>e[n+1].length&&(t=e[n],e[n]=e[n+1],e[n+1]=t);return e}(r)}});function u(e,t){for(var r=[],n=0;n<t.length;n++)"1"===t[n]&&r.push(e[n]);return r}}},vl=or.flatten;var gl={name:"setSize",factory:function(e,t,r,n){var i=r(wc);return n("setSize",{"Array | Matrix":function(e){return Array.isArray(e)?vl(e).length:vl(e.toArray()).length},"Array | Matrix, boolean":function(e,t){if(!1===t||0===e.length)return Array.isArray(e)?vl(e).length:vl(e.toArray()).length;for(var r=vl(Array.isArray(e)?e:e.toArray()).sort(i),n=1,a=1;a<r.length;a++)0!==i(r[a],r[a-1])&&n++;return n}})}},yl=or.flatten;var bl={name:"setSymDifference",factory:function(e,t,r,n){var i=r(pn),a=r(Pu),o=r(bc),s=r(ji),u=r(rl);return n("setSymDifference",{"Array | Matrix, Array | Matrix":function(e,t){if(0===s(o(e),new i(0)))return yl(t);if(0===s(o(t),new i(0)))return yl(e);var r=yl(e),n=yl(t);return a(u(r,n),u(n,r))}})}},xl=or.flatten;var wl=[Yc,rl,il,ul,fl,ml,dl,gl,bl,{name:"setUnion",factory:function(e,t,r,n){var i=r(pn),a=r(Pu),o=r(bc),s=r(ji),u=r(ul),c=r(bl);return n("setUnion",{"Array | Matrix, Array | Matrix":function(e,t){if(0===s(o(e),new i(0)))return xl(t);if(0===s(o(t),new i(0)))return xl(e);var r=xl(e),n=xl(t);return a(c(r,n),u(r,n))}})}}],_l=P.sign;var Nl=.46875,El=.5641895835477563,Sl=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Ml=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],Al=Math.pow(2,53),Ol=[{name:"erf",factory:function(e,t,r,n){var i=n("erf",{number:function(e){var t=Math.abs(e);return t>=Al?_l(e):t<=Nl?_l(e)*function(e){var t,r=e*e,n=Sl[0][4]*r,i=r;for(t=0;t<3;t+=1)n=(n+Sl[0][t])*r,i=(i+Ml[0][t])*r;return e*(n+Sl[0][3])/(i+Ml[0][3])}(t):t<=4?_l(e)*(1-function(e){var t,r=Sl[1][8]*e,n=e;for(t=0;t<7;t+=1)r=(r+Sl[1][t])*e,n=(n+Ml[1][t])*e;var i=(r+Sl[1][7])/(n+Ml[1][7]),a=parseInt(16*e)/16,o=(e-a)*(e+a);return Math.exp(-a*a)*Math.exp(-o)*i}(t)):_l(e)*(1-function(e){var t,r=1/(e*e),n=Sl[2][5]*r,i=r;for(t=0;t<4;t+=1)n=(n+Sl[2][t])*r,i=(i+Ml[2][t])*r;var a=r*(n+Sl[2][4])/(i+Ml[2][4]);a=(El-a)/e,r=parseInt(16*e)/16;var o=(e-r)*(e+r);return Math.exp(-r*r)*Math.exp(-o)*a}(t))},BigNumber:function(t){return new e.BigNumber(i(t.toNumber()))},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"erf\\left(${args[0]}\\right)"},i}}],Cl=or.flatten;var Pl={name:"median",factory:function(e,t,r,n){var i=r(Lr),a=r(An),o=r(uc),s=r(lc),u=r(Pc),c=n("median",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(Cc(e))throw new TypeError("Scalar values expected in function median");return l(e)}});function l(e){try{var t=(e=Cl(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var r=t/2-1,n=s(e,r+1),i=e[r],a=0;a<r;++a)o(e[a],i)>0&&(i=e[a]);return p(i,n)}var c=s(e,(t-1)/2);return f(c)}catch(e){throw u(e,"median")}}var f=n({"number | BigNumber | Complex | Unit":function(e){return e}}),p=n({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return a(i(e,t),2)}});return c.toTex=void 0,c}},Tl=or.flatten;var kl={name:"mad",factory:function(e,t,r,n){var i=r(Fn),a=r(rc),o=r(Pl),s=r(Sn),u=r(Pc),c=n("mad",{"Array | Matrix":l,"...":function(e){return l(e)}});return c.toTex=void 0,c;function l(e){if(0===(e=Tl(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var t=o(e);return o(a(e,function(e){return i(s(e,t))}))}catch(e){throw e instanceof TypeError&&-1!==e.message.indexOf("median")?new TypeError(e.message.replace("median","mad")):u(e,"mad")}}}},Rl=or.size;var Il={name:"mean",factory:function(e,t,r,n){var i=r(Zr),a=r(to),o=r(Pc),s=n("mean",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(e,t){try{var r=Mc(e,t,i),n=Array.isArray(e)?Rl(e):e.size();return a(r,n[t])}catch(e){throw o(e,"mean")}},"...":function(e){if(Cc(e))throw new TypeError("Scalar values expected in function mean");return u(e)}});return s.toTex=void 0,s;function u(e){var t=0,r=0;if(Ec(e,function(e){try{t=i(t,e),r++}catch(t){throw o(t,"mean",e)}}),0===r)throw new Error("Cannot calculate mean of an empty array");return a(t,r)}}};var jl={name:"min",factory:function(e,t,r,n){var i=r(en),a=r(Pc),o=n("min",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(e,t){return Mc(e,t.valueOf(),s)},"...":function(e){if(Cc(e))throw new TypeError("Scalar values expected in function min");return u(e)}});return o.toTex="\\min\\left(${args}\\right)",o;function s(e,t){try{return i(e,t)?e:t}catch(e){throw a(e,"min",t)}}function u(e){var t;if(Ec(e,function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||i(e,t))&&(t=e)}catch(t){throw a(t,"min",e)}}),void 0===t)throw new Error("Cannot calculate min of an empty array");return t}}},Fl=or.flatten;var Dl={name:"mode",factory:function(e,t,r,n){var i=r(oc),a=r(Kn);return n("mode",{"Array | Matrix":o,"...":function(e){return o(e)}});function o(e){if(0===(e=Fl(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var t={},r=[],n=0,o=0;o<e.length;o++){var s=e[o];if(a(s)&&i(s))throw new Error("Cannot calculate mode of an array containing NaN values");s in t||(t[s]=0),t[s]++,t[s]===n?r.push(s):t[s]>n&&(n=t[s],r=[s])}return r}}};var $l={name:"prod",factory:function(e,t,r,n){var i=r(Mn),a=r(Pc),o=n("prod",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return s(e)}});return o.toTex=void 0,o;function s(e){var t;if(Ec(e,function(e){try{t=void 0===t?e:i(t,e)}catch(t){throw a(t,"prod",e)}}),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}}},zl=P.isInteger,Ll=P.isNumber,Bl=or.flatten;var ql="unbiased";var Ul={name:"var",factory:function(e,t,r,n){var i=r(wu),a=r(Lr),o=r(Sn),s=r(Mn),u=r(An),c=r(oc),l=r(Pc),f=n("variance",{"Array | Matrix":function(e){return p(e,ql)},"Array | Matrix, string":p,"Array | Matrix, number | BigNumber":function(e,t){return m(e,t,ql)},"Array | Matrix, number | BigNumber, string":m,"...":function(e){return p(e,ql)}});return f.toTex="\\mathrm{Var}\\left(${args}\\right)",f;function p(t,r){var n=0,i=0;if(0===t.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(Ec(t,function(e){try{n=a(n,e),i++}catch(t){throw l(t,"var",e)}}),0===i)throw new Error("Cannot calculate var of an empty array");var f=u(n,i);if(n=0,Ec(t,function(e){var t=o(e,f);n=a(n,s(t,t))}),c(n))return n;switch(r){case"uncorrected":return u(n,i);case"biased":return u(n,i+1);case"unbiased":var p=e.isBigNumber(n)?new e.BigNumber(0):0;return 1===i?p:u(n,i-1);default:throw new Error('Unknown normalization "'+r+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function m(e,t,r){try{if(0===e.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");return i(e,t,function(e){return p(e,r)})}catch(e){throw l(e,"var")}}}};var Vl={name:"std",factory:function(e,t,r,n){var i=r(po),a=r(Ul),o=n("std",{"Array | Matrix":s,"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":s,"Array | Matrix, number | BigNumber, string":s,"...":function(e){return s(e)}});return o.toTex=void 0,o;function s(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return i(a.apply(null,arguments))}catch(e){throw e instanceof TypeError&&-1!==e.message.indexOf(" var")?new TypeError(e.message.replace(" var"," std")):e}}}},Hl=[kl,Tc,Il,Pl,jl,Dl,$l,{name:"quantileSeq",factory:function(e,t,r,n){var i=r(Zr),a=r(kn),o=r(lc),s=r(uc);function u(e,t,r){var n=Bl(e),u=n.length;if(0===u)throw new Error("Cannot calculate quantile of an empty sequence");if(Ll(t)){var l=t*(u-1),f=l%1;if(0===f){var p=r?n[l]:o(n,l);return c(p),p}var m,h,d=Math.floor(l);if(r)m=n[d],h=n[d+1];else{h=o(n,d+1),m=n[d];for(var v=0;v<d;++v)s(n[v],m)>0&&(m=n[v])}return c(m),c(h),i(a(m,1-f),a(h,f))}var g=t.times(u-1);if(g.isInteger()){g=g.toNumber();var y=r?n[g]:o(n,g);return c(y),y}var b,x,w=g.floor(),_=g.minus(w),N=w.toNumber();if(r)b=n[N],x=n[N+1];else{x=o(n,N+1),b=n[N];for(var E=0;E<N;++E)s(n[E],b)>0&&(b=n[E])}c(b),c(x);var S=new _.constructor(1);return i(a(b,S.minus(_)),a(x,_))}var c=n({"number | BigNumber | Unit":function(e){return e}});return function(t,r,n){var i,a,o;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(Oc(t)){if("boolean"==typeof(n=n||!1)){if(a=t.valueOf(),Ll(r)){if(r<0)throw new Error("N/prob must be non-negative");if(r<=1)return u(a,r,n);if(r>1){if(!zl(r))throw new Error("N must be a positive integer");var s=r+1;i=new Array(r);for(var c=0;c<r;)i[c]=u(a,++c/s,n);return i}}if(e.isBigNumber(r)){if(r.isNegative())throw new Error("N/prob must be non-negative");if(o=new r.constructor(1),r.lte(o))return new e.BigNumber(u(a,r,n));if(r.gt(o)){if(!r.isInteger())throw new Error("N must be a positive integer");var l=r.toNumber();if(l>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var f=new e.BigNumber(l+1);i=new Array(l);for(var p=0;p<l;)i[p]=new e.BigNumber(u(a,new e.BigNumber(++p).div(f),n));return i}}if(Array.isArray(r)){i=new Array(r.length);for(var m=0;m<i.length;++m){var h=r[m];if(Ll(h)){if(h<0||h>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!e.isBigNumber(h))throw new TypeError("Unexpected type of argument in function quantileSeq");if(o=new h.constructor(1),h.isNegative()||h.gt(o))throw new Error("Probability must be between 0 and 1, inclusive")}i[m]=u(a,h,n)}return i}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}},Vl,Dc,Ul],Wl=$t.isString,Gl=$t.format;function Zl(e,t,r){return e.replace(/\$([\w.]+)/g,function(e,n){for(var i=n.split("."),a=t[i.shift()];i.length&&void 0!==a;){var o=i.shift();a=o?a[o]:a+"."}return void 0!==a?Wl(a)?a:Gl(a,r):e})}var Jl=[Yn,{name:"print",factory:function(e,t,r,n){var i=n("print",{"string, Object | Array":Zl,"string, Object | Array, number | Object":Zl});return i.toTex=void 0,i}}];var Ql={name:"acos",factory:function(e,t,r,n){var i=n("acos",{number:function(r){return r>=-1&&r<=1||t.predictable?Math.acos(r):new e.Complex(r,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},i}};var Kl=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},Yl={name:"acosh",factory:function(e,t,r,n){var i=n("acosh",{number:function(r){return r>=1||t.predictable?Kl(r):r<=-1?new e.Complex(Math.log(Math.sqrt(r*r-1)-r),Math.PI):new e.Complex(r,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},i}};var Xl={name:"acot",factory:function(e,t,r,n){var i=n("acot",{number:function(e){return Math.atan(1/e)},Complex:function(e){return e.acot()},BigNumber:function(t){return new e.BigNumber(1).div(t).atan()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},i}};var ef={name:"acoth",factory:function(e,t,r,n){var i=n("acoth",{number:function(r){return r>=1||r<=-1||t.predictable?isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0:new e.Complex(r,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(t){return new e.BigNumber(1).div(t).atanh()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},i}};var tf={name:"acsc",factory:function(e,t,r,n){var i=n("acsc",{number:function(r){return r<=-1||r>=1||t.predictable?Math.asin(1/r):new e.Complex(r,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(t){return new e.BigNumber(1).div(t).asin()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},i}};var rf={name:"acsch",factory:function(e,t,r,n){var i=n("acsch",{number:function(e){return e=1/e,Math.log(e+Math.sqrt(e*e+1))},Complex:function(e){return e.acsch()},BigNumber:function(t){return new e.BigNumber(1).div(t).asinh()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},i}};var nf={name:"asec",factory:function(e,t,r,n){var i=n("asec",{number:function(r){return r<=-1||r>=1||t.predictable?Math.acos(1/r):new e.Complex(r,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(t){return new e.BigNumber(1).div(t).acos()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},i}};var af={name:"asech",factory:function(e,t,r,n){var i=n("asech",{number:function(r){if(r<=1&&r>=-1||t.predictable){r=1/r;var n=Math.sqrt(r*r-1);return r>0||t.predictable?Math.log(n+r):new e.Complex(Math.log(n-r),Math.PI)}return new e.Complex(r,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(t){return new e.BigNumber(1).div(t).acosh()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},i}};var of={name:"asin",factory:function(e,t,r,n){var i=n("asin",{number:function(r){return r>=-1&&r<=1||t.predictable?Math.asin(r):new e.Complex(r,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},i}};var sf={name:"asinh",factory:function(e,t,r,n){var i=n("asinh",{number:Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},i}};var uf={name:"atan",factory:function(e,t,r,n){var i=n("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},i}};var cf={name:"atan2",factory:function(e,t,r,n){var i=r(zr),a=r(Xo),o=r(Qr),s=r(ts),u=r(Pn),c=r(Yr),l=r(Vr),f=r(Wr),p=n("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(t,r){return e.BigNumber.atan2(t,r)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,p,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,p,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,p)},"Array, Array":function(e,t){return p(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return p(i(e),t)},"Matrix, Array":function(e,t){return p(e,i(t))},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,p,!1)},"DenseMatrix, number | BigNumber":function(e,t){return f(e,t,p,!1)},"number | BigNumber, SparseMatrix":function(e,t){return c(t,e,p,!0)},"number | BigNumber, DenseMatrix":function(e,t){return f(t,e,p,!0)},"Array, number | BigNumber":function(e,t){return f(i(e),t,p,!1).valueOf()},"number | BigNumber, Array":function(e,t){return f(i(t),e,p,!0).valueOf()}});return p.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},p}};var lf=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},ff={name:"atanh",factory:function(e,t,r,n){var i=n("atanh",{number:function(r){return r<=1&&r>=-1||t.predictable?lf(r):new e.Complex(r,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},i}};var pf={name:"cos",factory:function(e,t,r,n){var i=n("cos",{number:Math.cos,Complex:function(e){return e.cos()},BigNumber:function(e){return e.cos()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return i(t.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\cos\\left(${args[0]}\\right)"},i}};var mf=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},hf={name:"cosh",factory:function(e,t,r,n){var i=n("cosh",{number:mf,Complex:function(e){return e.cosh()},BigNumber:function(e){return e.cosh()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return i(t.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\cosh\\left(${args[0]}\\right)"},i}};var df={name:"cot",factory:function(e,t,r,n){var i=n("cot",{number:function(e){return 1/Math.tan(e)},Complex:function(e){return e.cot()},BigNumber:function(t){return new e.BigNumber(1).div(t.tan())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return i(t.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\cot\\left(${args[0]}\\right)"},i}};function vf(e){var t=Math.exp(2*e);return(t+1)/(t-1)}var gf={name:"coth",factory:function(e,t,r,n){var i=n("coth",{number:vf,Complex:function(e){return e.coth()},BigNumber:function(t){return new e.BigNumber(1).div(t.tanh())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return i(t.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\coth\\left(${args[0]}\\right)"},i}};var yf={name:"csc",factory:function(e,t,r,n){var i=n("csc",{number:function(e){return 1/Math.sin(e)},Complex:function(e){return e.csc()},BigNumber:function(t){return new e.BigNumber(1).div(t.sin())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return i(t.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\csc\\left(${args[0]}\\right)"},i}},bf=P.sign;function xf(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*bf(e)}var wf={name:"csch",factory:function(e,t,r,n){var i=n("csch",{number:xf,Complex:function(e){return e.csch()},BigNumber:function(t){return new e.BigNumber(1).div(t.sinh())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return i(t.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},i}};var _f={name:"sec",factory:function(e,t,r,n){var i=n("sec",{number:function(e){return 1/Math.cos(e)},Complex:function(e){return e.sec()},BigNumber:function(t){return new e.BigNumber(1).div(t.cos())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return i(t.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\sec\\left(${args[0]}\\right)"},i}};function Nf(e){return 2/(Math.exp(e)+Math.exp(-e))}var Ef={name:"sech",factory:function(e,t,r,n){var i=n("sech",{number:Nf,Complex:function(e){return e.sech()},BigNumber:function(t){return new e.BigNumber(1).div(t.cosh())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return i(t.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},i}};var Sf={name:"sin",factory:function(e,t,r,n){var i=n("sin",{number:Math.sin,Complex:function(e){return e.sin()},BigNumber:function(e){return e.sin()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return i(t.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\sin\\left(${args[0]}\\right)"},i}};var Mf=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},Af={name:"sinh",factory:function(e,t,r,n){var i=n("sinh",{number:Mf,Complex:function(e){return e.sinh()},BigNumber:function(e){return e.sinh()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return i(t.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\sinh\\left(${args[0]}\\right)"},i}};var Of={name:"tan",factory:function(e,t,r,n){var i=n("tan",{number:Math.tan,Complex:function(e){return e.tan()},BigNumber:function(e){return e.tan()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return i(t.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\tan\\left(${args[0]}\\right)"},i}};var Cf=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};var Pf=function(e,t,r,n){var i=n("isPrime",{number:function(e){if(e<2)return!1;if(2===e)return!0;if(e%2==0)return!1;for(var t=3;t*t<=e;t+=2)if(e%t==0)return!1;return!0},BigNumber:function(t){if(t.lt(2))return!1;if(t.equals(2))return!0;if(t.mod(2).isZero())return!1;for(var r=e.BigNumber(3);r.times(r).lte(t);r=r.plus(1))if(t.mod(r).isZero())return!1;return!0},"Array | Matrix":function(e){return Rt(e,i)}});return i},Tf={name:"isPrime",factory:Pf},kf=[{name:"clone",factory:function(e,t,r,n){var i=n("clone",{any:O.clone});return i.toTex=void 0,i}},pu,Jo,Kn,{name:"hasNumericValue",factory:function(e,t,r,n){var i=r(Kn);return n("hasNumericValue",{string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return i(e)}})}},cs,Tf,Ga,oc,hr],Rf=[Zo,Rs,ru,hu,du,vu,yu,Fc,Zc,Qc,wl,Ol,Hl,Jl,[Ql,Yl,Xl,ef,tf,rf,nf,af,of,sf,uf,cf,ff,pf,hf,df,gf,yf,wf,_f,Ef,Sf,Af,Of,{name:"tanh",factory:function(e,t,r,n){var i=n("tanh",{number:Cf,Complex:function(e){return e.tanh()},BigNumber:function(e){return e.tanh()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return i(t.value)},"Array | Matrix":function(e){return Rt(e,i)}});return i.toTex={1:"\\tanh\\left(${args[0]}\\right)"},i}}],[{name:"to",factory:function(e,t,r,n){var i=Kt,a=r(zr),o=r(Vr),s=r(Wr),u=n("to",{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return o(e,t,u)},"Array, Array":function(e,t){return u(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return u(a(e),t)},"Matrix, Array":function(e,t){return u(e,a(t))},"Matrix, any":function(e,t){return s(e,t,u,!1)},"any, Matrix":function(e,t){return s(t,e,u,!0)},"Array, any":function(e,t){return s(a(e),t,u,!1).valueOf()},"any, Array":function(e,t){return s(a(t),e,u,!0).valueOf()}});return u.toTex={2:"\\left(${args[0]}".concat(i.operators.to,"${args[1]}\\right)")},u}}],kf],If={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},jf={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},Ff={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},Df={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},$f={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},zf={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},Lf={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},Bf={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},qf={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},Uf={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},Vf={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},Hf={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},Wf={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},Gf={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},Zf={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Jf={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},Qf={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},Kf={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},Yf={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},Xf={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},ep={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},tp={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},rp={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},np={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},ip={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},ap={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},op={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},sp={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},up={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},cp={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.eval({x: 3})"],seealso:["simplify","parse","eval"]},lp={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]},fp={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},pp={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},mp={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.eval({x: 2})"],seealso:["derivative","parse","eval"]},hp={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},dp={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},vp={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]},gp={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},yp={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},bp={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},xp={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},wp={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},_p={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},Np={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},Ep={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},Sp={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},Mp={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},Ap={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},Op={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},Cp={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},Pp={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},Tp={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},kp={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},Rp={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},Ip={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},jp={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},Fp={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},Dp={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},$p={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},zp={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},Lp={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},Bp={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},qp={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},Up={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},Vp={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},Hp={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},Wp={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},Gp={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},Zp={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]},Jp={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},Qp={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},Kp={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},Yp={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},Xp={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},em={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},tm={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},rm={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},nm={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},im={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},am={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},om={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},sm={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},um={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},cm={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},lm={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},fm={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},pm={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},mm={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},hm={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},dm={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},vm={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},gm={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},ym={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]},bm={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},xm={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},wm={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},_m={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},Nm={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},Em={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},Sm={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},Mm={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]},Am={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Om={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},Cm={name:"transpose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},Pm={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Tm={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},km={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},Rm={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeof"]},Im={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},jm={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},Fm={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},Dm={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]},$m={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},zm={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},Lm={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},Bm={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},qm={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]},Um={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},Vm={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},Hm={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]},Wm={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]},Gm={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},Zm={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},Jm={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},Qm={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},Km={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},Ym={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},Xm={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},eh={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]},th={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]},rh={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},nh={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},ih={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},ah={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]},oh={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},sh={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},uh={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},ch={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},lh={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},fh={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},ph={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},mh={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},hh={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},dh={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},vh={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},gh={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},yh={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},bh={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},xh={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},wh={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},_h={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},Nh={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},Eh={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},Sh={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},Mh={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},Ah={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},Oh={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},Ch={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},Ph={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},Th={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},kh={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]},Rh={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]},Ih={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var","quantileSeq"]},jh={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]},Fh={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","var"]},Dh={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]},$h={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]},zh={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]},Lh={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]},Bh={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},qh={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},Uh={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},Vh={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},Hh={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},Wh={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},Gh={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},Zh={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},Jh={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},Qh={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},Kh={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},Yh={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},Xh={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},ed={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},td={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},rd={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},nd={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},id={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},ad={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},od={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sd={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},ud={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},cd={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},ld={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},fd={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},pd={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},md={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},hd={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},dd={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},vd={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},gd={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},yd={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},bd={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},xd={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},wd={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},_d={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},Nd={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},Ed={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:["getMatrixDataType"]};var Sd={name:"docs",path:"expression",factory:function(e,t,r,n){var i={};return i.bignumber=If,i.boolean=jf,i.complex=Ff,i.createUnit=Df,i.fraction=$f,i.index=zf,i.matrix=Lf,i.number=Bf,i.sparse=qf,i.splitUnit=Uf,i.string=Vf,i.unit=Hf,i.e=Wf,i.E=Wf,i.false=Gf,i.i=Zf,i[1/0]=Jf,i.LN2=Qf,i.LN10=Kf,i.LOG2E=Yf,i.LOG10E=Xf,i.NaN=ep,i.null=tp,i.pi=rp,i.PI=rp,i.phi=np,i.SQRT1_2=ip,i.SQRT2=ap,i.tau=op,i.true=sp,i.version=up,i.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},i.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},i.planckConstant={description:"Planck constant",examples:["planckConstant"]},i.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},i.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},i.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},i.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},i.coulomb={description:"Coulomb's constant",examples:["coulomb"]},i.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},i.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},i.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},i.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},i.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},i.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},i.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},i.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},i.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},i.electronMass={description:"Electron mass",examples:["electronMass"]},i.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},i.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},i.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},i.protonMass={description:"Proton mass",examples:["protonMass"]},i.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},i.neutronMass={description:"Neutron mass",examples:["neutronMass"]},i.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},i.rydberg={description:"Rydberg constant",examples:["rydberg"]},i.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},i.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},i.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},i.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},i.avogadro={description:"Avogadro's number",examples:["avogadro"]},i.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},i.faraday={description:"Faraday constant",examples:["faraday"]},i.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},i.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},i.gasConstant={description:"Gas constant",examples:["gasConstant"]},i.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},i.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},i.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},i.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},i.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},i.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},i.molarMass={description:"Molar mass constant",examples:["molarMass"]},i.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},i.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},i.planckLength={description:"Planck length",examples:["planckLength"]},i.planckMass={description:"Planck mass",examples:["planckMass"]},i.planckTime={description:"Planck time",examples:["planckTime"]},i.planckCharge={description:"Planck charge",examples:["planckCharge"]},i.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},i.derivative=cp,i.lsolve=lp,i.lup=fp,i.lusolve=pp,i.simplify=mp,i.rationalize=hp,i.slu=dp,i.usolve=vp,i.qr=gp,i.abs=yp,i.add=bp,i.cbrt=xp,i.ceil=wp,i.cube=_p,i.divide=Np,i.dotDivide=Ep,i.dotMultiply=Sp,i.dotPow=Mp,i.exp=Ap,i.expm=Op,i.expm1=Cp,i.fix=Pp,i.floor=Tp,i.gcd=kp,i.hypot=Rp,i.lcm=Ip,i.log=jp,i.log2=Fp,i.log1p=Dp,i.log10=$p,i.mod=zp,i.multiply=Lp,i.norm=Bp,i.nthRoot=qp,i.nthRoots=Up,i.pow=Vp,i.round=Hp,i.sign=Wp,i.sqrt=Gp,i.sqrtm=Zp,i.square=Jp,i.subtract=Qp,i.unaryMinus=Kp,i.unaryPlus=Yp,i.xgcd=Xp,i.bitAnd=em,i.bitNot=tm,i.bitOr=rm,i.bitXor=nm,i.leftShift=im,i.rightArithShift=am,i.rightLogShift=om,i.bellNumbers=sm,i.catalan=um,i.composition=cm,i.stirlingS2=lm,i.config=fm,i.import=pm,i.typed=mm,i.arg=hm,i.conj=dm,i.re=vm,i.im=gm,i.eval=ym,i.help=bm,i.distance=xm,i.intersect=wm,i.and=_m,i.not=Nm,i.or=Em,i.xor=Sm,i.column=Mm,i.concat=Am,i.cross=Om,i.ctranspose=Cm,i.det=Pm,i.diag=Tm,i.dot=km,i.getMatrixDataType=Rm,i.identity=Im,i.filter=jm,i.flatten=Fm,i.forEach=Dm,i.inv=$m,i.kron=zm,i.map=Lm,i.ones=Bm,i.partitionSelect=qm,i.range=Um,i.resize=Vm,i.reshape=Hm,i.row=Wm,i.size=Gm,i.sort=Zm,i.squeeze=Jm,i.subset=Qm,i.trace=Km,i.transpose=Ym,i.zeros=Xm,i.combinations=eh,i.factorial=th,i.gamma=rh,i.kldivergence=nh,i.multinomial=ih,i.permutations=ah,i.pickRandom=oh,i.random=sh,i.randomInt=uh,i.compare=ch,i.compareNatural=lh,i.compareText=fh,i.deepEqual=ph,i.equal=mh,i.equalText=hh,i.larger=dh,i.largerEq=vh,i.smaller=gh,i.smallerEq=yh,i.unequal=bh,i.setCartesian=xh,i.setDifference=wh,i.setDistinct=_h,i.setIntersect=Nh,i.setIsSubset=Eh,i.setMultiplicity=Sh,i.setPowerset=Mh,i.setSize=Ah,i.setSymDifference=Oh,i.setUnion=Ch,i.erf=Ph,i.mad=Th,i.max=kh,i.mean=Rh,i.median=Ih,i.min=jh,i.mode=Fh,i.prod=Dh,i.quantileSeq=$h,i.std=zh,i.sum=Lh,i.var=Bh,i.acos=qh,i.acosh=Uh,i.acot=Vh,i.acoth=Hh,i.acsc=Wh,i.acsch=Gh,i.asec=Zh,i.asech=Jh,i.asin=Qh,i.asinh=Kh,i.atan=Yh,i.atanh=Xh,i.atan2=ed,i.cos=td,i.cosh=rd,i.cot=nd,i.coth=id,i.csc=ad,i.csch=od,i.sec=sd,i.sech=ud,i.sin=cd,i.sinh=ld,i.tan=fd,i.tanh=pd,i.to=md,i.clone=hd,i.format=dd,i.isNaN=vd,i.isInteger=gd,i.isNegative=yd,i.isNumeric=bd,i.hasNumericValue=xd,i.isPositive=wd,i.isPrime=_d,i.isZero=Nd,i.typeof=Ed,i}};var Md={name:"compile",factory:function(e,t,r,n){var i=r(Va);return n("compile",{string:function(e){return i(e).compile()},"Array | Matrix":function(e){return Rt(e,function(e){return i(e).compile()})}})}};var Ad={name:"eval",factory:function(e,t,r,n){var i=r(Va);return n("compile",{string:function(e){return i(e).compile().eval({})},"string, Object":function(e,t){return i(e).compile().eval(t)},"Array | Matrix":function(e){var t={};return Rt(e,function(e){return i(e).compile().eval(t)})},"Array | Matrix, Object":function(e,t){return Rt(e,function(e){return i(e).compile().eval(t)})}})}},Od=_i.getSafeProperty;var Cd={math:!0,name:"help",factory:function(e,t,r,n,i){var a=r(Sd);return n("help",{any:function(t){var r,n=t;if("string"!=typeof t)for(r in i)if(i.hasOwnProperty(r)&&t===i[r]){n=r;break}var o=Od(a,n);if(!o)throw new Error('No documentation found on "'+n+'"');return new e.Help(o)}})}},Pd=O.extend;var Td={name:"Parser",path:"expression",factory:function(e,t,r,n,i){var a=r(Va);function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return o.prototype.type="Parser",o.prototype.isParser=!0,o.prototype.parse=function(e){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},o.prototype.compile=function(e){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},o.prototype.eval=function(e){return a(e).compile().eval(this.scope)},o.prototype.get=function(e){return e in this.scope?_i.getSafeProperty(this.scope,e):void 0},o.prototype.getAll=function(){return Pd({},this.scope)},o.prototype.set=function(e,t){return _i.setSafeProperty(this.scope,e,t)},o.prototype.remove=function(e){delete this.scope[e]},o.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&&delete this.scope[e]},o},math:!0};var kd={name:"parser",factory:function(e,t,r,n,i){var a=r(Td);return n("parser",{"":function(){return new a(i)}})},math:!0},Rd=[Md,Ad,Cd,so,kd];var Id=[Bi,Ui,Xi,ra,na,oa,ha,fa,za,Ai,xa,Sa,Ma,La,qa,Pa,{name:"UpdateNode",path:"expression.node",factory:function(e,t,r,n){return function(){throw new Error("UpdateNode is deprecated. Use AssignmentNode instead.")}}}],jd=Oi;var Fd={name:"apply",path:"expression.transform",factory:function(e,t,r,n){var i=r(wu);return n("apply",{"...any":function(t){var r=t[1];e.isNumber(r)?t[1]=r-1:e.isBigNumber(r)&&(t[1]=r.minus(1));try{return i.apply(null,t)}catch(e){throw jd(e)}}})}},Dd=Oi;var $d={name:"column",path:"expression.transform",factory:function(e,t,r,n){var i=r(Au);return n("column",{"...any":function(t){var r=t.length-1,n=t[r];e.isNumber(n)&&(t[r]=n-1);try{return i.apply(null,t)}catch(e){throw Dd(e)}}})}},zd=Oi;var Ld={name:"concat",path:"expression.transform",factory:function(e,t,r,n){var i=r(Pu);return n("concat",{"...any":function(t){var r=t.length-1,n=t[r];e.isNumber(n)?t[r]=n-1:e.isBigNumber(n)&&(t[r]=n.minus(1));try{return i.apply(null,t)}catch(e){throw zd(e)}}})}};var Bd={factory:function(e,t,r,n){return function(t,r,n){var i=t.filter(function(t){return e.isSymbolNode(t)&&!(t.name in r)&&!(t.name in n)})[0];if(!i)throw new Error('No undefined variable found in inline expression "'+t+'"');var a=i.name,o=Object.create(n),s=t.compile();return function(e){return o[a]=e,s.eval(o)}}}},qd=or.filter,Ud=or.filterRegExp,Vd=cr.maxArgumentCount;function Hd(e,t){var r=Vd(t);return qd(e,function(e,n,i){return 1===r?t(e):2===r?t(e,[n+1]):t(e,[n+1],i)})}var Wd={name:"filter",path:"expression.transform",factory:function(e,t,r,n){var i=r(Bd),a=r(zr);function o(t,r,n){var a,o;return t[0]&&(a=t[0].compile().eval(n)),t[1]&&(o=e.isSymbolNode(t[1])||e.isFunctionAssignmentNode(t[1])?t[1].compile().eval(n):i(t[1],r,n)),s(a,o)}o.rawArgs=!0;var s=n("filter",{"Array, function":Hd,"Matrix, function":function(e,t){return a(Hd(e.toArray(),t))},"Array, RegExp":Ud,"Matrix, RegExp":function(e,t){return a(Ud(e.toArray(),t))}});return s.toTex=void 0,o}},Gd=cr.maxArgumentCount,Zd=or.forEach;var Jd={name:"forEach",path:"expression.transform",factory:function(e,t,r,n){var i=r(Bd);function a(t,r,n){var a,s;return t[0]&&(a=t[0].compile().eval(n)),t[1]&&(s=e.isSymbolNode(t[1])||e.isFunctionAssignmentNode(t[1])?t[1].compile().eval(n):i(t[1],r,n)),o(a,s)}a.rawArgs=!0;var o=n("forEach",{"Array | Matrix, function":function(e,t){var r=Gd(t);!function n(i,a){Array.isArray(i)?Zd(i,function(e,t){n(e,a.concat(t+1))}):1===r?t(i):2===r?t(i,a):t(i,a,e)}(e.valueOf(),[])}});return a}};var Qd={name:"index",path:"expression.transform",factory:function(e,t,r){return function(){for(var t=[],r=0,n=arguments.length;r<n;r++){var i=arguments[r];if(e.isRange(i))i.start--,i.end-=i.step>0?0:2;else if(i&&!0===i.isSet)i=i.map(function(e){return e-1});else if(e.isArray(i)||e.isMatrix(i))i=i.map(function(e){return e-1});else if(e.isNumber(i))i--;else if(e.isBigNumber(i))i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");t[r]=i}var a=new e.Index;return e.Index.apply(a,t),a}}},Kd=cr.maxArgumentCount,Yd=or.map;function Xd(e,t,r){var n=Kd(t);return function e(i,a){return Array.isArray(i)?Yd(i,function(t,r){return e(t,a.concat(r+1))}):1===n?t(i):2===n?t(i,a):t(i,a,r)}(e,[])}var ev=function(e,t,r,n){var i=r(Bd),a=r(zr);function o(t,r,n){var a,o;return t[0]&&(a=t[0].compile().eval(n)),t[1]&&(o=e.isSymbolNode(t[1])||e.isFunctionAssignmentNode(t[1])?t[1].compile().eval(n):i(t[1],r,n)),s(a,o)}o.rawArgs=!0;var s=n("map",{"Array, function":function(e,t){return Xd(e,t,e)},"Matrix, function":function(e,t){return a(Xd(e.valueOf(),t,e))}});return o},tv=Oi;var rv=function(e,t,r,n){var i=r(Tc);return n("max",{"...any":function(t){if(2===t.length&&Oc(t[0])){var r=t[1];e.isNumber(r)?t[1]=r-1:e.isBigNumber(r)&&(t[1]=r.minus(1))}try{return i.apply(null,t)}catch(e){throw tv(e)}}})},nv=Oi;var iv=function(e,t,r,n){var i=r(Il);return n("mean",{"...any":function(t){if(2===t.length&&Oc(t[0])){var r=t[1];e.isNumber(r)?t[1]=r-1:e.isBigNumber(r)&&(t[1]=r.minus(1))}try{return i.apply(null,t)}catch(e){throw nv(e)}}})},av=Oi;var ov=function(e,t,r,n){var i=r(jl);return n("min",{"...any":function(t){if(2===t.length&&Oc(t[0])){var r=t[1];e.isNumber(r)?t[1]=r-1:e.isBigNumber(r)&&(t[1]=r.minus(1))}try{return i.apply(null,t)}catch(e){throw av(e)}}})};var sv=Oi;var uv=function(e,t,r,n){var i=r(Vl);return n("std",{"...any":function(t){if(t.length>=2&&Oc(t[0])){var r=t[1];e.isNumber(r)?t[1]=r-1:e.isBigNumber(r)&&(t[1]=r.minus(1))}try{return i.apply(null,t)}catch(e){throw sv(e)}}})},cv=Oi;var lv=function(e,t,r,n){var i=r(yc);return n("row",{"...any":function(t){var r=t.length-1,n=t[r];e.isNumber(n)&&(t[r]=n-1);try{return i.apply(null,t)}catch(e){throw cv(e)}}})},fv=Oi;var pv=Oi;var mv=function(e,t,r,n){var i=r(Dc);return n("sum",{"...any":function(t){if(2===t.length&&Oc(t[0])){var r=t[1];e.isNumber(r)?t[1]=r-1:e.isBigNumber(r)&&(t[1]=r.minus(1))}try{return i.apply(null,t)}catch(e){throw pv(e)}}})},hv=Oi;var dv=function(e,t,r,n){var i=r(Ul);return n("var",{"...any":function(t){if(t.length>=2&&Oc(t[0])){var r=t[1];e.isNumber(r)?t[1]=r-1:e.isBigNumber(r)&&(t[1]=r.minus(1))}try{return i.apply(null,t)}catch(e){throw hv(e)}}})};var vv=function(e,t,r,n){var i=r(kd)();function a(e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return a.prototype.type="Help",a.prototype.isHelp=!0,a.prototype.toString=function(){var t=this.doc||{},r="\n";if(t.name&&(r+="Name: "+t.name+"\n\n"),t.category&&(r+="Category: "+t.category+"\n\n"),t.description&&(r+="Description:\n    "+t.description+"\n\n"),t.syntax&&(r+="Syntax:\n    "+t.syntax.join("\n    ")+"\n\n"),t.examples){r+="Examples:\n";for(var n=0;n<t.examples.length;n++){var a=t.examples[n];r+="    "+a+"\n";var o=void 0;try{o=i.eval(a)}catch(e){o=e}void 0===o||e.isHelp(o)||(r+="        "+$t.format(o,{precision:14})+"\n")}r+="\n"}return t.seealso&&t.seealso.length&&(r+="See also: "+t.seealso.join(", ")+"\n"),r},a.prototype.toJSON=function(){var e=O.clone(this.doc);return e.mathjs="Help",e},a.fromJSON=function(e){var t={};for(var r in e)"mathjs"!==r&&(t[r]=e[r]);return new a(t)},a.prototype.valueOf=a.prototype.toString,a};var gv=[li,hi,Rf,[Sd,Rd,Id,[Fd,$d,Ld,Wd,Jd,Qd,{name:"map",path:"expression.transform",factory:ev},{name:"max",path:"expression.transform",factory:rv},{name:"mean",path:"expression.transform",factory:iv},{name:"min",path:"expression.transform",factory:ov},{name:"range",path:"expression.transform",factory:function(e,t,r,n){var i=r(Eu);return n("range",{"...any":function(e){return"boolean"!=typeof e[e.length-1]&&e.push(!0),i.apply(null,e)}})}},{name:"std",path:"expression.transform",factory:uv},{name:"row",path:"expression.transform",factory:lv},{name:"subset",path:"expression.transform",factory:function(e,t,r,n){var i=r(ji);return n("subset",{"...any":function(e){try{return i.apply(null,e)}catch(e){throw fv(e)}}})}},{name:"sum",path:"expression.transform",factory:mv},{name:"var",path:"expression.transform",factory:dv}],{name:"Help",path:"type",factory:vv},Va,Td],[{name:"reviver",path:"json",factory:function(e,t,r,n,i){return function(t,r){var n=e[r&&r.mathjs]||i.expression&&i.expression.node[r&&r.mathjs];return n&&"function"==typeof n.fromJSON?n.fromJSON(r):r}},math:!0}],[{name:"ArgumentsError",path:"error",factory:function(){return B}},{name:"DimensionError",path:"error",factory:function(){return nr}},{name:"IndexError",path:"error",factory:function(){return ar}}]];var yv=function e(t){var r=Y.create(t);return r.create=e,r.import(gv),r}().parse;function bv(e){return"$"+e}function xv(e){return b.fromPairs(e.map(function(e){return[e,bv(e)]}))}function wv(e,t){var r,n;void 0===t&&(t="and");return x(e)&&"or"!==t?function(e){var t,r,n,i,a,o,s={},c=[],l={};try{for(var f=p(e.$and),m=f.next();!m.done;m=f.next()){var h=m.value;for(var d in h)l[d]=l.hasOwnProperty(d)?l[d]+1:1}}catch(e){t={error:e}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}try{for(var v=p(e.$and),g=v.next();!g.done;g=v.next())for(var d in h=g.value)l[d]>1&&"$or"!==d?c.push(((a={})[d]=h[d],a)):s=u({},s,((o={})[d]=h[d],o))}catch(e){n={error:e}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}return c.length>0&&(s=u({},s,{$and:c})),s}({$and:e.and.map(function(e){return wv(e,"and")})}):x(e)?{$and:e.and.map(function(e){return wv(e,"and")})}:w(e)?{$or:e.or.map(function(e){return wv(e,"or")})}:((r={})[e.column]=((n={})[{eq:"$eq",ne:"$ne",lt:"$lt",le:"$lte",gt:"$gt",ge:"$gte",in:"$in",nin:"$nin"}[e.operator]]=e.value,n),r)}function _v(e){var t,r={};return r.$group={_id:e.groups?xv(e.groups):null,_vqbAppArray:{$push:"$$ROOT"},_vqbAppValueToCompare:(t={},t[{argmax:"$max",argmin:"$min"}[e.name]]=bv(e.column),t)},[r,{$unwind:"$_vqbAppArray"},{$replaceRoot:{newRoot:{$mergeObjects:["$_vqbAppArray","$$ROOT"]}}},{$project:{_vqbAppArray:0}},{$redact:{$cond:[{$eq:[bv(e.column),"$_vqbAppValueToCompare"]},"$$KEEP","$$PRUNE"]}},{$project:{_vqbAppValueToCompare:0}}]}function Nv(e){var t;switch(e.type){case"OperatorNode":return 1===e.args.length?{$multiply:["+"===e.op?1:-1,Nv(e.args[0])]}:((t={})[function(e){var t={"+":"$add","-":"$subtract","*":"$multiply","/":"$divide"};if(void 0===t[e])throw new Error("Unsupported operator "+e);return t[e]}(e.op)]=e.args.map(Nv),t);case"SymbolNode":return bv(e.name);case"ConstantNode":return e.value;case"ParenthesisNode":return Nv(e.content)}}function Ev(e){var t,r;if(!e.length)return[];var n=!0,i=[],a=e[0];i.push(a);try{for(var o=p(e.slice(1)),s=o.next();!s.done;s=o.next()){var c=s.value,l=m(Object.keys(c),1)[0];if(("$project"===l||"$addFields"===l||"$match"===l)&&void 0!==a[l]){var f=function(e){if("$project"===l){var t=Boolean(c.$project[e]);n=Object.values(a.$project).every(function(e){return Boolean(e)===t})}if(a[l].hasOwnProperty(e))return n=!1,"break";if("$match"!==l){var r=JSON.stringify(c[l][e]);for(var i in a[l]){if(new RegExp(".*['\"]\\$"+i+"['\"].*").test(r)){n=!1;break}}}};for(var h in c[l]){if("break"===f(h))break}if(n){a[l]=u({},a[l],c[l]);continue}}a=c,i.push(a),n=!0}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}var Sv={aggregate:function(e){var t,r,n,i,a,o,s,u=xv(e.on),c={},l={};c._id=u;try{for(var f=p(e.aggregations),m=f.next();!m.done;m=f.next()){var h=m.value;"count"===h.aggfunction?c[h.newcolumn]={$sum:1}:c[h.newcolumn]=((n={})[bv(h.aggfunction)]=bv(h.column),n)}}catch(e){t={error:e}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}try{for(var d=p(Object.keys(c)),v=d.next();!v.done;v=d.next()){var g=v.value;if("_id"===g)try{for(var y=(o=void 0,p(Object.keys(c[g]))),b=y.next();!b.done;b=y.next()){var x=b.value;l[x]="$_id."+x}}catch(e){o={error:e}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}else l[g]=1}}catch(e){i={error:e}}finally{try{v&&!v.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return[{$group:c},{$project:l}]},argmax:_v,argmin:_v,concatenate:function(e){var t,r,n,i=[bv(e.columns[0])];try{for(var a=p(e.columns.slice(1)),o=a.next();!o.done;o=a.next()){var s=o.value;i.push(e.separator,bv(s))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return{$addFields:(n={},n[e.new_column_name]={$concat:i},n)}},custom:function(e){return e.query},delete:function(e){return{$project:b.fromPairs(e.columns.map(function(e){return[e,0]}))}},domain:function(e){return{$match:{domain:e.domain}}},duplicate:function(e){var t;return{$addFields:(t={},t[e.new_column_name]=bv(e.column),t)}},fillna:function(e){var t;return{$addFields:(t={},t[e.column]={$ifNull:[bv(e.column),e.value]},t)}},filter:function(e){return{$match:wv(e.condition)}},formula:function(e){var t;return{$addFields:(t={},t[e.new_column]=Nv(yv(e.formula)),t)}},fromdate:function(e){var t;return{$addFields:(t={},t[e.column]={$dateToString:{date:bv(e.column),format:""+e.format}},t)}},lowercase:function(e){var t;return{$addFields:(t={},t[e.column]={$toLower:bv(e.column)},t)}},percentage:function(e){var t;return[{$group:{_id:e.group?xv(e.group):null,_vqbAppArray:{$push:"$$ROOT"},_vqbTotalDenum:{$sum:bv(e.column)}}},{$unwind:"$_vqbAppArray"},{$project:(t={},t[e.column]={$cond:[{$eq:["$_vqbTotalDenum",0]},null,{$divide:["$_vqbAppArray."+e.column,"$_vqbTotalDenum"]}]},t._vqbAppArray=1,t)},{$replaceRoot:{newRoot:{$mergeObjects:["$_vqbAppArray","$$ROOT"]}}},{$project:{_vqbAppArray:0}}]},pivot:function(e){var t,r,n,i,a,o,s={},c={};try{for(var l=p(e.index),f=l.next();!f.done;f=l.next()){var m=f.value;s[m]="$_id."+m,c["_vqbAppTmpObj."+m]="$_id."+m}}catch(e){t={error:e}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return[{$group:(n={_id:u({},xv(e.index),(i={},i[e.column_to_pivot]=bv(e.column_to_pivot),i))},n[e.value_column]=(a={},a[bv(e.agg_function)]=bv(e.value_column),a),n)},{$group:{_id:s,_vqbAppArray:{$addToSet:(o={},o[e.column_to_pivot]="$_id."+e.column_to_pivot,o[e.value_column]=bv(e.value_column),o)}}},{$project:{_vqbAppTmpObj:{$arrayToObject:{$zip:{inputs:["$_vqbAppArray."+e.column_to_pivot,"$_vqbAppArray."+e.value_column]}}}}},{$addFields:c},{$replaceRoot:{newRoot:"$_vqbAppTmpObj"}}]},rename:function(e){var t,r;return[{$addFields:(t={},t[e.newname]=bv(e.oldname),t)},{$project:(r={},r[e.oldname]=0,r)}]},replace:function(e){var t,r=e.to_replace.map(function(t){var r=m(t,2),n=r[0],i=r[1];return{case:{$eq:[bv(e.search_column),n]},then:i}});return{$addFields:(t={},t[e.search_column]={$switch:{branches:r,default:bv(e.search_column)}},t)}},select:function(e){return{$project:b.fromPairs(e.columns.map(function(e){return[e,1]}))}},split:function(e){for(var t={},r=1;r<=e.number_cols_to_keep;r++)t[e.column+"_"+r]={$arrayElemAt:["$_vqbTmp",r-1]};return[{$addFields:{_vqbTmp:{$split:[bv(e.column),e.delimiter]}}},{$addFields:t},{$project:{_vqbTmp:0}}]},sort:function(e){var t,r,n={};try{for(var i=p(e.columns),a=i.next();!a.done;a=i.next()){var o=a.value;n[o.column]="asc"===o.order?1:-1}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return{$sort:n}},substring:function(e){var t,r=e.start_index>0?e.start_index-1:{$add:[{$strLenCP:bv(e.column)},e.start_index]},n={$add:[{$subtract:[e.end_index>0?e.end_index-1:{$add:[{$strLenCP:bv(e.column)},e.end_index]},r]},1]},i={$substrCP:[bv(e.column),r,n]};return{$addFields:(t={},t[e.column]=i,t)}},todate:function(e){var t;return{$addFields:(t={},t[e.column]={$dateFromString:{dateString:bv(e.column)}},t)}},top:function(e){var t,r="asc"===e.sort?1:-1,n=e.groups?xv(e.groups):null;return[{$sort:(t={},t[e.rank_on]=r,t)},{$group:{_id:n,_vqbAppArray:{$push:"$$ROOT"}}},{$project:{_vqbAppTopElems:{$slice:["$_vqbAppArray",e.limit]}}},{$unwind:"$_vqbAppTopElems"},{$replaceRoot:{newRoot:"$_vqbAppTopElems"}}]},unpivot:function(e){var t,r,n=b.fromPairs(e.keep.map(function(e){return[e,"$"+e]})),i=b.fromPairs(e.unpivot.map(function(e){return[e,"$"+e]})),a=[{$project:u({},n,{_vqbToUnpivot:{$objectToArray:i}})},{$unwind:"$_vqbToUnpivot"},{$project:u({},n,(t={},t[e.unpivot_column_name]="$_vqbToUnpivot.k",t[e.value_column_name]="$_vqbToUnpivot.v",t))}];return e.dropna&&a.push({$match:(r={},r[e.value_column_name]={$ne:null},r)}),a},uppercase:function(e){var t;return{$addFields:(t={},t[e.column]={$toUpper:bv(e.column)},t)}}},Mv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.translate=function(t){var r=e.prototype.translate.call(this,t).flat();return r.length?Ev(h(r,[{$project:{_id:0}}])):Ev(r)},t}(E);Object.assign(Mv.prototype,Sv);var Av,Ov={};function Cv(e){if(void 0===Ov[e])throw new Error("no translator found for backend "+e+". Available ones are: "+Object.keys(Ov).join(" | "));return new Ov[e]}function Pv(e){var t,r,n={headers:[],data:[]};if(e.length){var i=e.map(function(e){return Object.keys(e)}).flat().filter(function(e,t,r){return r.indexOf(e)===t});n.headers=i.map(function(e){return{name:e}});var a=function(e){n.data.push(n.headers.map(function(t){return e.hasOwnProperty(t.name)?e[t.name]:null}))};try{for(var o=p(e),s=o.next();!s.done;s=o.next()){a(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}return n}function Tv(e,t){return"integer"!==t&&"float"!==t||isNaN(Number(e))?"boolean"!==t||"true"!==(r=e)&&"false"!==r&&"True"!==r&&"False"!==r&&"TRUE"!==r&&"FALSE"!==r&&"1"!==r&&"0"!==r?e:"true"===e||"True"===e||"TRUE"===e||"1"===e:Number(e);var r}function kv(e,t){for(var r=1,n=e;t.includes(n);)n=""+e+r++;return n}function Rv(e,t,r,n){if("string"==typeof t){var i=e(t,r);return n&&(i=Tv(i,n)),i}return t}function Iv(e,t,r,n){if(x(e))return{and:e.and.map(function(e){return Iv(e,t,r,n)})};if(w(e))return{or:e.or.map(function(e){return Iv(e,t,r,n)})};var i=void 0===n?void 0:n[e.column];switch(e.operator){case"eq":case"ne":case"gt":case"ge":case"lt":case"le":return u({},e,{value:Rv(t,e.value,r,i)});case"in":case"nin":default:return u({},e,{value:e.value.map(function(e){return Rv(t,e,r,i)})})}}Av=Mv,Ov["mongo36"]=Av;var jv=function(){function e(e,t,r){void 0===r&&(r={}),this.interpolateFunc=e,this.context=t,this.columnTypes=r}return e.prototype.aggregate=function(e){return u({},e)},e.prototype.argmax=function(e){return u({},e)},e.prototype.argmin=function(e){return u({},e)},e.prototype.concatenate=function(e){return u({},e)},e.prototype.custom=function(e){return u({},e)},e.prototype.domain=function(e){return u({},e)},e.prototype.duplicate=function(e){return u({},e)},e.prototype.delete=function(e){return u({},e)},e.prototype.fillna=function(e){return u({},e,{value:Rv(this.interpolateFunc,e.value,this.context,this.columnTypes[e.column])})},e.prototype.filter=function(e){return u({},e,{condition:Iv(e.condition,this.interpolateFunc,this.context,this.columnTypes)})},e.prototype.formula=function(e){return u({},e,{formula:Rv(this.interpolateFunc,e.formula,this.context)})},e.prototype.fromdate=function(e){return u({},e)},e.prototype.lowercase=function(e){return u({},e)},e.prototype.percentage=function(e){return u({},e)},e.prototype.pivot=function(e){return u({},e)},e.prototype.rename=function(e){return u({},e)},e.prototype.replace=function(e){var t=this,r=this.columnTypes[e.search_column],n=e.to_replace.map(function(e){var n=m(e,2),i=n[0],a=n[1];return[Rv(t.interpolateFunc,i,t.context,r),Rv(t.interpolateFunc,a,t.context,r)]});return u({},e,{to_replace:n})},e.prototype.select=function(e){return u({},e)},e.prototype.sort=function(e){return u({},e)},e.prototype.split=function(e){return u({},e)},e.prototype.substring=function(e){return u({},e)},e.prototype.todate=function(e){return u({},e)},e.prototype.top=function(e){return u({},e,{limit:Number(Rv(this.interpolateFunc,e.limit,this.context))})},e.prototype.unpivot=function(e){return u({},e)},e.prototype.uppercase=function(e){return u({},e)},e.prototype.interpolate=function(e){return e.map(this.interpolateStep.bind(this))},e.prototype.interpolateStep=function(e){return this[e.name].bind(this)(e)},e}(),Fv=g(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,n=(r=i.a)&&"object"==typeof r&&"default"in r?r.default:r,a="undefined"!=typeof Reflect&&Reflect.defineMetadata;function o(e,t,r){(r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t)).forEach(function(n){var i=r?Reflect.getOwnMetadata(n,t,r):Reflect.getOwnMetadata(n,t);r?Reflect.defineMetadata(n,i,e,r):Reflect.defineMetadata(n,i,e)})}var s={__proto__:[]}instanceof Array;var u=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured"];function c(e,t){void 0===t&&(t={}),t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach(function(e){if("constructor"!==e)if(u.indexOf(e)>-1)t[e]=r[e];else{var n=Object.getOwnPropertyDescriptor(r,e);void 0!==n.value?"function"==typeof n.value?(t.methods||(t.methods={}))[e]=n.value:(t.mixins||(t.mixins=[])).push({data:function(){var t;return(t={})[e]=n.value,t}}):(n.get||n.set)&&((t.computed||(t.computed={}))[e]={get:n.get,set:n.set})}}),(t.mixins||(t.mixins=[])).push({data:function(){return function(e,t){var r=t.prototype._init;t.prototype._init=function(){var t=this,r=Object.getOwnPropertyNames(e);if(e.$options.props)for(var n in e.$options.props)e.hasOwnProperty(n)||r.push(n);r.forEach(function(r){"_"!==r.charAt(0)&&Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},configurable:!0})})};var n=new t;t.prototype._init=r;var i={};return Object.keys(n).forEach(function(e){void 0!==n[e]&&(i[e]=n[e])}),i}(this,e)}});var i=e.__decorators__;i&&(i.forEach(function(e){return e(t)}),delete e.__decorators__);var c,l,f=Object.getPrototypeOf(e.prototype),p=f instanceof n?f.constructor:n,m=p.extend(t);return function(e,t,r){Object.getOwnPropertyNames(t).forEach(function(n){if("prototype"!==n){var i=Object.getOwnPropertyDescriptor(e,n);if(!i||i.configurable){var a,o,u=Object.getOwnPropertyDescriptor(t,n);if(!s){if("cid"===n)return;var c=Object.getOwnPropertyDescriptor(r,n);if(a=u.value,o=typeof a,null!=a&&("object"===o||"function"===o)&&c&&c.value===u.value)return}Object.defineProperty(e,n,u)}}})}(m,e,p),a&&(o(c=m,l=e),Object.getOwnPropertyNames(l.prototype).forEach(function(e){o(c.prototype,l.prototype,e)}),Object.getOwnPropertyNames(l).forEach(function(e){o(c,l,e)})),m}function l(e){return"function"==typeof e?c(e):function(t){return c(t,e)}}l.registerHooks=function(e){u.push.apply(u,e)},t.default=l,t.createDecorator=function(e){return function(t,r,n){var i="function"==typeof t?t:t.constructor;i.__decorators__||(i.__decorators__=[]),"number"!=typeof n&&(n=void 0),i.__decorators__.push(function(t){return e(t,r,n)})}},t.mixins=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.extend({mixins:e})}});v(Fv);var Dv=Fv.createDecorator,$v=(Fv.mixins,qv("computed",a.mapState)),zv=qv("computed",a.mapGetters),Lv=qv("methods",a.mapActions),Bv=qv("methods",a.mapMutations);function qv(e,t){function r(r,n){return Dv(function(i,a){i[e]||(i[e]={});var o,s=((o={})[a]=r,o);i[e][a]=void 0!==n?t(n,s)[a]:t(s)[a]})}return function(e,t){if("string"==typeof t){var n=t,i=e;return r(n,void 0)(i,n)}return r(e,function(e){var t=e&&e.namespace;if("string"==typeof t)return"/"!==t[t.length-1]?t+"/":t}(t))}}var Uv={dataset:{headers:[],data:[],paginationContext:{pagesize:50,pageno:1,totalCount:0}},domains:[],currentStepFormName:void 0,stepFormInitialValue:void 0,selectedStepIndex:-1,pipeline:[],selectedColumns:[],pagesize:50,backendError:void 0,isLoading:!1,variables:{},interpolateFunc:function(e,t){return e}};function Vv(e){var t=e.pipeline,r=e.selectedStepIndex;return r<0?t.length:r+1}function Hv(e){return e.pipeline.slice(0,Vv(e))}var Wv={activePipeline:Hv,backendErrorMessage:function(e){return e.backendError?e.backendError.message:null},columnNames:function(e){return e.dataset.headers.map(function(e){return e.name})},columnHeaders:function(e){return e.dataset.headers},columnTypes:function(e){return b.fromPairs(e.dataset.headers.map(function(e){return[e.name,e.type]}))},computedActiveStepIndex:function(e){return-1===e.selectedStepIndex?e.pipeline.length-1:e.selectedStepIndex},domainStep:function(e){return e.pipeline[0]},inactivePipeline:function(e){return e.pipeline.slice(Vv(e))},isDatasetEmpty:function(e){return 0===e.dataset.data.length},isEditingStep:function(e){return void 0!==e.currentStepFormName},isPipelineEmpty:function(e){return e.pipeline.length<=1},isStepDisabled:function(e){return function(t){return e.selectedStepIndex>=0&&t>e.selectedStepIndex}},selectedColumns:function(e){return e.selectedColumns},stepConfig:function(e){return function(t){return e.pipeline[t]}},pageno:function(e){return e.dataset.paginationContext?e.dataset.paginationContext.pageno:1},thereIsABackendError:function(e){return void 0!==e.backendError}},Gv={closeStepForm:function(e){e.currentStepFormName=void 0},createStepForm:function(e,t){var r=t.stepName;e.currentStepFormName=r,e.stepFormInitialValue=void 0},openStepForm:function(e,t){var r=t.stepName,n=t.initialValue;e.stepFormInitialValue=u({},n),e.currentStepFormName=r},resetStepFormInitialValue:function(e){e.stepFormInitialValue=void 0},selectStep:function(e,t){var r=t.index;r>e.pipeline.length?(console.error("In selectStep: index out of bounds. Falling back to last selectable index."),e.selectedStepIndex=-1):e.selectedStepIndex=r},deleteStep:function(e,t){var r=t.index;e.pipeline.splice(r,1),e.selectedStepIndex=r-1},setCurrentDomain:function(e,t){var r=t.currentDomain;if(e.currentDomain=r,r){var n=e.pipeline,i={name:"domain",domain:r};n.length?e.pipeline=h([i],n.slice(1)):e.pipeline=[i]}},setDomains:function(e,t){var r=t.domains;e.domains=r,(!e.currentDomain||r.length&&!r.includes(e.currentDomain))&&(e.currentDomain=r[0])},setPipeline:function(e,t){var r=t.pipeline;if(e.pipeline=r,r.length){var n=r[0];"domain"===n.name&&(e.currentDomain=n.domain)}},setDataset:function(e,t){var r=t.dataset;e.dataset=r},setSelectedColumns:function(e,t){var r=t.column;void 0!==r&&(e.selectedColumns=[r])},toggleColumnSelection:function(e,t){var r=t.column;e.selectedColumns.includes(r)?e.selectedColumns=[]:e.selectedColumns=[r]},setCurrentPage:function(e,t){var r=t.pageno;if(e.dataset.paginationContext)e.dataset.paginationContext.pageno=r;else{var n=e.dataset.data.length;e.dataset.paginationContext={pageno:r,pagesize:n,totalCount:n}}},setBackendError:function(e,t){var r=t.backendError;e.backendError=r},setLoading:function(e,t){var r=t.isLoading;e.isLoading=r}},Zv="vqb",Jv=function(e){return Zv+"/"+e},Qv=function(e,t){function r(t){return function(r,n){if("string"==typeof n){var i=n,a=r;return t(i,{namespace:e})(a,i)}var o=r,s=function(e,t){var r={};return[e,t].forEach(function(e){Object.keys(e).forEach(function(t){r[t]=e[t]})}),r}(n||{},{namespace:e});return t(o,s)}}return t?(console.warn("[vuex-class] passing the 2nd argument to `namespace` function is deprecated. pass only namespace string instead."),r(t)):{State:r($v),Getter:r(zv),Mutation:r(Bv),Action:r(Lv)}}(Zv);function Kv(e,t){void 0===t&&(t={}),e.registerModule(Zv,function(e){return void 0===e&&(e={}),{namespaced:!0,state:u({},Uv,e),getters:Wv,mutations:Gv}}(t))}function Yv(e){e.unregisterModule(Zv)}function Xv(e){return Math.ceil((e.totalCount||0)/e.pagesize)}function eg(e,t){return Math.max(t-1,0)*e}function tg(e){var t=this;return function(r){r.subscribe(function(n,i){return l(t,void 0,void 0,function(){return f(this,function(t){return n.type!==Jv("selectStep")&&n.type!==Jv("setCurrentDomain")&&n.type!==Jv("deleteStep")&&n.type!==Jv("setCurrentPage")||function(e,t,r){l(this,void 0,void 0,function(){var n,i,a,o,s,u,c;return f(this,function(l){switch(l.label){case 0:if(!e.state[Zv].pipeline.length)return[2];l.label=1;case 1:return l.trys.push([1,3,,4]),e.commit(Jv("setLoading"),{isLoading:!0}),n=e.state[Zv],i=n.interpolateFunc,a=n.variables,i&&a&&Object.keys(a).length&&(o=e.getters[Jv("columnTypes")],s=new jv(i,a,o),r=s.interpolate(r)),[4,t.executePipeline(e,r,e.state[Zv].pagesize,eg(e.state[Zv].pagesize,e.getters[Jv("pageno")]))];case 2:return(u=l.sent()).error?e.commit(Jv("setBackendError"),{backendError:{type:"error",message:u.error}}):(e.commit(Jv("setDataset"),{dataset:u.data}),e.commit(Jv("setBackendError"),{backendError:void 0})),[3,4];case 3:return c=l.sent(),e.commit(Jv("setBackendError"),{backendError:{type:"error",message:c}}),[3,4];case 4:return e.commit(Jv("setLoading"),{isLoading:!1}),[2]}})})}(r,e,Hv(i[Zv])),[2]})})})}}var rg="undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys;function ng(e,t,r){(r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t)).forEach(function(n){var i=r?Reflect.getOwnMetadata(n,t,r):Reflect.getOwnMetadata(n,t);r?Reflect.defineMetadata(n,i,e,r):Reflect.defineMetadata(n,i,e)})}var ig={__proto__:[]}instanceof Array;function ag(e){return function(t,r,n){var i="function"==typeof t?t:t.constructor;i.__decorators__||(i.__decorators__=[]),"number"!=typeof n&&(n=void 0),i.__decorators__.push(function(t){return e(t,r,n)})}}function og(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.a.extend({mixins:e})}var sg=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function ug(e,t){void 0===t&&(t={}),t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach(function(e){if("constructor"!==e)if(sg.indexOf(e)>-1)t[e]=r[e];else{var n=Object.getOwnPropertyDescriptor(r,e);void 0!==n.value?"function"==typeof n.value?(t.methods||(t.methods={}))[e]=n.value:(t.mixins||(t.mixins=[])).push({data:function(){var t;return(t={})[e]=n.value,t}}):(n.get||n.set)&&((t.computed||(t.computed={}))[e]={get:n.get,set:n.set})}}),(t.mixins||(t.mixins=[])).push({data:function(){return function(e,t){var r=t.prototype._init;t.prototype._init=function(){var t=this,r=Object.getOwnPropertyNames(e);if(e.$options.props)for(var n in e.$options.props)e.hasOwnProperty(n)||r.push(n);r.forEach(function(r){"_"!==r.charAt(0)&&Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},configurable:!0})})};var n=new t;t.prototype._init=r;var i={};return Object.keys(n).forEach(function(e){void 0!==n[e]&&(i[e]=n[e])}),i}(this,e)}});var n=e.__decorators__;n&&(n.forEach(function(e){return e(t)}),delete e.__decorators__);var a,o,s=Object.getPrototypeOf(e.prototype),u=s instanceof i.a?s.constructor:i.a,c=u.extend(t);return function(e,t,r){Object.getOwnPropertyNames(t).forEach(function(n){if(!cg[n]){var i=Object.getOwnPropertyDescriptor(e,n);if(!i||i.configurable){var a,o,s=Object.getOwnPropertyDescriptor(t,n);if(!ig){if("cid"===n)return;var u=Object.getOwnPropertyDescriptor(r,n);if(a=s.value,o=typeof a,null!=a&&("object"===o||"function"===o)&&u&&u.value===s.value)return}Object.defineProperty(e,n,s)}}})}(c,e,u),rg&&(ng(a=c,o=e),Object.getOwnPropertyNames(o.prototype).forEach(function(e){ng(a.prototype,o.prototype,e)}),Object.getOwnPropertyNames(o).forEach(function(e){ng(a,o,e)})),c}var cg={prototype:!0,arguments:!0,callee:!0,caller:!0};function lg(e){return"function"==typeof e?ug(e):function(t){return ug(t,e)}}lg.registerHooks=function(e){sg.push.apply(sg,e)};var fg="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function pg(e){return void 0===e&&(e={}),function(t,r){!function(e,t,r){fg&&(Array.isArray(e)||"function"==typeof e||void 0!==e.type||(e.type=Reflect.getMetadata("design:type",t,r)))}(e,t,r),ag(function(t,r){(t.props||(t.props={}))[r]=e})(t,r)}}function mg(e,t){void 0===t&&(t={});var r=t.deep,n=void 0!==r&&r,i=t.immediate,a=void 0!==i&&i;return ag(function(t,r){"object"!=typeof t.watch&&(t.watch=Object.create(null));var i=t.watch;"object"!=typeof i[e]||Array.isArray(i[e])?void 0===i[e]&&(i[e]=[]):i[e]=[i[e]],i[e].push({handler:r,deep:n,immediate:a})})}var hg,dg={compute:[{name:"formula",label:"Formula"},{name:"percentage",label:"Percentage of total"}],filter:[{name:"delete",label:"Delete columns"},{name:"select",label:"Keep columns"},{name:"filter",label:"Filter rows"},{name:"top",label:"Top N rows"},{name:"argmax",label:"Argmax"},{name:"argmin",label:"Argmin"}],date:[{name:"todate",label:"Convert text to date"},{name:"fromdate",label:"Convert date to text"}],text:[{name:"concatenate",label:"Concatenate"},{name:"split",label:"Split column"},{name:"substring",label:"Extract substring"},{name:"lowercase",label:"To lowercase"},{name:"uppercase",label:"To uppercase"}],reshape:[{name:"pivot",label:"Pivot"},{name:"unpivot",label:"Unpivot"}]},vg=[{type:"filter",actions:h(dg.filter)},{type:"compute",actions:h(dg.compute)},{type:"aggregate",actions:[{name:"aggregate",label:"Aggregate"}]},{type:"date",actions:h(dg.date)},{type:"reshape",actions:h(dg.reshape)},{type:"text",actions:h(dg.text)},{type:"Others action",actions:[{name:"duplicate",label:"Duplicate column"},{name:"rename",label:"Rename column"},{name:"fillna",label:"Fill null values"},{name:"replace",label:"Replace values"},{name:"sort",label:"Sort values"}]}],gg=[{category:"filter",enable:!0,icon:"filter",label:"Filter"},{category:"compute",enable:!0,icon:"calculator",label:"Compute"},{category:"text",enable:!0,icon:"font",label:"Text"},{category:"date",enable:!0,icon:"calendar",label:"Date"},{category:"aggregate",enable:!0,icon:"code-branch",label:"Aggregate"},{category:"reshape",enable:!0,icon:"draw-polygon",label:"Reshape"}],yg={CENTER:"center",JUSTIFY:"justify",LEFT:"left",RIGHT:"right"};!function(e){e.Center="center",e.Justify="justify",e.Left="left",e.Right="right"}(hg||(hg={}));var bg=8;function xg(e){void 0===e&&(e={});var t;return u({},{width:0,height:0,top:0,left:0,bottom:0,right:0},{width:(t=e).width||0,height:t.height||0,top:t.top||0,left:t.left||0,bottom:t.bottom||0,right:t.right||0})}function wg(e){return{body:xg(e.body),parent:xg(e.parent),element:(r=e.element,void 0===r&&(r={}),{offsetWidth:r.offsetWidth||0,offsetHeight:r.offsetHeight||0}),window:(t=e.window,u({},{innerWidth:0,innerHeight:0},t))};var t,r}function _g(e,t){switch(e){case hg.Center:return function(e){var t=wg(e),r=t.body,n=t.parent,i=t.element,a=t.window,o=n.left-r.left,s=o+n.width,u=o+(n.width-i.offsetWidth)/2;return u<0?u=o:u+i.offsetWidth>a.innerWidth&&(u=s-i.offsetWidth),{left:u}}(t);case hg.Justify:return function(e){var t=wg(e),r=t.body,n=t.parent;return{left:n.left-r.left,width:n.width}}(t);case hg.Left:return function(e){var t=wg(e),r=t.body,n=t.parent,i=t.element,a=t.window,o=n.left-r.left,s=o+n.width,u=o;return u+i.offsetWidth>a.innerWidth&&s-i.offsetWidth>=0&&(u=s-i.offsetWidth),{left:u}}(t);case hg.Right:return function(e){var t=wg(e),r=t.body,n=t.parent,i=t.element,a=t.window,o=n.left-r.left,s=o+n.width-i.offsetWidth;return s<0&&o+i.offsetWidth<=a.innerWidth&&(s=o),{left:s}}(t)}}var Ng=function(e,t,r,n,i,a,o,s,u,c){"boolean"!=typeof o&&(u=s,s=o,o=!1);var l,f="function"==typeof r?r.options:r;if(e&&e.render&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0,i&&(f.functional=!0)),n&&(f._scopeId=n),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},f._ssrRegister=l):t&&(l=o?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),l)if(f.functional){var p=f.render;f.render=function(e,t){return l.call(t),p(e,t)}}else{var m=f.beforeCreate;f.beforeCreate=m?[].concat(m,l):[l]}return r};const Eg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elementStyle={},t.parent=null,t.parents=[],t.updatePosition=b.throttle(function(){if(this.isActive&&null!==this.parent){var e={body:document.body.getBoundingClientRect(),parent:this.parent.getBoundingClientRect(),element:this.$el,window:window},t=_g(this.align,e);t.top=function(e,t){var r;void 0===e&&(e=!1);var n=wg(t),i=n.body,a=n.parent,o=n.element,s=n.window,u=a.top-i.top,c=u-bg-o.offsetHeight,l=u+a.height;return e?(r=l,l+o.offsetHeight>s.innerHeight&&c>=0&&(r=c)):(r=c,c<0&&l+o.offsetHeight<=s.innerHeight&&(r=l)),r}(this.isBottom,e),this.elementStyle=b.fromPairs(Object.entries(t).map(function(e){var t=m(e,2);return[t[0],t[1]+"px"]}))}},16),t}return s(t,e),Object.defineProperty(t.prototype,"isActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottom",{get:function(){return this.bottom},enumerable:!0,configurable:!0}),t.prototype.mounted=function(){var e,t;this.parent=this.$el.parentElement,document.body.appendChild(this.$el);for(var r=[],n=this.parent;n!==document.body&&null!==n;)r.push(n),n=n.parentElement;this.parents=r,window.addEventListener("orientationchange",this.orientationchangeListener),window.addEventListener("resize",this.resizeListener);try{for(var i=p(r),a=i.next();!a.done;a=i.next()){a.value.addEventListener("scroll",this.scrollListener)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this.updatePosition()},t.prototype.orientationchangeListener=function(){return this.updatePosition()},t.prototype.resizeListener=function(){return this.updatePosition()},t.prototype.scrollListener=function(){return this.updatePosition()},t.prototype.onisActiveChange=function(e){if(e)return this.updatePosition()},t.prototype.beforeDestroy=function(){var e,t;window.removeEventListener("orientationchange",this.orientationchangeListener),window.removeEventListener("resize",this.resizeListener);try{for(var r=p(this.parents),n=r.next();!n.done;n=r.next()){n.value.removeEventListener("scroll",this.scrollListener)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}if(null!==this.$el.parentElement)return this.$el.parentElement.removeChild(this.$el)},c([pg({type:Boolean,default:!1})],t.prototype,"active",void 0),c([pg({default:function(){return hg.Center},validator:function(e){return Object.values(hg).includes(e)}})],t.prototype,"align",void 0),c([pg({type:Boolean,default:function(){return!1}})],t.prototype,"bottom",void 0),c([mg("isActive")],t.prototype,"onisActiveChange",null),t=c([lg({name:"popover"})],t)}(i.a);var Sg=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:{popover:!0,"popover--active":this.isActive},style:this.elementStyle},[this._t("default")],2)};Sg._withStripped=!0;var Mg=Ng({render:Sg,staticRenderFns:[]},void 0,Eg,"data-v-f95b8926",!1,void 0,void 0,void 0);const Ag=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alignLeft=yg.LEFT,t}return s(t,e),t.prototype.clickListener=function(e){var t=e.target;t===this.$el||this.$el.contains(t)||this.close()},t.prototype.close=function(){this.$emit("closed")},t.prototype.createDeleteColumnStep=function(){var e=h(this.pipeline),t=this.computedActiveStepIndex+1,r={name:"delete",columns:[this.columnName]};this.isEditingStep&&this.closeStepForm(),e.splice(t,0,r),this.setPipeline({pipeline:e}),this.selectStep({index:t}),this.close()},t.prototype.createStep=function(e){this.$emit("actionClicked",e),this.close()},t.prototype.onIsActiveChanged=function(e){e?window.addEventListener("click",this.clickListener,{capture:!0}):window.removeEventListener("click",this.clickListener,{capture:!0})},c([pg({type:Boolean,default:function(){return!1}})],t.prototype,"isActive",void 0),c([pg({type:String,default:function(){return""}})],t.prototype,"columnName",void 0),c([Qv.State],t.prototype,"pipeline",void 0),c([Qv.Getter],t.prototype,"computedActiveStepIndex",void 0),c([Qv.Getter],t.prototype,"isEditingStep",void 0),c([Qv.Mutation],t.prototype,"selectStep",void 0),c([Qv.Mutation],t.prototype,"setPipeline",void 0),c([Qv.Mutation],t.prototype,"closeStepForm",void 0),c([mg("isActive")],t.prototype,"onIsActiveChanged",null),t=c([lg({name:"action-menu",components:{Popover:Mg}})],t)}(i.a);var Og=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("popover",{attrs:{active:e.isActive,align:e.alignLeft,bottom:""}},[r("div",{staticClass:"action-menu__body"},[r("div",{staticClass:"action-menu__section"},[r("div",{staticClass:"action-menu__option",on:{click:function(t){return e.createStep("duplicate")}}},[e._v("Duplicate column")]),e._v(" "),r("div",{staticClass:"action-menu__option",on:{click:function(t){return e.createStep("rename")}}},[e._v("Rename column")]),e._v(" "),r("div",{staticClass:"action-menu__option",on:{click:e.createDeleteColumnStep}},[e._v("Delete column")]),e._v(" "),r("div",{staticClass:"action-menu__option",on:{click:function(t){return e.createStep("filter")}}},[e._v("Filter values")]),e._v(" "),r("div",{staticClass:"action-menu__option",on:{click:function(t){return e.createStep("fillna")}}},[e._v("Fill null values")]),e._v(" "),r("div",{staticClass:"action-menu__option",on:{click:function(t){return e.createStep("replace")}}},[e._v("Replace values")]),e._v(" "),r("div",{staticClass:"action-menu__option",on:{click:function(t){return e.createStep("sort")}}},[e._v("Sort values")])])])])};Og._withStripped=!0;var Cg=Ng({render:Og,staticRenderFns:[]},void 0,Ag,void 0,!1,void 0,void 0,void 0);const Pg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alignLeft=yg.LEFT,t}return s(t,e),t.prototype.clickListener=function(e){var t=e.target;t===this.$el||this.$el.contains(t)||this.close()},t.prototype.actionClicked=function(e){("lowercase"===e||"uppercase"===e||"todate"===e)&&this.selectedColumns.length>0?this.createStep(e):this.$emit("actionClicked",e)},t.prototype.createStep=function(e){var t=h(this.pipeline),r=this.computedActiveStepIndex+1,n={name:""+e,column:this.selectedColumns[0]};this.isEditingStep&&this.closeStepForm(),t.splice(r,0,n),this.setPipeline({pipeline:t}),this.selectStep({index:r}),this.close()},Object.defineProperty(t.prototype,"items",{get:function(){return dg[this.category]},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.$emit("closed")},t.prototype.onIsActiveChanged=function(e){e?window.addEventListener("click",this.clickListener,{capture:!0}):window.removeEventListener("click",this.clickListener,{capture:!0})},c([pg({type:Boolean,default:function(){return!1}})],t.prototype,"isActive",void 0),c([pg({type:String})],t.prototype,"category",void 0),c([Qv.State],t.prototype,"pipeline",void 0),c([Qv.Getter],t.prototype,"computedActiveStepIndex",void 0),c([Qv.Getter],t.prototype,"isEditingStep",void 0),c([Qv.Getter],t.prototype,"selectedColumns",void 0),c([Qv.Mutation],t.prototype,"selectStep",void 0),c([Qv.Mutation],t.prototype,"setPipeline",void 0),c([Qv.Mutation],t.prototype,"closeStepForm",void 0),c([mg("isActive")],t.prototype,"onIsActiveChanged",null),t=c([lg({name:"action-toolbar-button",components:{Popover:Mg},props:{label:String,icon:String}})],t)}(i.a);var Tg=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"action-toolbar__btn",attrs:{type:"button"}},[r("i",{class:"action-toolbar__btn-icon fas fa-"+e.icon}),e._v(" "),r("span",{staticClass:"action-toolbar__btn-txt"},[e._v(e._s(e.label))]),e._v(" "),r("popover",{attrs:{active:e.isActive,align:"left",bottom:""}},[r("div",{staticClass:"action-menu__body"},[r("div",{staticClass:"action-menu__section"},e._l(e.items,function(t,n){return r("div",{key:n,staticClass:"action-menu__option",on:{click:function(r){return e.actionClicked(t.name)}}},[e._v(e._s(t.label))])}),0)])])],1)};Tg._withStripped=!0;var kg=Ng({render:Tg,staticRenderFns:[]},void 0,Pg,void 0,!1,void 0,void 0,void 0),Rg=g(function(e,t){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=60)}([function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(49)("wks"),i=r(30),a=r(0).Symbol,o="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=n},function(e,t,r){var n=r(5);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){var n=r(0),i=r(10),a=r(8),o=r(6),s=r(11),u=function(e,t,r){var c,l,f,p,m=e&u.F,h=e&u.G,d=e&u.S,v=e&u.P,g=e&u.B,y=h?n:d?n[t]||(n[t]={}):(n[t]||{}).prototype,b=h?i:i[t]||(i[t]={}),x=b.prototype||(b.prototype={});for(c in h&&(r=t),r)l=!m&&y&&void 0!==y[c],f=(l?y:r)[c],p=g&&l?s(f,n):v&&"function"==typeof f?s(Function.call,f):f,y&&o(y,c,f,e&u.U),b[c]!=f&&a(b,c,p),v&&x[c]!=f&&(x[c]=f)};n.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,r){e.exports=!r(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(0),i=r(8),a=r(12),o=r(30)("src"),s=Function.toString,u=(""+s).split("toString");r(10).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var c="function"==typeof r;c&&(a(r,"name")||i(r,"name",t)),e[t]!==r&&(c&&(a(r,o)||i(r,o,e[t]?""+e[t]:u.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||s.call(this)})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(13),i=r(25);e.exports=r(4)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){var r=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(14);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(2),i=r(41),a=r(29),o=Object.defineProperty;t.f=r(4)?Object.defineProperty:function(e,t,r){if(n(e),t=a(t,!0),n(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports={}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(7);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,r){var n=r(23),i=r(16);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(53),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(11),i=r(23),a=r(28),o=r(19),s=r(64);e.exports=function(e,t){var r=1==e,u=2==e,c=3==e,l=4==e,f=6==e,p=5==e||f,m=t||s;return function(t,s,h){for(var d,v,g=a(t),y=i(g),b=n(s,h,3),x=o(y.length),w=0,_=r?m(t,x):u?m(t,0):void 0;x>w;w++)if((p||w in y)&&(d=y[w],v=b(d,w,g),e))if(r)_[w]=v;else if(v)switch(e){case 3:return!0;case 5:return d;case 6:return w;case 2:_.push(d)}else if(l)return!1;return f?-1:c||l?l:_}}},function(e,t,r){var n=r(5),i=r(0).document,a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(9);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){e.exports=!1},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(13).f,i=r(12),a=r(1)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,r){var n=r(49)("keys"),i=r(30);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){var n=r(16);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(5);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(0),i=r(12),a=r(9),o=r(67),s=r(29),u=r(7),c=r(77).f,l=r(45).f,f=r(13).f,p=r(51).trim,m=n.Number,h=m,d=m.prototype,v="Number"==a(r(44)(d)),g="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var r,n,i,a=(t=g?t.trim():p(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var o,u=t.slice(2),c=0,l=u.length;c<l;c++)if((o=u.charCodeAt(c))<48||o>i)return NaN;return parseInt(u,n)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof m&&(v?u(function(){d.valueOf.call(r)}):"Number"!=a(r))?o(new h(y(t)),r,m):y(t)};for(var b,x=r(4)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)i(h,b=x[w])&&!i(m,b)&&f(m,b,l(h,b));m.prototype=d,d.constructor=m,r(6)(n,"Number",m)}},function(e,t,r){function n(e){return!(0===e||(!Array.isArray(e)||0!==e.length)&&e)}function i(e,t,r,n){return e.filter(function(e){return function(e,t){return void 0===e&&(e="undefined"),null===e&&(e="null"),!1===e&&(e="false"),-1!==e.toString().toLowerCase().indexOf(t.trim())}(n(e,r),t)})}function a(e){return e.filter(function(e){return!e.$isLabel})}function o(e,t){return function(r){return r.reduce(function(r,n){return n[e]&&n[e].length?(r.push({$groupLabel:n[t],$isLabel:!0}),r.concat(n[e])):r},[])}}function s(e,t,n,a,o){return function(s){return s.map(function(s){var u;if(!s[n])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];var c=i(s[n],e,t,o);return c.length?(u={},r.i(p.a)(u,a,s[a]),r.i(p.a)(u,n,c),u):[]})}}var u=r(59),c=r(54),l=(r.n(c),r(95)),f=(r.n(l),r(31)),p=(r.n(f),r(58)),m=r(91),h=(r.n(m),r(98)),d=(r.n(h),r(92)),v=(r.n(d),r(88)),g=(r.n(v),r(97)),y=(r.n(g),r(89)),b=(r.n(y),r(96)),x=(r.n(b),r(93)),w=(r.n(x),r(90)),_=(r.n(w),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce(function(e,t){return t(e)},e)}});t.a={data:function(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:function(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:function(e,t){return n(e)?"":t?e[t]:e}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default:function(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1}},mounted:function(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue:function(){return this.value||0===this.value?Array.isArray(this.value)?this.value:[this.value]:[]},filteredOptions:function(){var e=this.search||"",t=e.toLowerCase().trim(),r=this.options.concat();return r=this.internalSearch?this.groupValues?this.filterAndFlat(r,t,this.label):i(r,t,this.label,this.customLabel):this.groupValues?o(this.groupValues,this.groupLabel)(r):r,r=this.hideSelected?r.filter(function(e){return function(){return!e.apply(void 0,arguments)}}(this.isSelected)):r,this.taggable&&t.length&&!this.isExistingOption(t)&&("bottom"===this.tagPosition?r.push({isTag:!0,label:e}):r.unshift({isTag:!0,label:e})),r.slice(0,this.optionsLimit)},valueKeys:function(){var e=this;return this.trackBy?this.internalValue.map(function(t){return t[e.trackBy]}):this.internalValue},optionKeys:function(){var e=this;return(this.groupValues?this.flatAndStrip(this.options):this.options).map(function(t){return e.customLabel(t,e.label).toString().toLowerCase()})},currentOptionLabel:function(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:function(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("input",this.multiple?[]:null))},search:function(){this.$emit("search-change",this.search,this.id)}},methods:{getValue:function(){return this.multiple?this.internalValue:0===this.internalValue.length?null:this.internalValue[0]},filterAndFlat:function(e,t,r){return _(s(t,r,this.groupValues,this.groupLabel,this.customLabel),o(this.groupValues,this.groupLabel))(e)},flatAndStrip:function(e){return _(o(this.groupValues,this.groupLabel),a)(e)},updateSearch:function(e){this.search=e},isExistingOption:function(e){return!!this.options&&this.optionKeys.indexOf(e)>-1},isSelected:function(e){var t=this.trackBy?e[this.trackBy]:e;return this.valueKeys.indexOf(t)>-1},isOptionDisabled:function(e){return!!e.$isDisabled},getOptionLabel:function(e){if(n(e))return"";if(e.isTag)return e.label;if(e.$isLabel)return e.$groupLabel;var t=this.customLabel(e,this.label);return n(t)?"":t},select:function(e,t){if(e.$isLabel&&this.groupSelect)this.selectGroup(e);else if(!(-1!==this.blockKeys.indexOf(t)||this.disabled||e.$isDisabled||e.$isLabel)&&(!this.max||!this.multiple||this.internalValue.length!==this.max)&&("Tab"!==t||this.pointerDirty)){if(e.isTag)this.$emit("tag",e.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(e))return void("Tab"!==t&&this.removeElement(e));this.$emit("select",e,this.id),this.multiple?this.$emit("input",this.internalValue.concat([e]),this.id):this.$emit("input",e,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup:function(e){var t=this,r=this.options.find(function(r){return r[t.groupLabel]===e.$groupLabel});if(r)if(this.wholeGroupSelected(r)){this.$emit("remove",r[this.groupValues],this.id);var n=this.internalValue.filter(function(e){return-1===r[t.groupValues].indexOf(e)});this.$emit("input",n,this.id)}else{var i=r[this.groupValues].filter(function(e){return!(t.isOptionDisabled(e)||t.isSelected(e))});this.$emit("select",i,this.id),this.$emit("input",this.internalValue.concat(i),this.id)}},wholeGroupSelected:function(e){var t=this;return e[this.groupValues].every(function(e){return t.isSelected(e)||t.isOptionDisabled(e)})},wholeGroupDisabled:function(e){return e[this.groupValues].every(this.isOptionDisabled)},removeElement:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.disabled&&!e.$isDisabled){if(!this.allowEmpty&&this.internalValue.length<=1)return void this.deactivate();var n="object"===r.i(u.a)(e)?this.valueKeys.indexOf(e[this.trackBy]):this.valueKeys.indexOf(e);if(this.$emit("remove",e,this.id),this.multiple){var i=this.internalValue.slice(0,n).concat(this.internalValue.slice(n+1));this.$emit("input",i,this.id)}else this.$emit("input",null,this.id);this.closeOnSelect&&t&&this.deactivate()}},removeLastElement:function(){-1===this.blockKeys.indexOf("Delete")&&0===this.search.length&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate:function(){var e=this;this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&0===this.pointer&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.$nextTick(function(){return e.$refs.search.focus()})):this.$el.focus(),this.$emit("open",this.id))},deactivate:function(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search.blur():this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle:function(){this.isOpen?this.deactivate():this.activate()},adjustPosition:function(){if("undefined"!=typeof window){var e=this.$el.getBoundingClientRect().top,t=window.innerHeight-this.$el.getBoundingClientRect().bottom;t>this.maxHeight||t>e||"below"===this.openDirection||"bottom"===this.openDirection?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(t-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(e-40,this.maxHeight))}}}}},function(e,t,r){var n=r(54),i=(r.n(n),r(31));r.n(i),t.a={data:function(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition:function(){return this.pointer*this.optionHeight},visibleElements:function(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions:function(){this.pointerAdjust()},isOpen:function(){this.pointerDirty=!1}},methods:{optionHighlight:function(e,t){return{"multiselect__option--highlight":e===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(t)}},groupHighlight:function(e,t){var r=this;if(!this.groupSelect)return["multiselect__option--group","multiselect__option--disabled"];var n=this.options.find(function(e){return e[r.groupLabel]===t.$groupLabel});return n&&!this.wholeGroupDisabled(n)?["multiselect__option--group",{"multiselect__option--highlight":e===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(n)}]:"multiselect__option--disabled"},addPointerElement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Enter",t=e.key;this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],t),this.pointerReset()},pointerForward:function(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward:function(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset:function(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust:function(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet:function(e){this.pointer=e,this.pointerDirty=!0}}}},function(e,t,r){var n=r(36),i=r(74),a=r(15),o=r(18);e.exports=r(72)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t,r){var n=r(31),i=(r.n(n),r(32)),a=r(33);t.a={name:"vue-multiselect",mixins:[i.a,a.a],props:{name:{type:String,default:""},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:function(e){return"and ".concat(e," more")}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{isSingleLabelVisible:function(){return(this.singleValue||0===this.singleValue)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible:function(){return!(this.internalValue.length||this.searchable&&this.isOpen)},visibleValues:function(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue:function(){return this.internalValue[0]},deselectLabelText:function(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText:function(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText:function(){return this.showLabels?this.selectLabel:""},selectGroupLabelText:function(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText:function(){return this.showLabels?this.selectedLabel:""},inputStyle:function(){if(this.searchable||this.multiple&&this.value&&this.value.length)return this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}},contentStyle:function(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove:function(){return"above"===this.openDirection||"top"===this.openDirection||"below"!==this.openDirection&&"bottom"!==this.openDirection&&"above"===this.preferredOpenDirection},showSearchInput:function(){return this.searchable&&(!this.hasSingleSelectedSlot||!this.visibleSingleValue&&0!==this.visibleSingleValue||this.isOpen)}}}},function(e,t,r){var n=r(1)("unscopables"),i=Array.prototype;null==i[n]&&r(8)(i,n,{}),e.exports=function(e){i[n][e]=!0}},function(e,t,r){var n=r(18),i=r(19),a=r(85);e.exports=function(e){return function(t,r,o){var s,u=n(t),c=i(u.length),l=a(o,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}},function(e,t,r){var n=r(9),i=r(1)("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){var n=r(2);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var n=r(0).document;e.exports=n&&n.documentElement},function(e,t,r){e.exports=!r(4)&&!r(7)(function(){return 7!=Object.defineProperty(r(21)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(9);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){function n(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=i(t),this.reject=i(r)}var i=r(14);e.exports.f=function(e){return new n(e)}},function(e,t,r){var n=r(2),i=r(76),a=r(22),o=r(27)("IE_PROTO"),s=function(){},u=function(){var e,t=r(21)("iframe"),n=a.length;for(t.style.display="none",r(40).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[a[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[o]=e):r=u(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(79),i=r(25),a=r(18),o=r(29),s=r(12),u=r(41),c=Object.getOwnPropertyDescriptor;t.f=r(4)?c:function(e,t){if(e=a(e),t=o(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(12),i=r(18),a=r(37)(!1),o=r(27)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),u=0,c=[];for(r in s)r!=o&&n(s,r)&&c.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~a(c,r)||c.push(r));return c}},function(e,t,r){var n=r(46),i=r(22);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(2),i=r(5),a=r(43);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=r(10),i=r(0),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(24)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(2),i=r(14),a=r(1)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[a])?t:i(r)}},function(e,t,r){var n=r(3),i=r(16),a=r(7),o=r(84),s="["+o+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(e,t,r){var i={},s=a(function(){return!!o[e]()||"​"!="​"[e]()}),u=i[e]=s?t(f):o[e];r&&(i[r]=u),n(n.P+n.F*s,"String",i)},f=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},function(e,t,r){var n,i,a,o=r(11),s=r(68),u=r(40),c=r(21),l=r(0),f=l.process,p=l.setImmediate,m=l.clearImmediate,h=l.MessageChannel,d=l.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};p&&m||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},n(v),v},m=function(e){delete g[e]},"process"==r(9)(f)?n=function(e){f.nextTick(o(y,e,1))}:d&&d.now?n=function(e){d.now(o(y,e,1))}:h?(i=new h,a=i.port2,i.port1.onmessage=b,n=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):n="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(o(y,e,1),0)}),e.exports={set:p,clear:m}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(3),i=r(20)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(36)("find")},function(e,t,r){var n,i,a,o,s=r(24),u=r(0),c=r(11),l=r(38),f=r(3),p=r(5),m=r(14),h=r(61),d=r(66),v=r(50),g=r(52).set,y=r(75)(),b=r(43),x=r(80),w=r(86),_=r(48),N=u.TypeError,E=u.process,S=E&&E.versions,M=S&&S.v8||"",A=u.Promise,O="process"==l(E),C=function(){},P=i=b.f,T=!!function(){try{var e=A.resolve(1),t=(e.constructor={})[r(1)("species")]=function(e){e(C,C)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t&&0!==M.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),k=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var r=e._c;y(function(){for(var n=e._v,i=1==e._s,a=0;r.length>a;)!function(t){var r,a,o,s=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(i||(2==e._h&&F(e),e._h=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&(l.exit(),o=!0)),r===t.promise?c(N("Promise-chain cycle")):(a=k(r))?a.call(r,u,c):u(r)):c(n)}catch(e){l&&!o&&l.exit(),c(e)}}(r[a++]);e._c=[],e._n=!1,t&&!e._h&&I(e)})}},I=function(e){g.call(u,function(){var t,r,n,i=e._v,a=j(e);if(a&&(t=x(function(){O?E.emit("unhandledRejection",i,e):(r=u.onunhandledrejection)?r({promise:e,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=O||j(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(e){g.call(u,function(){var t;O?E.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},$=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw N("Promise can't be resolved itself");(t=k(e))?y(function(){var n={_w:r,_d:!1};try{t.call(e,c($,n,1),c(D,n,1))}catch(e){D.call(n,e)}}):(r._v=e,r._s=1,R(r,!1))}catch(e){D.call({_w:r,_d:!1},e)}}};T||(A=function(e){h(this,A,"Promise","_h"),m(e),n.call(this);try{e(c($,this,1),c(D,this,1))}catch(e){D.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(81)(A.prototype,{then:function(e,t){var r=P(v(this,A));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=O?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=c($,e,1),this.reject=c(D,e,1)},b.f=P=function(e){return e===A||e===o?new a(e):i(e)}),f(f.G+f.W+f.F*!T,{Promise:A}),r(26)(A,"Promise"),r(83)("Promise"),o=r(10).Promise,f(f.S+f.F*!T,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!T),"Promise",{resolve:function(e){return _(s&&this===o?A:this,e)}}),f(f.S+f.F*!(T&&r(73)(function(e){A.all(e).catch(C)})),"Promise",{all:function(e){var t=this,r=P(t),n=r.resolve,i=r.reject,a=x(function(){var r=[],a=0,o=1;d(e,!1,function(e){var s=a++,u=!1;r.push(void 0),o++,t.resolve(e).then(function(e){u||(u=!0,r[s]=e,--o||n(r))},i)}),--o||n(r)});return a.e&&i(a.v),r.promise},race:function(e){var t=this,r=P(t),n=r.reject,i=x(function(){d(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(e,t,r){var n=r(3),i=r(10),a=r(0),o=r(50),s=r(48);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,i.Promise||a.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){var n=r(35),i=r(101),a=r(100),o=function(e){r(99)},s=a(n.a,i.a,!1,o,null,null);t.a=s.exports},function(e,t,r){t.a=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}t.a=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(34),i=(r.n(n),r(55)),a=(r.n(i),r(56)),o=(r.n(a),r(57)),s=r(32),u=r(33);r.d(t,"Multiselect",function(){return o.a}),r.d(t,"multiselectMixin",function(){return s.a}),r.d(t,"pointerMixin",function(){return u.a}),t.default=o.a},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(14),i=r(28),a=r(23),o=r(19);e.exports=function(e,t,r,s,u){n(t);var c=i(e),l=a(c),f=o(c.length),p=u?f-1:0,m=u?-1:1;if(r<2)for(;;){if(p in l){s=l[p],p+=m;break}if(p+=m,u?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;u?p>=0:f>p;p+=m)p in l&&(s=t(s,l[p],p,c));return s}},function(e,t,r){var n=r(5),i=r(42),a=r(1)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var n=r(63);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(8),i=r(6),a=r(7),o=r(16),s=r(1);e.exports=function(e,t,r){var u=s(e),c=r(o,u,""[e]),l=c[0],f=c[1];a(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,l),n(RegExp.prototype,u,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,r){var n=r(11),i=r(70),a=r(69),o=r(2),s=r(19),u=r(87),c={},l={},t=e.exports=function(e,t,r,f,p){var m,h,d,v,g=p?function(){return e}:u(e),y=n(r,f,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(a(g)){for(m=s(e.length);m>b;b++)if((v=t?y(o(h=e[b])[0],h[1]):y(e[b]))===c||v===l)return v}else for(d=g.call(e);!(h=d.next()).done;)if((v=i(d,y,h.value,t))===c||v===l)return v};t.BREAK=c,t.RETURN=l},function(e,t,r){var n=r(5),i=r(82).set;e.exports=function(e,t,r){var a,o=t.constructor;return o!==r&&"function"==typeof o&&(a=o.prototype)!==r.prototype&&n(a)&&i&&i(e,a),e}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(15),i=r(1)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},function(e,t,r){var n=r(2);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},function(e,t,r){var n=r(44),i=r(25),a=r(26),o={};r(8)(o,r(1)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)}),a(e,t+" Iterator")}},function(e,t,r){var n=r(24),i=r(3),a=r(6),o=r(8),s=r(15),u=r(71),c=r(26),l=r(78),f=r(1)("iterator"),p=!([].keys&&"next"in[].keys()),m=function(){return this};e.exports=function(e,t,r,h,d,v,g){u(r,t,h);var y,b,x,w=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},_=t+" Iterator",N="values"==d,E=!1,S=e.prototype,M=S[f]||S["@@iterator"]||d&&S[d],A=M||w(d),O=d?N?w("entries"):A:void 0,C="Array"==t&&S.entries||M;if(C&&(x=l(C.call(new e)))!==Object.prototype&&x.next&&(c(x,_,!0),n||"function"==typeof x[f]||o(x,f,m)),N&&M&&"values"!==M.name&&(E=!0,A=function(){return M.call(this)}),n&&!g||!p&&!E&&S[f]||o(S,f,A),s[t]=A,s[_]=m,d)if(y={values:N?A:w("values"),keys:v?A:w("keys"),entries:O},g)for(b in y)b in S||a(S,b,y[b]);else i(i.P+i.F*(p||E),t,y);return y}},function(e,t,r){var n=r(1)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:r=!0}},a[n]=function(){return o},e(a)}catch(e){}return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(0),i=r(52).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,u="process"==r(9)(o);e.exports=function(){var e,t,r,c=function(){var n,i;for(u&&(n=o.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){o.nextTick(c)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);r=function(){l.then(c)}}else r=function(){i.call(n,c)};else{var f=!0,p=document.createTextNode("");new a(c).observe(p,{characterData:!0}),r=function(){p.data=f=!f}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t,r){var n=r(13),i=r(2),a=r(47);e.exports=r(4)?Object.defineProperties:function(e,t){i(e);for(var r,o=a(t),s=o.length,u=0;s>u;)n.f(e,r=o[u++],t[r]);return e}},function(e,t,r){var n=r(46),i=r(22).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(12),i=r(28),a=r(27)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(6);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){var n=r(5),i=r(2),a=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(11)(Function.call,r(45).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:a}},function(e,t,r){var n=r(0),i=r(13),a=r(4),o=r(1)("species");e.exports=function(e){var t=n[e];a&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,r){var n=r(53),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):a(e,t)}},function(e,t,r){var n=r(0),i=n.navigator;e.exports=i&&i.userAgent||""},function(e,t,r){var n=r(38),i=r(1)("iterator"),a=r(15);e.exports=r(10).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},function(e,t,r){var n=r(3),i=r(20)(2);n(n.P+n.F*!r(17)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,r){var n=r(3),i=r(37)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!r(17)(a)),"Array",{indexOf:function(e){return o?a.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,r){var n=r(3);n(n.S,"Array",{isArray:r(42)})},function(e,t,r){var n=r(3),i=r(20)(1);n(n.P+n.F*!r(17)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,r){var n=r(3),i=r(62);n(n.P+n.F*!r(17)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,r){var n=Date.prototype,i=n.toString,a=n.getTime;new Date(NaN)+""!="Invalid Date"&&r(6)(n,"toString",function(){var e=a.call(this);return e==e?i.call(this):"Invalid Date"})},function(e,t,r){r(4)&&"g"!=/./g.flags&&r(13).f(RegExp.prototype,"flags",{configurable:!0,get:r(39)})},function(e,t,r){r(65)("search",1,function(e,t,r){return[function(r){var n=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},r]})},function(e,t,r){r(94);var n=r(2),i=r(39),a=r(4),o=/./.toString,s=function(e){r(6)(RegExp.prototype,"toString",e,!0)};r(7)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?s(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=o.name&&s(function(){return o.call(this)})},function(e,t,r){r(51)("trim",function(e){return function(){return e(this,3)}})},function(e,t,r){for(var n=r(34),i=r(47),a=r(6),o=r(0),s=r(8),u=r(15),c=r(1),l=c("iterator"),f=c("toStringTag"),p=u.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(m),d=0;d<h.length;d++){var v,g=h[d],y=m[g],b=o[g],x=b&&b.prototype;if(x&&(x[l]||s(x,l,p),x[f]||s(x,f,g),u[g]=p,y))for(v in n)x[v]||a(x,v,n[v],!0)}},function(e,t){},function(e,t){e.exports=function(e,t,r,n,i,a){var o,s=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(o=e,s=e.default);var c,l="function"==typeof s?s.options:s;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId=i),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=c):n&&(c=n),c){var f=l.functional,p=f?l.render:l.beforeCreate;f?(l._injectStyles=c,l.render=function(e,t){return c.call(t),p(e,t)}):l.beforeCreate=p?[].concat(p,c):[c]}return{esModule:o,exports:s,options:l}}},function(e,t,r){var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"multiselect",class:{"multiselect--active":e.isOpen,"multiselect--disabled":e.disabled,"multiselect--above":e.isAbove},attrs:{tabindex:e.searchable?-1:e.tabindex},on:{focus:function(t){e.activate()},blur:function(t){!e.searchable&&e.deactivate()},keydown:[function(t){return"button"in t||!e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?t.target!==t.currentTarget?null:(t.preventDefault(),void e.pointerForward()):null},function(t){return"button"in t||!e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?t.target!==t.currentTarget?null:(t.preventDefault(),void e.pointerBackward()):null}],keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")||!e._k(t.keyCode,"tab",9,t.key,"Tab")?(t.stopPropagation(),t.target!==t.currentTarget?null:void e.addPointerElement(t)):null},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.deactivate()}}},[e._t("caret",[r("div",{staticClass:"multiselect__select",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}}})],{toggle:e.toggle}),e._v(" "),e._t("clear",null,{search:e.search}),e._v(" "),r("div",{ref:"tags",staticClass:"multiselect__tags"},[e._t("selection",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.visibleValues.length>0,expression:"visibleValues.length > 0"}],staticClass:"multiselect__tags-wrap"},[e._l(e.visibleValues,function(t,n){return[e._t("tag",[r("span",{key:n,staticClass:"multiselect__tag"},[r("span",{domProps:{textContent:e._s(e.getOptionLabel(t))}}),e._v(" "),r("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"1"},on:{keypress:function(r){if(!("button"in r)&&e._k(r.keyCode,"enter",13,r.key,"Enter"))return null;r.preventDefault(),e.removeElement(t)},mousedown:function(r){r.preventDefault(),e.removeElement(t)}}})])],{option:t,search:e.search,remove:e.removeElement})]})],2),e._v(" "),e.internalValue&&e.internalValue.length>e.limit?[e._t("limit",[r("strong",{staticClass:"multiselect__strong",domProps:{textContent:e._s(e.limitText(e.internalValue.length-e.limit))}})])]:e._e()],{search:e.search,remove:e.removeElement,values:e.visibleValues,isOpen:e.isOpen}),e._v(" "),r("transition",{attrs:{name:"multiselect__loading"}},[e._t("loading",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"multiselect__spinner"})])],2),e._v(" "),e.searchable?r("input",{ref:"search",staticClass:"multiselect__input",style:e.inputStyle,attrs:{name:e.name,id:e.id,type:"text",autocomplete:"nope",placeholder:e.placeholder,disabled:e.disabled,tabindex:e.tabindex},domProps:{value:e.search},on:{input:function(t){e.updateSearch(t.target.value)},focus:function(t){t.preventDefault(),e.activate()},blur:function(t){t.preventDefault(),e.deactivate()},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.deactivate()},keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault(),e.pointerForward()},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault(),e.pointerBackward()},function(t){if(!("button"in t)&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete"]))return null;t.stopPropagation(),e.removeLastElement()}],keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),t.stopPropagation(),t.target!==t.currentTarget?null:void e.addPointerElement(t)):null}}}):e._e(),e._v(" "),e.isSingleLabelVisible?r("span",{staticClass:"multiselect__single",on:{mousedown:function(t){return t.preventDefault(),e.toggle(t)}}},[e._t("singleLabel",[[e._v(e._s(e.currentOptionLabel))]],{option:e.singleValue})],2):e._e(),e._v(" "),e.isPlaceholderVisible?r("span",{staticClass:"multiselect__placeholder",on:{mousedown:function(t){return t.preventDefault(),e.toggle(t)}}},[e._t("placeholder",[e._v("\n          "+e._s(e.placeholder)+"\n        ")])],2):e._e()],2),e._v(" "),r("transition",{attrs:{name:"multiselect"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content-wrapper",style:{maxHeight:e.optimizedHeight+"px"},attrs:{tabindex:"-1"},on:{focus:e.activate,mousedown:function(e){e.preventDefault()}}},[r("ul",{staticClass:"multiselect__content",style:e.contentStyle},[e._t("beforeList"),e._v(" "),e.multiple&&e.max===e.internalValue.length?r("li",[r("span",{staticClass:"multiselect__option"},[e._t("maxElements",[e._v("Maximum of "+e._s(e.max)+" options selected. First remove a selected option to select another.")])],2)]):e._e(),e._v(" "),!e.max||e.internalValue.length<e.max?e._l(e.filteredOptions,function(t,n){return r("li",{key:n,staticClass:"multiselect__element"},[t&&(t.$isLabel||t.$isDisabled)?e._e():r("span",{staticClass:"multiselect__option",class:e.optionHighlight(n,t),attrs:{"data-select":t&&t.isTag?e.tagPlaceholder:e.selectLabelText,"data-selected":e.selectedLabelText,"data-deselect":e.deselectLabelText},on:{click:function(r){r.stopPropagation(),e.select(t)},mouseenter:function(t){if(t.target!==t.currentTarget)return null;e.pointerSet(n)}}},[e._t("option",[r("span",[e._v(e._s(e.getOptionLabel(t)))])],{option:t,search:e.search})],2),e._v(" "),t&&(t.$isLabel||t.$isDisabled)?r("span",{staticClass:"multiselect__option",class:e.groupHighlight(n,t),attrs:{"data-select":e.groupSelect&&e.selectGroupLabelText,"data-deselect":e.groupSelect&&e.deselectGroupLabelText},on:{mouseenter:function(t){if(t.target!==t.currentTarget)return null;e.groupSelect&&e.pointerSet(n)},mousedown:function(r){r.preventDefault(),e.selectGroup(t)}}},[e._t("option",[r("span",[e._v(e._s(e.getOptionLabel(t)))])],{option:t,search:e.search})],2):e._e()])}):e._e(),e._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:e.showNoResults&&0===e.filteredOptions.length&&e.search&&!e.loading,expression:"showNoResults && (filteredOptions.length === 0 && search && !loading)"}]},[r("span",{staticClass:"multiselect__option"},[e._t("noResult",[e._v("No elements found. Consider changing the search query.")],{search:e.search})],2)]),e._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:e.showNoOptions&&0===e.options.length&&!e.search&&!e.loading,expression:"showNoOptions && (options.length === 0 && !search && !loading)"}]},[r("span",{staticClass:"multiselect__option"},[e._t("noOptions",[e._v("List is empty.")])],2)]),e._v(" "),e._t("afterList")],2)])])],2)},staticRenderFns:[]};t.a=n}])}),Ig=v(Rg);Rg.VueMultiselect;const jg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionOptions=vg,t}return s(t,e),t.prototype.actionClicked=function(e){this.$emit("actionClicked",e.name)},t=c([lg({name:"search-bar",components:{Multiselect:Ig}})],t)}(i.a);var Fg=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"search-bar"},[t("multiselect",{attrs:{options:this.actionOptions,label:"label","track-by":"label",placeholder:"Search","reset-after":!0,"group-label":"type","group-values":"actions","group-select":!1},on:{select:this.actionClicked}})],1)};Fg._withStripped=!0;var Dg=Ng({render:Fg,staticRenderFns:[]},void 0,jg,void 0,!1,void 0,void 0,void 0);const $g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isActiveActionToolbarButton=-1,t}return s(t,e),t.prototype.actionClicked=function(e){this.$emit("actionClicked",e)},t.prototype.openPopover=function(e){var t=this.buttons[e];this.isActiveActionToolbarButton=e,"Aggregate"===t.label&&this.actionClicked("aggregate")},Object.defineProperty(t.prototype,"formattedButtons",{get:function(){var e=this;return this.buttons.map(function(t,r){var n=!1;return r===e.isActiveActionToolbarButton&&(n=!0),u({},t,{class:{"action-toolbar__btn--active":n,"action-toolbar__btn--disable":!t.enable},isActionToolbarMenuOpened:n})})},enumerable:!0,configurable:!0}),t.prototype.closePopover=function(){this.isActiveActionToolbarButton=-1},c([pg(Array)],t.prototype,"buttons",void 0),c([Qv.State],t.prototype,"selectedColumns",void 0),t=c([lg({name:"action-toolbar",components:{ActionToolbarButton:kg,SearchBar:Dg}})],t)}(i.a);var zg=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"action-toolbar__container"},[r("div",{staticClass:"action-toolbar"},[e._l(e.formattedButtons,function(t,n){return r("action-toolbar-button",{key:t.icon,class:t.class,attrs:{icon:t.icon,label:t.label,category:t.category,"is-active":t.isActionToolbarMenuOpened},on:{actionClicked:e.actionClicked,closed:function(t){return e.closePopover()}},nativeOn:{click:function(t){return e.openPopover(n)}}})}),e._v(" "),r("search-bar",{on:{actionClicked:e.actionClicked}})],2)])};zg._withStripped=!0;var Lg=Ng({render:zg,staticRenderFns:[]},void 0,$g,void 0,!1,void 0,void 0,void 0);const Bg={name:"data-viewer-cell",props:{value:{default:function(){return"-"}},isSelected:{type:Boolean,default:function(){return!1}}},methods:{getValue:function(e){return"object"==typeof e?JSON.stringify(e):e.toString()}}};var qg=function(e,t){return(0,t._c)("td",{class:{"data-viewer-cell":!0,"data-viewer-cell--active":t.props.isSelected}},[t._v(t._s(t.$options.methods.getValue(t.props.value)))])};qg._withStripped=!0;var Ug=Ng({render:qg,staticRenderFns:[]},void 0,Bg,void 0,!0,void 0,void 0,void 0),Vg=g(function(e,t){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var n=r(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n);e.exports=i.default},function(e,t,r){r(2);var n=r(6)(r(7),r(8),"data-v-82963a40",null);e.exports=n.exports},function(e,t,r){var n=r(3);"string"==typeof n&&(n=[[e.id,n,""]]),r(5)(n,{}),n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(4)()).push([e.id,"a[data-v-82963a40]{cursor:pointer}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(n[a]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),e.push(o))}},e}},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=u[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(o(n.parts[a],t))}else{for(var s=[],a=0;a<n.parts.length;a++)s.push(o(n.parts[a],t));u[n.id]={id:n.id,refs:1,parts:s}}}}function i(e){for(var t=[],r={},n=0;n<e.length;n++){var i=e[n],a=i[0],o=i[1],s=i[2],u=i[3],c={css:o,media:s,sourceMap:u};r[a]?r[a].parts.push(c):t.push(r[a]={id:a,parts:[c]})}return t}function a(e){var t=document.createElement("style");return t.type="text/css",function(e,t){var r=f(),n=h[h.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),h.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}(e,t),t}function o(e,t){var r,n,i;if(t.singleton){var o=m++;r=p||(p=a(t)),n=s.bind(null,r,o,!1),i=s.bind(null,r,o,!0)}else r=a(t),n=function(e,t){var r=t.css,n=t.media,i=t.sourceMap;if(n&&e.setAttribute("media",n),i&&(r+="\n/*# sourceURL="+i.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){!function(e){e.parentNode.removeChild(e);var t=h.indexOf(e);t>=0&&h.splice(t,1)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}function s(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}var u={},c=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},l=c(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=c(function(){return document.head||document.getElementsByTagName("head")[0]}),p=null,m=0,h=[];e.exports=function(e,t){void 0===(t=t||{}).singleton&&(t.singleton=l()),void 0===t.insertAt&&(t.insertAt="bottom");var r=i(e);return n(r,t),function(e){for(var a=[],o=0;o<r.length;o++){var s=r[o],c=u[s.id];c.refs--,a.push(c)}if(e){var l=i(e);n(l,t)}for(var o=0;o<a.length;o++){var c=a[o];if(0===c.refs){for(var f=0;f<c.parts.length;f++)c.parts[f]();delete u[c.id]}}}};var d=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t,r,n){var i,a=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(i=e,a=e.default);var s="function"==typeof a?a.options:a;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),r&&(s._scopeId=r),n){var u=s.computed||(s.computed={});Object.keys(n).forEach(function(e){var t=n[e];u[e]=function(){return t}})}return{esModule:i,exports:a,options:s}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:{type:Number},pageCount:{type:Number,required:!0},forcePage:{type:Number},clickHandler:{type:Function,default:function(){}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:"…"},containerClass:{type:String},pageClass:{type:String},pageLinkClass:{type:String},prevClass:{type:String},prevLinkClass:{type:String},nextClass:{type:String},nextLinkClass:{type:String},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},beforeUpdate:function(){void 0!==this.forcePage&&this.forcePage!==this.selected&&(this.selected=this.forcePage)},computed:{selected:{get:function(){return this.value||this.innerValue},set:function(e){this.innerValue=e}},pages:function(){var e=this,t={};if(this.pageCount<=this.pageRange)for(var r=0;r<this.pageCount;r++){var n={index:r,content:r+1,selected:r===this.selected-1};t[r]=n}else{for(var i=Math.floor(this.pageRange/2),a=function(r){var n={index:r,content:r+1,selected:r===e.selected-1};t[r]=n},o=function(e){t[e]={disabled:!0,breakView:!0}},s=0;s<this.marginPages;s++)a(s);var u=0;this.selected-i>0&&(u=this.selected-1-i);var c=u+this.pageRange-1;c>=this.pageCount&&(c=this.pageCount-1,u=c-this.pageRange+1);for(var l=u;l<=c&&l<=this.pageCount-1;l++)a(l);u>this.marginPages&&o(u-1),c+1<this.pageCount-this.marginPages&&o(c+1);for(var f=this.pageCount-1;f>=this.pageCount-this.marginPages;f--)a(f)}return t}},data:function(){return{innerValue:1}},methods:{handlePageSelected:function(e){this.selected!==e&&(this.innerValue=e,this.$emit("input",e),this.clickHandler(e))},prevPage:function(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage:function(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected:function(){return 1===this.selected},lastPageSelected:function(){return this.selected===this.pageCount||0===this.pageCount},selectFirstPage:function(){this.selected<=1||this.handlePageSelected(1)},selectLastPage:function(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.noLiSurround?r("div",{class:e.containerClass},[e.firstLastButton?r("a",{class:[e.pageLinkClass,e.firstPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.firstButtonText)},on:{click:function(t){e.selectFirstPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.selectFirstPage():null}}}):e._e(),e._v(" "),e.firstPageSelected()&&e.hidePrevNext?e._e():r("a",{class:[e.prevLinkClass,e.firstPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.prevText)},on:{click:function(t){e.prevPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.prevPage():null}}}),e._v(" "),e._l(e.pages,function(t){return[t.breakView?r("a",{class:[e.pageLinkClass,e.breakViewLinkClass,t.disabled?e.disabledClass:""],attrs:{tabindex:"0"}},[e._t("breakViewContent",[e._v(e._s(e.breakViewText))])],2):t.disabled?r("a",{class:[e.pageLinkClass,t.selected?e.activeClass:"",e.disabledClass],attrs:{tabindex:"0"}},[e._v(e._s(t.content))]):r("a",{class:[e.pageLinkClass,t.selected?e.activeClass:""],attrs:{tabindex:"0"},on:{click:function(r){e.handlePageSelected(t.index+1)},keyup:function(r){return"button"in r||!e._k(r.keyCode,"enter",13)?void e.handlePageSelected(t.index+1):null}}},[e._v(e._s(t.content))])]}),e._v(" "),e.lastPageSelected()&&e.hidePrevNext?e._e():r("a",{class:[e.nextLinkClass,e.lastPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.nextText)},on:{click:function(t){e.nextPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.nextPage():null}}}),e._v(" "),e.firstLastButton?r("a",{class:[e.pageLinkClass,e.lastPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.lastButtonText)},on:{click:function(t){e.selectLastPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.selectLastPage():null}}}):e._e()],2):r("ul",{class:e.containerClass},[e.firstLastButton?r("li",{class:[e.pageClass,e.firstPageSelected()?e.disabledClass:""]},[r("a",{class:e.pageLinkClass,attrs:{tabindex:e.firstPageSelected()?-1:0},domProps:{innerHTML:e._s(e.firstButtonText)},on:{click:function(t){e.selectFirstPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.selectFirstPage():null}}})]):e._e(),e._v(" "),e.firstPageSelected()&&e.hidePrevNext?e._e():r("li",{class:[e.prevClass,e.firstPageSelected()?e.disabledClass:""]},[r("a",{class:e.prevLinkClass,attrs:{tabindex:e.firstPageSelected()?-1:0},domProps:{innerHTML:e._s(e.prevText)},on:{click:function(t){e.prevPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.prevPage():null}}})]),e._v(" "),e._l(e.pages,function(t){return r("li",{class:[e.pageClass,t.selected?e.activeClass:"",t.disabled?e.disabledClass:"",t.breakView?e.breakViewClass:""]},[t.breakView?r("a",{class:[e.pageLinkClass,e.breakViewLinkClass],attrs:{tabindex:"0"}},[e._t("breakViewContent",[e._v(e._s(e.breakViewText))])],2):t.disabled?r("a",{class:e.pageLinkClass,attrs:{tabindex:"0"}},[e._v(e._s(t.content))]):r("a",{class:e.pageLinkClass,attrs:{tabindex:"0"},on:{click:function(r){e.handlePageSelected(t.index+1)},keyup:function(r){return"button"in r||!e._k(r.keyCode,"enter",13)?void e.handlePageSelected(t.index+1):null}}},[e._v(e._s(t.content))])])}),e._v(" "),e.lastPageSelected()&&e.hidePrevNext?e._e():r("li",{class:[e.nextClass,e.lastPageSelected()?e.disabledClass:""]},[r("a",{class:e.nextLinkClass,attrs:{tabindex:e.lastPageSelected()?-1:0},domProps:{innerHTML:e._s(e.nextText)},on:{click:function(t){e.nextPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.nextPage():null}}})]),e._v(" "),e.firstLastButton?r("li",{class:[e.pageClass,e.lastPageSelected()?e.disabledClass:""]},[r("a",{class:e.pageLinkClass,attrs:{tabindex:e.lastPageSelected()?-1:0},domProps:{innerHTML:e._s(e.lastButtonText)},on:{click:function(t){e.selectLastPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.selectLastPage():null}}})]):e._e()],2)},staticRenderFns:[]}}])}),Hg=v(Vg);Vg.VuejsPaginate;const Wg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this.dataset.paginationContext?Xv(this.dataset.paginationContext):1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalCount",{get:function(){return this.dataset.paginationContext?this.dataset.paginationContext.totalCount:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageRows",{get:function(){return this.dataset.paginationContext?(e=this.dataset.paginationContext,{min:(t=eg(e.pagesize,e.pageno))+1,max:e.pageno===Xv(e)?e.totalCount:t+e.pagesize}):0;var e,t},enumerable:!0,configurable:!0}),t.prototype.pageClicked=function(e){this.setCurrentPage({pageno:e})},c([Qv.State],t.prototype,"dataset",void 0),c([Qv.Mutation],t.prototype,"setCurrentPage",void 0),t=c([lg({name:"pagination",components:{Paginate:Hg}})],t)}(i.a);var Gg=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pagination"},[r("paginate",{attrs:{"page-count":e.pageCount,containerClass:"pagination__list","prev-class":"prevnext","next-class":"prevnext",clickHandler:e.pageClicked}}),e._v(" "),r("div",{staticClass:"pagination-counter"},[r("span",{staticClass:"pagination-counter__current-min"},[e._v(e._s(e.pageRows.min))]),e._v(" "),r("span",{staticClass:"pagination-counter__current-max"},[e._v(" - "+e._s(e.pageRows.max))]),e._v(" "),r("span",{staticClass:"pagination-counter__total-count"},[e._v(" of "+e._s(e.totalCount)+" rows")])])],1)};Gg._withStripped=!0;var Zg=Ng({render:Gg,staticRenderFns:[]},void 0,Wg,void 0,!1,void 0,void 0,void 0);const Jg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.indexActiveActionMenu=-1,t}return s(t,e),Object.defineProperty(t.prototype,"formattedColumns",{get:function(){var e=this;return this.columnHeaders.map(function(t,r){var n=!1;return r===e.indexActiveActionMenu&&(n=!0),{name:t.name,type:t.type||void 0,isActionMenuOpened:n,class:{"data-viewer__header-cell":!0,"data-viewer__header-cell--active":e.isSelected(t.name)}}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"buttons",{get:function(){return gg},enumerable:!0,configurable:!0}),t.prototype.openStepForm=function(e){this.createStepForm({stepName:e})},t.prototype.isSelected=function(e){return this.selectedColumns.includes(e)},t.prototype.getIconType=function(e){switch(e){case"string":return"ABC";case"integer":return"123";case"float":return"1.2";case"date":return'<i class="fas fa-calendar-alt"></i>';case"boolean":return'<i class="fas fa-check"></i>';case"object":return"{ }"}},t.prototype.openMenu=function(e){this.indexActiveActionMenu=e,this.setSelectedColumns({column:this.formattedColumns[e].name})},t.prototype.closeMenu=function(){this.indexActiveActionMenu=-1},c([Qv.State],t.prototype,"dataset",void 0),c([Qv.State],t.prototype,"isLoading",void 0),c([Qv.State],t.prototype,"pagesize",void 0),c([Qv.State],t.prototype,"selectedColumns",void 0),c([Qv.Getter("isDatasetEmpty")],t.prototype,"isEmpty",void 0),c([Qv.Getter],t.prototype,"columnHeaders",void 0),c([Qv.Mutation],t.prototype,"createStepForm",void 0),c([Qv.Mutation],t.prototype,"toggleColumnSelection",void 0),c([Qv.Mutation],t.prototype,"setSelectedColumns",void 0),t=c([lg({name:"data-viewer",components:{ActionMenu:Cg,ActionToolbar:Lg,DataViewerCell:Ug,Pagination:Zg}})],t)}(i.a);var Qg=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"data-viewer"},[r("ActionToolbar",{attrs:{buttons:e.buttons},on:{actionClicked:e.openStepForm}}),e._v(" "),e.isLoading?r("div",{staticClass:"data-viewer-loader-spinner"}):e._e(),e._v(" "),e.isEmpty||e.isLoading?e.isEmpty?r("div",[e._v("No data available")]):e._e():r("div",{staticClass:"data-viewer-container"},[r("table",{staticClass:"data-viewer-table"},[r("thead",{staticClass:"data-viewer__header"},[r("tr",e._l(e.formattedColumns,function(t,n){return r("td",{key:t.name,class:t.class,on:{click:function(r){return e.toggleColumnSelection({column:t.name})}}},[t.type?r("span",{staticClass:"data-viewer__header-icon",domProps:{innerHTML:e._s(e.getIconType(t.type))}}):e._e(),e._v(" "),r("span",{staticClass:"data-viewer__header-label"},[e._v(e._s(t.name))]),e._v(" "),r("i",{staticClass:"data-viewer__header-action fas fa-angle-down",on:{click:function(t){return t.stopPropagation(),e.openMenu(n)}}},[r("ActionMenu",{attrs:{"column-name":t.name,"is-active":t.isActionMenuOpened},on:{closed:e.closeMenu,actionClicked:e.openStepForm}})],1)])}),0)]),e._v(" "),r("tbody",{staticClass:"data-viewer__body"},e._l(e.dataset.data,function(t,n){return r("tr",{key:n,staticClass:"data-viewer__row"},e._l(t,function(t,n){return r("DataViewerCell",{key:n,attrs:{isSelected:e.isSelected(e.columnHeaders[n].name),value:t}})}),1)}),0)]),e._v(" "),e.dataset.paginationContext.totalCount>e.pagesize?r("Pagination"):e._e()],1)],1)};Qg._withStripped=!0;var Kg=Ng({render:Qg,staticRenderFns:[]},void 0,Jg,"data-v-52cc02da",!1,void 0,void 0,void 0),Yg={sum:"sum",avg:"average",count:"count",min:"min",max:"max"},Xg=", ";function ey(e){return e.map(function(e){return'"'+e+'"'}).join(Xg)}var ty=new(function(){function e(){}return e.prototype.aggregate=function(e){var t,r=ey(e.on);if(1===e.aggregations.length){var n=m(e.aggregations,1)[0];return(t=Yg[n.aggfunction])[0].toUpperCase()+t.slice(1).toLocaleLowerCase()+' of "'+n.column+'" grouped by '+r}return"Aggregate "+ey(e.aggregations.map(function(e){return e.column}))+" grouped by "+r},e.prototype.argmax=function(e){return'Keep row with maximum in column "'+e.column+'"'},e.prototype.argmin=function(e){return'Keep row with minimum in column "'+e.column+'"'},e.prototype.concatenate=function(e){return"Concatenate columns "+ey(e.columns)},e.prototype.custom=function(e){return"Custom step"},e.prototype.domain=function(e){return'Use domain "'+e.domain+'"'},e.prototype.duplicate=function(e){return'Duplicate "'+e.column+'" in "'+e.new_column_name+'"'},e.prototype.delete=function(e){return"Delete columns "+ey(e.columns)},e.prototype.fillna=function(e){return'Replace null values in "'+e.column+'" with '+e.value},e.prototype.filter=function(e){return"Keep rows where "+function e(t){if(x(t))return t.and.map(function(t){return e(t)}).join(" and ");if(w(t))return t.or.map(function(t){return e(t)}).join(" or ");switch(t.operator){case"eq":return'"'+t.column+'" = '+t.value;case"ne":return'"'+t.column+'" ≠ '+t.value;case"gt":return'"'+t.column+'" > '+t.value;case"ge":return'"'+t.column+'" ≥ '+t.value;case"lt":return'"'+t.column+'" < '+t.value;case"le":return'"'+t.column+'" ≤ '+t.value;case"in":return'"'+t.column+'" in ('+t.value.join(Xg)+")";case"nin":default:return'"'+t.column+'" not in ('+t.value.join(Xg)+")"}}(e.condition)},e.prototype.formula=function(e){return'Compute "'+e.formula+'" in "'+e.new_column+'"'},e.prototype.fromdate=function(e){return'Convert "'+e.column+'" into text'},e.prototype.lowercase=function(e){return'Convert column "'+e.column+'" to lowercase'},e.prototype.percentage=function(e){return'Compute the row-level percentage of "'+e.column+'"'},e.prototype.pivot=function(e){return'Pivot column "'+e.column_to_pivot+'"'},e.prototype.rename=function(e){return'Rename column "'+e.oldname+'" to "'+e.newname+'"'},e.prototype.replace=function(e){return 1===e.to_replace.length?"Replace "+e.to_replace[0][0]+" with "+e.to_replace[0][1]+' in column "'+e.search_column+'"':'Replace values in column "'+e.search_column+'"'},e.prototype.select=function(e){return"Keep columns "+ey(e.columns)},e.prototype.sort=function(e){return"Sort columns "+ey(e.columns.map(function(e){return e.column}))},e.prototype.split=function(e){return'Split column "'+e.column+'"'},e.prototype.substring=function(e){return'Extract substring from "'+e.column+'"'},e.prototype.todate=function(e){return'Convert "'+e.column+'" into date'},e.prototype.top=function(e){return"Keep top "+e.limit+' values in column "'+e.rank_on+'"'},e.prototype.unpivot=function(e){return"Unpivot columns "+ey(e.unpivot)},e.prototype.uppercase=function(e){return'Convert column "'+e.column+'" to uppercase'},e}());const ry={name:"delete-confirmation-modal"};var ny=function(e,t){var r=t._c;return r("div",{staticClass:"vqb-modal"},[r("div",{staticClass:"vqb-modal__backdrop"}),t._v(" "),r("div",{staticClass:"vqb-modal__container"},[r("div",{staticClass:"vqb-modal__body",staticStyle:{width:"500px"}},[r("i",{staticClass:"vqb-modal__close fas fa-times",on:{click:t.listeners.cancelDelete}}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),r("div",{staticClass:"vqb-modal__footer"},[r("div",{staticClass:"vqb-modal__action vqb-modal__action--secondary",on:{click:t.listeners.cancelDelete}},[t._v("cancel")]),t._v(" "),r("div",{staticClass:"vqb-modal__action vqb-modal__action--primary",on:{click:t.listeners.validateDelete}},[t._v("confirm")])])])])])};ny._withStripped=!0;var iy=Ng({render:ny,staticRenderFns:[function(e,t){var r=t._c;return r("div",{staticClass:"vqb-modal__header"},[r("div",{staticClass:"vqb-modal__title"},[t._v("Delete this step?")])])},function(e,t){var r=t._c;return r("div",{staticClass:"vqb-modal__section"},[r("div",{staticClass:"vqb-modal__text"},[t._v("Are you sure you want to delete this step?")]),t._v(" "),r("strong",{staticClass:"vqb-modal__text"},[t._v("\n          This action cannot be undone and may create\n          conflicts with following steps if any.\n        ")])])}]},void 0,ry,"data-v-c925714a",!0,void 0,void 0,void 0);const ay=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.deleteConfirmationModalIsOpened=!1,t}return s(t,e),t.prototype.stepLabel=function(){return e=this.step,(0,ty[e.name])(e);var e},Object.defineProperty(t.prototype,"classContainer",{get:function(){return{"query-pipeline-step__container":!0,"query-pipeline-step__container--active":this.isActive,"query-pipeline-step__container--last-active":this.isLastActive,"query-pipeline-step__container--disabled":this.isDisabled}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstStrokeClass",{get:function(){return{"query-pipeline-queue__stroke":!0,"query-pipeline-queue__stroke--hidden":this.isFirst}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastStrokeClass",{get:function(){return{"query-pipeline-queue__stroke":!0,"query-pipeline-queue__stroke--hidden":this.isLast}},enumerable:!0,configurable:!0}),t.prototype.deleteThisStep=function(){this.toggleDeleteConfirmationModal(),this.deleteStep({index:this.indexInPipeline})},t.prototype.editStep=function(){this.$emit("editStep",this.stepConfig(this.indexInPipeline),this.indexInPipeline)},t.prototype.select=function(){this.$emit("selectedStep")},t.prototype.toggleDeleteConfirmationModal=function(){this.deleteConfirmationModalIsOpened=!this.deleteConfirmationModalIsOpened},c([pg(Boolean)],t.prototype,"isFirst",void 0),c([pg(Boolean)],t.prototype,"isLast",void 0),c([pg(Boolean)],t.prototype,"isActive",void 0),c([pg(Boolean)],t.prototype,"isLastActive",void 0),c([pg(Boolean)],t.prototype,"isDisabled",void 0),c([pg()],t.prototype,"step",void 0),c([pg()],t.prototype,"indexInPipeline",void 0),c([Qv.Mutation],t.prototype,"deleteStep",void 0),c([Qv.Getter],t.prototype,"stepConfig",void 0),t=c([lg({name:"step",components:{DeleteConfirmationModal:iy}})],t)}(i.a);var oy=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.classContainer,on:{click:function(t){return e.select()}}},[r("div",{staticClass:"query-pipeline-queue"},[r("div",{class:e.firstStrokeClass}),e._v(" "),e._m(0),e._v(" "),r("div",{class:e.lastStrokeClass})]),e._v(" "),r("div",{staticClass:"query-pipeline-step"},[r("span",{staticClass:"query-pipeline-step__name",attrs:{title:e.stepLabel()}},[e._v(e._s(e.stepLabel()))]),e._v(" "),r("div",{staticClass:"query-pipeline-step__actions"},[r("div",{staticClass:"query-pipeline-step__action",on:{click:function(t){return t.stopPropagation(),e.editStep()}}},[r("i",{staticClass:"fas fa-cog"})]),e._v(" "),e.isFirst?e._e():r("div",{staticClass:"query-pipeline-step__action",on:{click:e.toggleDeleteConfirmationModal}},[r("i",{staticClass:"fas fa-trash-alt"})])])]),e._v(" "),e.deleteConfirmationModalIsOpened?r("DeleteConfirmationModal",{on:{cancelDelete:e.toggleDeleteConfirmationModal,validateDelete:e.deleteThisStep}}):e._e()],1)};oy._withStripped=!0;var sy=Ng({render:oy,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"query-pipeline-queue__dot"},[t("div",{staticClass:"query-pipeline-queue__dot-ink"})])}]},void 0,ay,"data-v-4654baaa",!1,void 0,void 0,void 0);const uy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.editStep=function(e,t){this.$emit("editStep",e,t)},c([Qv.State("pipeline")],t.prototype,"steps",void 0),c([Qv.State],t.prototype,"domains",void 0),c([Qv.Getter],t.prototype,"activePipeline",void 0),c([Qv.Getter("computedActiveStepIndex")],t.prototype,"activeStepIndex",void 0),c([Qv.Getter],t.prototype,"domainStep",void 0),c([Qv.Getter("isPipelineEmpty")],t.prototype,"onlyDomainStepIsPresent",void 0),c([Qv.Getter("isStepDisabled")],t.prototype,"isDisabled",void 0),c([Qv.Mutation],t.prototype,"selectStep",void 0),t=c([lg({name:"pipeline",components:{Step:sy}})],t)}(i.a);var cy=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"query-pipeline"},[e._l(e.steps,function(t,n){return r("Step",{key:n,attrs:{"is-active":n<e.activeStepIndex,"is-last-active":n===e.activeStepIndex,"is-disabled":e.isDisabled(n),"is-first":0===n,"is-last":n===e.steps.length-1,step:t,indexInPipeline:n},on:{selectedStep:function(t){return e.selectStep({index:n})},editStep:e.editStep}})}),e._v(" "),e._m(0)],2)};cy._withStripped=!0;var ly=Ng({render:cy,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"query-pipeline__tips-container"},[t("div",{staticClass:"query-pipeline__tips"},[this._v("Interact with the widgets and table on the right to add steps")]),this._v(" "),t("i",{staticClass:"fas fa-magic"})])}]},void 0,uy,"data-v-1a0c1baa",!1,void 0,void 0,void 0);var fy=Ng({},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),Object.defineProperty(t.prototype,"error",{get:function(){var e=this;return null===this.errors||void 0===this.errors?void 0:this.errors.find(function(t){return t.dataPath==e.dataPath})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"messageError",{get:function(){return void 0!==this.error?this.error.message:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleClassError",{get:function(){return{"field--error":void 0!==this.messageError&&null!==this.messageError}},enumerable:!0,configurable:!0}),c([pg({type:String})],t.prototype,"dataPath",void 0),c([pg({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),t=c([lg({name:"form-widget"})],t)}(i.a),void 0,void 0,void 0,void 0,void 0);const py=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editedValue="",t}return s(t,e),t.prototype.updateEditedValue=function(e){this.editedValue=e},t.prototype.updateValue=function(e){this.$emit("input",e)},c([pg({type:String,default:null})],t.prototype,"id",void 0),c([pg({type:String,default:""})],t.prototype,"name",void 0),c([pg({type:String,default:""})],t.prototype,"placeholder",void 0),c([pg({default:""})],t.prototype,"value",void 0),c([pg({type:Array,default:function(){return[]}})],t.prototype,"options",void 0),c([pg({type:String,default:void 0})],t.prototype,"trackBy",void 0),c([pg({type:String,default:void 0})],t.prototype,"label",void 0),c([mg("value",{immediate:!0})],t.prototype,"updateEditedValue",null),c([mg("editedValue")],t.prototype,"updateValue",null),t=c([lg({name:"autocomplete-widget",components:{Multiselect:Ig}})],t)}(og(fy));var my=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-autocomplete__container",class:e.toggleClassError},[e.name?r("label",{staticClass:"widget-autocomplete__label",attrs:{for:e.id}},[e._v(e._s(e.name))]):e._e(),e._v(" "),r("multiselect",{attrs:{options:e.options,placeholder:e.placeholder,"allow-empty":!1,"track-by":e.trackBy,label:e.label},model:{value:e.editedValue,callback:function(t){e.editedValue=t},expression:"editedValue"}}),e._v(" "),e.messageError?r("div",{staticClass:"field__msg-error"},[r("span",{staticClass:"fa fa-exclamation-circle"}),e._v(e._s(e.messageError))]):e._e()],1)};my._withStripped=!0;var hy=Ng({render:my,staticRenderFns:[]},void 0,py,void 0,!1,void 0,void 0,void 0);const dy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aggregation=u({},t.value),t.aggregationFunctions=["sum","avg","count","min","max"],t}return s(t,e),t.prototype.onAggregationChanged=function(e,t){b.isEqual(e,t)||this.$emit("input",this.aggregation)},c([pg({type:String,default:null})],t.prototype,"dataPath",void 0),c([pg({type:Object,default:function(){return{column:"",aggfunction:"sum",newcolumn:""}}})],t.prototype,"value",void 0),c([pg({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),c([Qv.Getter],t.prototype,"columnNames",void 0),c([mg("aggregation",{immediate:!0,deep:!0})],t.prototype,"onAggregationChanged",null),t=c([lg({name:"aggregation-widget",components:{AutocompleteWidget:hy}})],t)}(i.a);var vy=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fieldset",{staticClass:"widget-aggregation__container"},[r("AutocompleteWidget",{attrs:{id:"columnInput",options:e.columnNames,name:"Column:",placeholder:"Enter a column","data-path":e.dataPath+".column",errors:e.errors},model:{value:e.aggregation.column,callback:function(t){e.$set(e.aggregation,"column",t)},expression:"aggregation.column"}}),e._v(" "),r("AutocompleteWidget",{attrs:{id:"aggregationFunctionInput",name:"Function:",options:e.aggregationFunctions,placeholder:"Aggregation function","data-path":e.dataPath+".aggfunction",errors:e.errors},model:{value:e.aggregation.aggfunction,callback:function(t){e.$set(e.aggregation,"aggfunction",t)},expression:"aggregation.aggfunction"}})],1)};vy._withStripped=!0;var gy=Ng({render:vy,staticRenderFns:[]},void 0,dy,"data-v-5a532f32",!1,void 0,void 0,void 0);const yy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editedValue=[],t}return s(t,e),t.prototype.updateEditedValue=function(e){this.editedValue=e},t.prototype.updateValue=function(e){this.$emit("input",e)},c([pg({type:String,default:null})],t.prototype,"id",void 0),c([pg({type:String,default:""})],t.prototype,"name",void 0),c([pg({type:String,default:""})],t.prototype,"placeholder",void 0),c([pg({type:Array,default:function(){return[]}})],t.prototype,"value",void 0),c([pg({type:Array,default:function(){return[]}})],t.prototype,"options",void 0),c([mg("value",{immediate:!0})],t.prototype,"updateEditedValue",null),c([mg("editedValue")],t.prototype,"updateValue",null),t=c([lg({name:"multiselect-widget",components:{Multiselect:Ig}})],t)}(og(fy));var by=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-multiselect__container",class:e.toggleClassError},[r("label",{staticClass:"widget-multiselect__label",attrs:{for:e.id}},[e._v(e._s(e.name))]),e._v(" "),r("multiselect",{attrs:{options:e.options,placeholder:e.placeholder,multiple:!0,taggable:!0,"close-on-select":!1},model:{value:e.editedValue,callback:function(t){e.editedValue=t},expression:"editedValue"}}),e._v(" "),e.messageError?r("div",{staticClass:"field__msg-error"},[r("span",{staticClass:"fa fa-exclamation-circle"}),e._v(e._s(e.messageError))]):e._e()],1)};by._withStripped=!0;var xy=Ng({render:by,staticRenderFns:[]},void 0,yy,void 0,!1,void 0,void 0,void 0);const wy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFocused=!1,t}return s(t,e),Object.defineProperty(t.prototype,"elementClass",{get:function(){return{"widget-input-text":!0,"widget-input-text--focused":this.isFocused}},enumerable:!0,configurable:!0}),t.prototype.blur=function(){this.isFocused=!1},t.prototype.focus=function(){this.isFocused=!0},t.prototype.updateValue=function(e){this.$emit("input",e)},c([pg({type:String,default:null})],t.prototype,"id",void 0),c([pg({type:String,default:""})],t.prototype,"name",void 0),c([pg({type:String,default:""})],t.prototype,"placeholder",void 0),c([pg({default:""})],t.prototype,"value",void 0),t=c([lg({name:"input-text-widget"})],t)}(og(fy));var _y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-input-text__container",class:e.toggleClassError},[e.name?r("label",{attrs:{for:e.id}},[e._v(e._s(e.name))]):e._e(),e._v(" "),r("input",{class:e.elementClass,attrs:{id:e.id,placeholder:e.placeholder,type:"text"},domProps:{value:e.value},on:{blur:function(t){return e.blur()},focus:function(t){return e.focus()},input:function(t){return e.updateValue(t.target.value)}}}),e._v(" "),e.messageError?r("div",{staticClass:"field__msg-error"},[r("span",{staticClass:"fa fa-exclamation-circle"}),e._v(e._s(e.messageError))]):e._e()])};_y._withStripped=!0;var Ny=Ng({render:_y,staticRenderFns:[]},void 0,wy,"data-v-14d7f26e",!1,void 0,void 0,void 0);const Ey=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),Object.defineProperty(t.prototype,"children",{get:function(){var e=h(this.value);return this.automaticNewField&&e.push(this.defaultChildValue),e.map(function(t){return{isRemovable:1!==e.length,value:t}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultChildValue",{get:function(){return this.defaultItem?this.defaultItem:this.widget===Ny?"":[]},enumerable:!0,configurable:!0}),t.prototype.addFieldSet=function(){this.updateValue(h(this.value,[b.cloneDeep(this.defaultChildValue)]))},t.prototype.removeChild=function(e){var t=h(this.value);t.splice(e,1),this.updateValue(t)},t.prototype.updateChildValue=function(e,t){var r=h(this.value);this.value.length<t?r.push(e):r[t]=e,this.updateValue(r)},t.prototype.updateValue=function(e){this.$emit("input",e)},c([pg({type:String,default:""})],t.prototype,"addFieldName",void 0),c([pg({type:Object,default:function(){}})],t.prototype,"componentProps",void 0),c([pg({type:String,default:null})],t.prototype,"id",void 0),c([pg({type:String,default:""})],t.prototype,"name",void 0),c([pg({type:String,default:null})],t.prototype,"separatorLabel",void 0),c([pg({type:Array,default:function(){return[]}})],t.prototype,"value",void 0),c([pg({type:Function,default:Ny})],t.prototype,"widget",void 0),c([pg({type:Boolean,default:!0})],t.prototype,"automaticNewField",void 0),c([pg({default:null})],t.prototype,"defaultItem",void 0),c([pg({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),c([pg({default:null})],t.prototype,"dataPath",void 0),t=c([lg({name:"list-widget"})],t)}(og(fy));var Sy=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-list__container",class:e.toggleClassError},[r("label",{attrs:{for:e.id}},[e._v(e._s(e.name))]),e._v(" "),r("div",{staticClass:"widget-list__body"},[e._l(e.children,function(t,n){return r("div",{key:n,staticClass:"widget-list__child"},[n>0&&e.separatorLabel?r("span",{staticClass:"widget-list__component-sep"},[e._v(e._s(e.separatorLabel))]):e._e(),e._v(" "),r("div",{staticClass:"widget-list__component"},[r(e.widget,e._b({tag:"component",attrs:{value:t.value,"data-path":e.dataPath+"["+n+"]",errors:e.errors},on:{input:function(t){return e.updateChildValue(t,n)}}},"component",e.componentProps,!1))],1),e._v(" "),t.isRemovable?r("div",{staticClass:"widget-list__icon",on:{click:function(t){return e.removeChild(n)}}},[r("i",{staticClass:"far fa-trash-alt"})]):e._e()])}),e._v(" "),e.messageError?r("div",{staticClass:"field__msg-error"},[r("span",{staticClass:"fa fa-exclamation-circle"}),e._v("\n      "+e._s(e.messageError)+"\n    ")]):e._e(),e._v(" "),e.automaticNewField?e._e():r("button",{staticClass:"widget-list__add-fieldset",on:{click:e.addFieldSet}},[r("i",{staticClass:"fas fa-plus-circle"}),e._v("\n      "+e._s(e.addFieldName)+"\n    ")])],2)])};Sy._withStripped=!0;var My=Ng({render:Sy,staticRenderFns:[]},void 0,Ey,"data-v-63b974e5",!1,void 0,void 0,void 0),Ay=g(function(e,t){!function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function a(e){var n=t("[0-9]","[A-Fa-f]"),i=r(r("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+r("%[89A-Fa-f]"+n+"%"+n+n)+"|"+r("%"+n+n)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=t("[\\:\\/\\?\\#\\[\\]\\@]",a),s=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",u=e?"[\\uE000-\\uF8FF]":"[]",c=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",s),l=(r("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),r(r(i+"|"+t(c,a,"[\\:]"))+"*"),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?[0-9]")),f=r(l+"\\."+l+"\\."+l+"\\."+l),p=r(n+"{1,4}"),m=r(r(p+"\\:"+p)+"|"+f),h=r(r(p+"\\:")+"{6}"+m),d=r("\\:\\:"+r(p+"\\:")+"{5}"+m),v=r(r(p)+"?\\:\\:"+r(p+"\\:")+"{4}"+m),g=r(r(r(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+r(p+"\\:")+"{3}"+m),y=r(r(r(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+r(p+"\\:")+"{2}"+m),b=r(r(r(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+m),x=r(r(r(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+m),w=r(r(r(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),_=r(r(r(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),N=r([h,d,v,g,y,b,x,w,_].join("|")),E=r(r(c+"|"+i)+"+"),S=(r("[vV]"+n+"+\\."+t(c,a,"[\\:]")+"+"),r(r(i+"|"+t(c,a))+"*"),r(i+"|"+t(c,a,"[\\:\\@]")));return r(r(i+"|"+t(c,a,"[\\@]"))+"+"),r(r(S+"|"+t("[\\/\\?]",u))+"*"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,a),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,o),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+N+")"+r(r("\\%25|\\%(?!"+n+"{2})")+"("+E+")")+"?\\]?$")}}var o=a(!1),s=a(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,l=/^xn--/,f=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,d=String.fromCharCode;function v(e){throw new RangeError(m[e])}function g(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var i=(e=e.replace(p,".")).split("."),a=function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}(i,t).join(".");return n+a}function y(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),r--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},x=function(e,t,r){var n=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;n+=36)e=h(e/35);return h(n+36*e/(e+38))},w=function(e){var t,r=[],n=e.length,i=0,a=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&v("not-basic"),r.push(e.charCodeAt(u));for(var l=s>0?s+1:0;l<n;){for(var f=i,p=1,m=36;;m+=36){l>=n&&v("invalid-input");var d=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(d>=36||d>h((c-i)/p))&&v("overflow"),i+=d*p;var g=m<=o?1:m>=o+26?26:m-o;if(d<g)break;var y=36-g;p>h(c/y)&&v("overflow"),p*=y}var b=r.length+1;o=x(i-f,b,0==f),h(i/b)>c-a&&v("overflow"),a+=h(i/b),i%=b,r.splice(i++,0,a)}return String.fromCodePoint.apply(String,r)},_=function(e){var t=[],r=(e=y(e)).length,n=128,i=0,a=72,o=!0,s=!1,u=void 0;try{for(var l,f=e[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var p=l.value;p<128&&t.push(d(p))}}catch(e){s=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(s)throw u}}var m=t.length,g=m;for(m&&t.push("-");g<r;){var w=c,_=!0,N=!1,E=void 0;try{for(var S,M=e[Symbol.iterator]();!(_=(S=M.next()).done);_=!0){var A=S.value;A>=n&&A<w&&(w=A)}}catch(e){N=!0,E=e}finally{try{!_&&M.return&&M.return()}finally{if(N)throw E}}var O=g+1;w-n>h((c-i)/O)&&v("overflow"),i+=(w-n)*O,n=w;var C=!0,P=!1,T=void 0;try{for(var k,R=e[Symbol.iterator]();!(C=(k=R.next()).done);C=!0){var I=k.value;if(I<n&&++i>c&&v("overflow"),I==n){for(var j=i,F=36;;F+=36){var D=F<=a?1:F>=a+26?26:F-a;if(j<D)break;var $=j-D,z=36-D;t.push(d(b(D+$%z,0))),j=h($/z)}t.push(d(b(j,0))),a=x(i,O,g==m),i=0,++g}}}catch(e){P=!0,T=e}finally{try{!C&&R.return&&R.return()}finally{if(P)throw T}}++i,++n}return t.join("")},N={version:"2.1.0",ucs2:{decode:y,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}},decode:w,encode:_,toASCII:function(e){return g(e,function(e){return f.test(e)?"xn--"+_(e):e})},toUnicode:function(e){return g(e,function(e){return l.test(e)?w(e.slice(4).toLowerCase()):e})}},E={};function S(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function M(e){for(var t="",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var a=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&a)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var o=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function A(e,t){function r(e){var r=M(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,S).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,S).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,S).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,S).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,S).replace(t.PCT_ENCODED,i)),e}function O(e){return e.replace(/^0*(.*)/,"$1")||"0"}function C(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=u(r,2),i=n[1];return i?i.split(".").map(O).join("."):e}function P(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=u(r,3),i=n[1],a=n[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),s=u(o,2),c=s[0],l=s[1],f=l?l.split(":").map(O):[],p=c.split(":").map(O),m=t.IPV4ADDRESS.test(p[p.length-1]),h=m?7:8,d=p.length-h,v=Array(h),g=0;g<h;++g)v[g]=f[g]||p[d+g]||"";m&&(v[h-1]=C(v[h-1],t));var y=v.reduce(function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e},[]),b=y.sort(function(e,t){return t.length-e.length})[0],x=void 0;if(b&&b.length>1){var w=v.slice(0,b.index),_=v.slice(b.index+b.length);x=w.join(":")+"::"+_.join(":")}else x=v.join(":");return a&&(x+="%"+a),x}return e}var T=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,k=void 0==="".match(/(){0}/)[1];function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?s:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(T);if(i){k?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=P(C(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var a=E[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)A(r,n);else{if(r.host&&(t.domainHost||a&&a.domainHost))try{r.host=N.toASCII(r.host.replace(n.PCT_ENCODED,M).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}A(r,o)}a&&a.parse&&a.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var I=/^\.\.?\//,j=/^\/\.(\/|$)/,F=/^\/\.\.(\/|$)/,D=/^\/?(?:.|\n)*?(?=\/|$)/;function $(e){for(var t=[];e.length;)if(e.match(I))e=e.replace(I,"");else if(e.match(j))e=e.replace(j,"/");else if(e.match(F))e=e.replace(F,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(D);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:o,n=[],i=E[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?N.toUnicode(e.host):N.toASCII(e.host.replace(r.PCT_ENCODED,M).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}A(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var a=function(e,t){var r=!1!==t.iri?s:o,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(P(C(String(e.host),r),r).replace(r.IPV6ADDRESS,function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"})),"number"==typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}(e,t);if(void 0!==a&&("suffix"!==t.reference&&n.push("//"),n.push(a),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||i&&i.absolutePath||(u=$(u)),void 0===a&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function L(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],i={};return n||(e=R(z(e,r),r),t=R(z(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=$(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=$(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=$(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=$(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function B(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:o.PCT_ENCODED,M)}var q={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},U={scheme:"https",domainHost:q.domainHost,parse:q.parse,serialize:q.serialize},V={},H="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",W="[0-9A-Fa-f]",G=r(r("%[EFef][0-9A-Fa-f]%"+W+W+"%"+W+W)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+W+W)+"|"+r("%"+W+W)),Z=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),J=new RegExp(H,"g"),Q=new RegExp(G,"g"),K=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Z),"g"),Y=new RegExp(t("[^]",H,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),X=Y;function ee(e){var t=M(e);return t.match(J)?t:e}var te={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,a={},o=r.query.split("&"),s=0,u=o.length;s<u;++s){var c=o[s].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),f=0,p=l.length;f<p;++f)n.push(l[f]);break;case"subject":r.subject=B(c[1],t);break;case"body":r.body=B(c[1],t);break;default:i=!0,a[B(c[0],t)]=B(c[1],t)}}i&&(r.headers=a)}r.query=void 0;for(var m=0,h=n.length;m<h;++m){var d=n[m].split("@");if(d[0]=B(d[0]),t.unicodeSupport)d[1]=B(d[1],t).toLowerCase();else try{d[1]=N.toASCII(B(d[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[m]=d.join("@")}return r},serialize:function(e,t){var r,n=e,a=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(a){for(var o=0,s=a.length;o<s;++o){var u=String(a[o]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(Q,ee).replace(Q,i).replace(K,S),f=u.slice(c+1);try{f=t.iri?N.toUnicode(f):N.toASCII(B(f,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}a[o]=l+"@"+f}n.path=a.join(",")}var p=e.headers=e.headers||{};e.subject&&(p.subject=e.subject),e.body&&(p.body=e.body);var m=[];for(var h in p)p[h]!==V[h]&&m.push(h.replace(Q,ee).replace(Q,i).replace(Y,S)+"="+p[h].replace(Q,ee).replace(Q,i).replace(X,S));return m.length&&(n.query=m.join("&")),n}},re=/^([^\:]+)\:(.*)/,ne={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(re),n=e;if(r){var i=t.scheme||n.scheme||"urn",a=r[1].toLowerCase(),o=r[2],s=i+":"+(t.nid||a),u=E[s];n.nid=a,n.nss=o,n.path=void 0,u&&(n=u.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),a=E[i];a&&(e=a.serialize(e,t));var o=e,s=e.nss;return o.path=(n||t.nid)+":"+s,o}},ie=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ae={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ie)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};E[q.scheme]=q,E[U.scheme]=U,E[te.scheme]=te,E[ne.scheme]=ne,E[ae.scheme]=ae,e.SCHEMES=E,e.pctEncChar=S,e.pctDecChars=M,e.parse=R,e.removeDotSegments=$,e.serialize=z,e.resolveComponents=L,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return z(L(R(e,n),R(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=z(R(e,t),t):"object"===n(e)&&(e=R(z(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=z(R(e,r),r):"object"===n(e)&&(e=z(e,r)),"string"==typeof t?t=z(R(t,r),r):"object"===n(t)&&(t=z(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:o.ESCAPE,S)},e.unescapeComponent=B,Object.defineProperty(e,"__esModule",{value:!0})}(t)});v(Ay);var Oy=Array.isArray,Cy=Object.keys,Py=Object.prototype.hasOwnProperty,Ty=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){var n,i,a,o=Oy(t),s=Oy(r);if(o&&s){if((i=t.length)!=r.length)return!1;for(n=i;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(o!=s)return!1;var u=t instanceof Date,c=r instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==r.getTime();var l=t instanceof RegExp,f=r instanceof RegExp;if(l!=f)return!1;if(l&&f)return t.toString()==r.toString();var p=Cy(t);if((i=p.length)!==Cy(r).length)return!1;for(n=i;0!=n--;)if(!Py.call(r,p[n]))return!1;for(n=i;0!=n--;)if(!e(t[a=p[n]],r[a]))return!1;return!0}return t!=t&&r!=r},ky={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:Ry,checkDataTypes:function(e,t){switch(e.length){case 1:return Ry(e[0],t,!0);default:var r="",n=jy(e);for(var i in n.array&&n.object&&(r=n.null?"(":"(!"+t+" || ",r+="typeof "+t+' !== "object")',delete n.null,delete n.array,delete n.object),n.number&&delete n.integer,n)r+=(r?" && ":"")+Ry(i,t,!0);return r}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var i=t[n];Iy[i]?r[r.length]=i:"array"===e&&"array"===i&&(r[r.length]=i)}if(r.length)return r}else{if(Iy[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:jy,getProperty:$y,escapeQuotes:zy,equal:Ty,ucs2length:function(e){for(var t,r=0,n=e.length,i=0;i<n;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<n&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return r},varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},cleanUpCode:function(e){return e.replace(Ly,"").replace(By,"").replace(qy,"if (!($1))")},finalCleanUpCode:function(e,t){var r=e.match(Uy);r&&2==r.length&&(e=t?e.replace(Hy,"").replace(Zy,Jy):e.replace(Vy,"").replace(Wy,Gy));return(r=e.match(Qy))&&3===r.length?e.replace(Ky,""):e},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var n in e)if(n!=r&&t[n])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var r in e)if(!t[r])return r},toQuotedString:Yy,getPathExpr:function(e,t,r,n){return tb(e,r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){var n=Yy(r?"/"+rb(t):$y(t));return tb(e,n)},getData:function(e,t,r){var n,i,a,o;if(""===e)return"rootData";if("/"==e[0]){if(!Xy.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,a="rootData"}else{if(!(o=e.match(eb)))throw new Error("Invalid JSON-pointer: "+e);if(n=+o[1],"#"==(i=o[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(a="data"+(t-n||""),!i)return a}for(var s=a,u=i.split("/"),c=0;c<u.length;c++){var l=u[c];l&&(a+=$y(nb(l)),s+=" && "+a)}return s},unescapeFragment:function(e){return nb(decodeURIComponent(e))},unescapeJsonPointer:nb,escapeFragment:function(e){return encodeURIComponent(rb(e))},escapeJsonPointer:rb};function Ry(e,t,r){var n=r?" !== ":" === ",i=r?" || ":" && ",a=r?"!":"",o=r?"":"!";switch(e){case"null":return t+n+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+i+"typeof "+t+n+'"object"'+i+o+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+n+'"number"'+i+o+"("+t+" % 1)"+i+t+n+t+")";default:return"typeof "+t+n+'"'+e+'"'}}var Iy=jy(["string","number","integer","boolean","null"]);function jy(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var Fy=/^[a-z$_][a-z$_0-9]*$/i,Dy=/'|\\/g;function $y(e){return"number"==typeof e?"["+e+"]":Fy.test(e)?"."+e:"['"+zy(e)+"']"}function zy(e){return e.replace(Dy,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var Ly=/else\s*{\s*}/g,By=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,qy=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var Uy=/[^v.]errors/g,Vy=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,Hy=/var errors = 0;|var vErrors = null;/g,Wy="return errors === 0;",Gy="validate.errors = null; return true;",Zy=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,Jy="return data;",Qy=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,Ky=/if \(rootData === undefined\) rootData = data;/;function Yy(e){return"'"+zy(e)+"'"}var Xy=/^\/(?:[^~]|~0|~1)*$/,eb=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function tb(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function rb(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function nb(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var ib=function(e){ky.copy(e,this)};var ab=g(function(e){var t=e.exports=function(e,r,n){"function"==typeof r&&(n=r,r={}),function e(r,n,i,a,o,s,u,c,l,f){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var p in n(a,o,s,u,c,l,f),a){var m=a[p];if(Array.isArray(m)){if(p in t.arrayKeywords)for(var h=0;h<m.length;h++)e(r,n,i,m[h],o+"/"+p+"/"+h,s,o,p,a,h)}else if(p in t.propsKeywords){if(m&&"object"==typeof m)for(var d in m)e(r,n,i,m[d],o+"/"+p+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,p,a,d)}else(p in t.keywords||r.allKeys&&!(p in t.skipKeywords))&&e(r,n,i,m,o+"/"+p,s,o,p,a)}i(a,o,s,u,c,l,f)}}(r,"function"==typeof(n=r.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}}),ob=sb;function sb(e,t,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return sb.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof ib)return pb(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,a,o,s=ub.call(this,t,r);return s&&(i=s.schema,t=s.root,o=s.baseId),i instanceof ib?a=i.validate||e.call(this,i.schema,t,void 0,o):void 0!==i&&(a=pb(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,o)),a}function ub(e,t){var r=Ay.parse(t),n=hb(r),i=mb(this._getId(e.schema));if(0===Object.keys(e.schema).length||n!==i){var a=vb(n),o=this._refs[a];if("string"==typeof o)return function(e,t,r){var n=ub.call(this,e,t);if(n){var i=n.schema,a=n.baseId;e=n.root;var o=this._getId(i);return o&&(a=gb(a,o)),lb.call(this,r,a,i,e)}}.call(this,e,o,r);if(o instanceof ib)o.validate||this._compile(o),e=o;else{if(!((o=this._schemas[a])instanceof ib))return;if(o.validate||this._compile(o),a==vb(t))return{schema:o,root:e,baseId:i};e=o}if(!e.schema)return;i=mb(this._getId(e.schema))}return lb.call(this,r,i,e.schema,e)}sb.normalizeId=vb,sb.fullPath=mb,sb.url=gb,sb.ids=function(e){var t=vb(this._getId(e)),r={"":t},n={"":mb(t,!1)},i={},a=this;return ab(e,{allKeys:!0},function(e,t,o,s,u,c,l){if(""!==t){var f=a._getId(e),p=r[s],m=n[s]+"/"+u;if(void 0!==l&&(m+="/"+("number"==typeof l?l:ky.escapeFragment(l))),"string"==typeof f){f=p=vb(p?Ay.resolve(p,f):f);var h=a._refs[f];if("string"==typeof h&&(h=a._refs[h]),h&&h.schema){if(!Ty(e,h.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=vb(m))if("#"==f[0]){if(i[f]&&!Ty(e,i[f]))throw new Error('id "'+f+'" resolves to more than one schema');i[f]=e}else a._refs[f]=m}r[t]=p,n[t]=m}}),i},sb.inlineRef=pb,sb.schema=ub;var cb=ky.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function lb(e,t,r,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var o=i[a];if(o){if(void 0===(r=r[o=ky.unescapeFragment(o)]))break;var s;if(!cb[o]&&((s=this._getId(r))&&(t=gb(t,s)),r.$ref)){var u=gb(t,r.$ref),c=ub.call(this,n,u);c&&(r=c.schema,n=c.root,t=c.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:t}:void 0}}var fb=ky.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function pb(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var r;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(r=t[n])&&!e(r))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(r=t[i])&&!e(r))return!1}return!0}(e):t?function e(t){var r,n=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(r=t[i])&&(n+=e(r)),n==1/0)return 1/0}else for(var a in t){if("$ref"==a)return 1/0;if(fb[a])n++;else if("object"==typeof(r=t[a])&&(n+=e(r)+1),n==1/0)return 1/0}return n}(e)<=t:void 0)}function mb(e,t){return!1!==t&&(e=vb(e)),hb(Ay.parse(e))}function hb(e){return Ay.serialize(e).split("#")[0]+"#"}var db=/#\/?$/;function vb(e){return e?e.replace(db,""):""}function gb(e,t){return t=vb(t),Ay.resolve(e,t)}var yb={Validation:xb(function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}),MissingRef:xb(bb)};function bb(e,t,r){this.message=r||bb.message(e,t),this.missingRef=ob.url(e,t),this.missingSchema=ob.normalizeId(ob.fullPath(this.missingRef))}function xb(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}bb.message=function(e,t){return"can't resolve reference "+t+" from id "+e};var wb=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},a={key:n,value:e[n]};return r(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,o;if(Array.isArray(t)){for(o="[",r=0;r<t.length;r++)r&&(o+=","),o+=e(t[r])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=a.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(o="",r=0;r<u.length;r++){var c=u[r],l=e(t[c]);l&&(o&&(o+=","),o+=JSON.stringify(c)+":"+l)}return a.splice(s,1),"{"+o+"}"}}(e)},_b=function(e,t,r){var n="",i=!0===e.schema.$async,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var u="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(n+=" var validate = ",i&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!a&&!e.schema.$ref){var c=e.level,l=e.dataLevel,f=e.schema["false schema"],p=e.schemaPath+e.util.getProperty("false schema"),m=e.errSchemaPath+"/false schema",h=!e.opts.allErrors,d="data"+(l||""),v="valid"+c;if(!1===e.schema){e.isTop?h=!0:n+=" var "+v+" = false; ",(K=K||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var g=n;n=K.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=i?" return data; ":" validate.errors = null; return true; ":n+=" var "+v+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var y=e.isTop;c=e.level=0,l=e.dataLevel=0,d="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{c=e.level,d="data"+((l=e.dataLevel)||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+c+" = errors;"}v="valid"+c,h=!e.opts.allErrors;var x="",w="",_=e.schema.type,N=Array.isArray(_);if(_&&e.opts.nullable&&!0===e.schema.nullable&&(N?-1==_.indexOf("null")&&(_=_.concat("null")):"null"!=_&&(_=[_,"null"],N=!0)),N&&1==_.length&&(_=_[0],N=!1),e.schema.$ref&&a){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),_){if(e.opts.coerceTypes)var E=e.util.coerceToTypes(e.opts.coerceTypes,_);var S=e.RULES.types[_];if(E||N||!0===S||S&&!Y(S)){p=e.schemaPath+".type",m=e.errSchemaPath+"/type",p=e.schemaPath+".type",m=e.errSchemaPath+"/type";var M=N?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[M](_,d,!0)+") { ",E){var A="dataType"+c,O="coerced"+c;n+=" var "+A+" = typeof "+d+"; ","array"==e.opts.coerceTypes&&(n+=" if ("+A+" == 'object' && Array.isArray("+d+")) "+A+" = 'array'; "),n+=" var "+O+" = undefined; ";var C="",P=E;if(P)for(var T,k=-1,R=P.length-1;k<R;)T=P[k+=1],k&&(n+=" if ("+O+" === undefined) { ",C+="}"),"array"==e.opts.coerceTypes&&"array"!=T&&(n+=" if ("+A+" == 'array' && "+d+".length == 1) { "+O+" = "+d+" = "+d+"[0]; "+A+" = typeof "+d+";  } "),"string"==T?n+=" if ("+A+" == 'number' || "+A+" == 'boolean') "+O+" = '' + "+d+"; else if ("+d+" === null) "+O+" = ''; ":"number"==T||"integer"==T?(n+=" if ("+A+" == 'boolean' || "+d+" === null || ("+A+" == 'string' && "+d+" && "+d+" == +"+d+" ","integer"==T&&(n+=" && !("+d+" % 1)"),n+=")) "+O+" = +"+d+"; "):"boolean"==T?n+=" if ("+d+" === 'false' || "+d+" === 0 || "+d+" === null) "+O+" = false; else if ("+d+" === 'true' || "+d+" === 1) "+O+" = true; ":"null"==T?n+=" if ("+d+" === '' || "+d+" === 0 || "+d+" === false) "+O+" = null; ":"array"==e.opts.coerceTypes&&"array"==T&&(n+=" if ("+A+" == 'string' || "+A+" == 'number' || "+A+" == 'boolean' || "+d+" == null) "+O+" = ["+d+"]; ");n+=" "+C+" if ("+O+" === undefined) {   ",(K=K||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",n+=N?""+_.join(","):""+_,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=N?""+_.join(","):""+_,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";g=n;n=K.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  ";var I=l?"data"+(l-1||""):"parentData";n+=" "+d+" = "+O+"; ",l||(n+="if ("+I+" !== undefined)"),n+=" "+I+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+O+"; } "}else{(K=K||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",n+=N?""+_.join(","):""+_,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=N?""+_.join(","):""+_,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";g=n;n=K.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!a)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",h&&(n+=" } if (errors === ",n+=y?"0":"errs_"+c,n+=") { ",w+="}");else{var j=e.RULES;if(j)for(var F=-1,D=j.length-1;F<D;)if(Y(S=j[F+=1])){if(S.type&&(n+=" if ("+e.util.checkDataType(S.type,d)+") { "),e.opts.useDefaults)if("object"==S.type&&e.schema.properties){f=e.schema.properties;var $=Object.keys(f);if($)for(var z,L=-1,B=$.length-1;L<B;){if(void 0!==(V=f[z=$[L+=1]]).default){var q=d+e.util.getProperty(z);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+q;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else n+=" if ("+q+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+q+" === null || "+q+" === '' "),n+=" ) "+q+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(V.default)+" ":n+=" "+JSON.stringify(V.default)+" ",n+="; "}}}else if("array"==S.type&&Array.isArray(e.schema.items)){var U=e.schema.items;if(U){k=-1;for(var V,H=U.length-1;k<H;)if(void 0!==(V=U[k+=1]).default){q=d+"["+k+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+q;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else n+=" if ("+q+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+q+" === null || "+q+" === '' "),n+=" ) "+q+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(V.default)+" ":n+=" "+JSON.stringify(V.default)+" ",n+="; "}}}var W=S.rules;if(W)for(var G,Z=-1,J=W.length-1;Z<J;)if(X(G=W[Z+=1])){var Q=G.code(e,G.keyword,S.type);Q&&(n+=" "+Q+" ",h&&(x+="}"))}if(h&&(n+=" "+x+" ",x=""),S.type&&(n+=" } ",_&&_===S.type&&!E)){n+=" else { ";var K;p=e.schemaPath+".type",m=e.errSchemaPath+"/type";(K=K||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",n+=N?""+_.join(","):""+_,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=N?""+_.join(","):""+_,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";g=n;n=K.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}h&&(n+=" if (errors === ",n+=y?"0":"errs_"+c,n+=") { ",w+="}")}}function Y(e){for(var t=e.rules,r=0;r<t.length;r++)if(X(t[r]))return!0}function X(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,n=0;n<r.length;n++)if(void 0!==e.schema[r[n]])return!0}(t)}return h&&(n+=" "+w+" "),y?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+v+" = errors === errs_"+c+";",n=e.util.cleanUpCode(n),y&&(n=e.util.finalCleanUpCode(n,i)),n},Nb=ky.ucs2length,Eb=yb.Validation,Sb=function e(t,r,n,i){var a=this,o=this._opts,s=[void 0],u={},c=[],l={},f=[],p={},m=[];r=r||{schema:t,refVal:s,refs:u};var h=function(e,t,r){var n=Mb.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}.call(this,t,r,i);var d=this._compilations[h.index];if(h.compiling)return d.callValidate=function e(){var t=d.validate;var r=t.apply(this,arguments);e.errors=t.errors;return r};var v=this._formats;var g=this.RULES;try{var y=x(t,r,n,i);d.validate=y;var b=d.callValidate;return b&&(b.schema=y.schema,b.errors=null,b.refs=y.refs,b.refVal=y.refVal,b.root=y.root,b.$async=y.$async,o.sourceCode&&(b.source=y.source)),y}finally{(function(e,t,r){var n=Mb.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}).call(this,t,r,i)}function x(t,n,i,l){var p=!n||n&&n.schema==t;if(n.schema!=r.schema)return e.call(a,t,n,i,l);var h,d=!0===t.$async,y=_b({isTop:!0,schema:t,isRoot:p,baseId:l,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:yb.MissingRef,RULES:g,validate:_b,util:ky,resolve:ob,resolveRef:w,usePattern:E,useDefault:S,useCustomRule:M,opts:o,formats:v,logger:a.logger,self:a});y=Tb(s,Cb)+Tb(c,Ab)+Tb(f,Ob)+Tb(m,Pb)+y,o.processCode&&(y=o.processCode(y));try{var b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",y);h=b(a,g,v,r,s,f,m,Ty,Nb,Eb),s[0]=h}catch(e){throw a.logger.error("Error compiling schema, function code:",y),e}return h.schema=t,h.errors=null,h.refs=u,h.refVal=s,h.root=p?h:n,d&&(h.$async=!0),!0===o.sourceCode&&(h.source={code:y,patterns:c,defaults:f}),h}function w(t,i,c){i=ob.url(t,i);var l,f,p=u[i];if(void 0!==p)return N(l=s[p],f="refVal["+p+"]");if(!c&&r.refs){var m=r.refs[i];if(void 0!==m)return l=r.refVal[m],f=_(i,l),N(l,f)}f=_(i);var h=ob.call(a,x,r,i);if(void 0===h){var d=n&&n[i];d&&(h=ob.inlineRef(d,o.inlineRefs)?d:e.call(a,d,r,n,t))}if(void 0!==h)return function(e,t){var r=u[e];s[r]=t}(i,h),N(h,f);!function(e){delete u[e]}(i)}function _(e,t){var r=s.length;return s[r]=t,u[e]=r,"refVal"+r}function N(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function E(e){var t=l[e];return void 0===t&&(t=l[e]=c.length,c[t]=e),"pattern"+t}function S(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return ky.toQuotedString(e);case"object":if(null===e)return"null";var t=wb(e),r=p[t];return void 0===r&&(r=p[t]=f.length,f[r]=e),"default"+r}}function M(e,t,r,n){if(!1!==a._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every(function(e){return Object.prototype.hasOwnProperty.call(r,e)}))throw new Error("parent schema must have all required keywords: "+i.join(","));var s=e.definition.validateSchema;if(s){var u=s(t);if(!u){var c="keyword schema is invalid: "+a.errorsText(s.errors);if("log"!=a._opts.validateSchema)throw new Error(c);a.logger.error(c)}}}var l,f=e.definition.compile,p=e.definition.inline,h=e.definition.macro;if(f)l=f.call(a,t,r,n);else if(h)l=h.call(a,t,r,n),!1!==o.validateSchema&&a.validateSchema(l,!0);else if(p)l=p.call(a,n,e.keyword,t,r);else if(!(l=e.definition.validate))return;if(void 0===l)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var d=m.length;return m[d]=l,{code:"customRule"+d,validate:l}}};function Mb(e,t,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==e&&i.root==t&&i.baseId==r)return n}return-1}function Ab(e,t){return"var pattern"+e+" = new RegExp("+ky.toQuotedString(t[e])+");"}function Ob(e){return"var default"+e+" = defaults["+e+"];"}function Cb(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function Pb(e){return"var customRule"+e+" = customRules["+e+"];"}function Tb(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}var kb=g(function(e){var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}}),Rb=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Ib=[0,31,28,31,30,31,30,31,31,30,31,30,31],jb=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,Fb=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,Db=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,$b=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,zb=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Lb=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Bb=/^(?:\/(?:[^~\/]|~0|~1)*)*$/,qb=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Ub=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/,Vb=Hb;function Hb(e){return e="full"==e?"full":"fast",ky.copy(Hb[e])}function Wb(e){var t=e.match(Rb);if(!t)return!1;var r=+t[1],n=+t[2],i=+t[3];return n>=1&&n<=12&&i>=1&&i<=(2==n&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:Ib[n])}function Gb(e,t){var r=e.match(jb);if(!r)return!1;var n=r[1],i=r[2],a=r[3],o=r[5];return(n<=23&&i<=59&&a<=59||23==n&&59==i&&60==a)&&(!t||o)}Hb.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":$b,url:zb,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Fb,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Kb,uuid:Lb,"json-pointer":Bb,"json-pointer-uri-fragment":qb,"relative-json-pointer":Ub},Hb.full={date:Wb,time:Gb,"date-time":function(e){var t=e.split(Zb);return 2==t.length&&Wb(t[0])&&Gb(t[1],!0)},uri:function(e){return Jb.test(e)&&Db.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,"uri-template":$b,url:zb,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&Fb.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Kb,uuid:Lb,"json-pointer":Bb,"json-pointer-uri-fragment":qb,"relative-json-pointer":Ub};var Zb=/t|\s/i;var Jb=/\/|:/;var Qb=/[^\\]\\Z/;function Kb(e){if(Qb.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}var Yb=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s;var m="maximum"==t,h=m?"exclusiveMaximum":"exclusiveMinimum",d=e.schema[h],v=e.opts.$data&&d&&d.$data,g=m?"<":">",y=m?">":"<",b=void 0;if(v){var x=e.util.getData(d.$data,o,e.dataPathArr),w="exclusive"+a,_="exclType"+a,N="exclIsNumber"+a,E="' + "+(A="op"+a)+" + '";i+=" var schemaExcl"+a+" = "+x+"; ",i+=" var "+w+"; var "+_+" = typeof "+(x="schemaExcl"+a)+"; if ("+_+" != 'boolean' && "+_+" != 'undefined' && "+_+" != 'number') { ";var S;b=h;(S=S||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+h+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var M=i;i=S.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+M+"]); ":i+=" validate.errors = ["+M+"]; return false; ":i+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+_+" == 'number' ? ( ("+w+" = "+n+" === undefined || "+x+" "+g+"= "+n+") ? "+f+" "+y+"= "+x+" : "+f+" "+y+" "+n+" ) : ( ("+w+" = "+x+" === true) ? "+f+" "+y+"= "+n+" : "+f+" "+y+" "+n+" ) || "+f+" !== "+f+") { var op"+a+" = "+w+" ? '"+g+"' : '"+g+"='; ",void 0===s&&(b=h,c=e.errSchemaPath+"/"+h,n=x,p=v)}else{E=g;if((N="number"==typeof d)&&p){var A="'"+E+"'";i+=" if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" ( "+n+" === undefined || "+d+" "+g+"= "+n+" ? "+f+" "+y+"= "+d+" : "+f+" "+y+" "+n+" ) || "+f+" !== "+f+") { "}else{N&&void 0===s?(w=!0,b=h,c=e.errSchemaPath+"/"+h,n=d,y+="="):(N&&(n=Math[m?"min":"max"](d,s)),d===(!N||n)?(w=!0,b=h,c=e.errSchemaPath+"/"+h,y+="="):(w=!1,E+="="));A="'"+E+"'";i+=" if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+f+" "+y+" "+n+" || "+f+" !== "+f+") { "}}b=b||t,(S=S||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+A+", limit: "+n+", exclusive: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+E+" ",i+=p?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";M=i;return i=S.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+M+"]); ":i+=" validate.errors = ["+M+"]; return false; ":i+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i},Xb=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,i+="if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+f+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var m=t,h=h||[];h.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(m||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=p?"' + "+n+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var d=i;return i=h.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},ex=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s;var m="maxLength"==t?">":"<";i+="if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?i+=" "+f+".length ":i+=" ucs2length("+f+") ",i+=" "+m+" "+n+") { ";var h=t,d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(h||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=p?"' + "+n+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var v=i;return i=d.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},tx=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,i+="if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" Object.keys("+f+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var m=t,h=h||[];h.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(m||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=p?"' + "+n+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var d=i;return i=h.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},rx={$ref:function(e,t,r){var n,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(s||""),p="valid"+o;if("#"==u||"#/"==u)e.isRoot?(n=e.async,i="validate"):(n=!0===e.root.schema.$async,i="root.refVal[0]");else{var m=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===m){var h=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){e.logger.error(h),(y=y||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(u)+"' } ",!1!==e.opts.messages&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(u)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var d=a;a=y.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+d+"]); ":a+=" validate.errors = ["+d+"]; return false; ":a+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(a+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,h);e.logger.warn(h),l&&(a+=" if (true) { ")}}else if(m.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=m.schema,v.schemaPath="",v.errSchemaPath=u,a+=" "+e.validate(v).replace(/validate\.schema/g,m.code)+" ",l&&(a+=" if ("+g+") { ")}else n=!0===m.$async||e.async&&!1!==m.$async,i=m.code}if(i){var y;(y=y||[]).push(a),a="",e.opts.passContext?a+=" "+i+".call(this, ":a+=" "+i+"( ",a+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var b=a+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(a=y.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(a+=" var "+p+"; "),a+=" try { await "+b+"; ",l&&(a+=" "+p+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(a+=" "+p+" = false; "),a+=" } ",l&&(a+=" if ("+p+") { ")}else a+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(a+=" else { ")}return a},allOf:function(e,t,r){var n=" ",i=e.schema[t],a=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var l="valid"+u.level,f=u.baseId,p=!0,m=i;if(m)for(var h,d=-1,v=m.length-1;d<v;)h=m[d+=1],(e.opts.strictKeywords?"object"==typeof h&&Object.keys(h).length>0:e.util.schemaHasRules(h,e.RULES.all))&&(p=!1,u.schema=h,u.schemaPath=a+"["+d+"]",u.errSchemaPath=o+"/"+d,n+="  "+e.validate(u)+" ",u.baseId=f,s&&(n+=" if ("+l+") { ",c+="}"));return s&&(n+=p?" if (true) { ":" "+c.slice(0,-1)+" "),n=e.util.cleanUpCode(n)},anyOf:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,p="errs__"+i,m=e.util.copy(e),h="";m.level++;var d="valid"+m.level;if(o.every(function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0:e.util.schemaHasRules(t,e.RULES.all)})){var v=m.baseId;n+=" var "+p+" = errors; var "+f+" = false;  ";var g=e.compositeRule;e.compositeRule=m.compositeRule=!0;var y=o;if(y)for(var b,x=-1,w=y.length-1;x<w;)b=y[x+=1],m.schema=b,m.schemaPath=s+"["+x+"]",m.errSchemaPath=u+"/"+x,n+="  "+e.validate(m)+" ",m.baseId=v,n+=" "+f+" = "+f+" || "+d+"; if (!"+f+") { ",h+="}";e.compositeRule=m.compositeRule=g,n+=" "+h+" if (!"+f+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } "),n=e.util.cleanUpCode(n)}else c&&(n+=" if (true) { ");return n},$comment:function(e,t,r){var n=" ",i=e.schema[t],a=e.errSchemaPath+"/"+t,o=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?n+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+o+", "+e.util.toQuotedString(a)+", validate.root.schema);"),n},const:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,p=e.opts.$data&&o&&o.$data;p&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; "),p||(n+=" var schema"+i+" = validate.schema"+s+";"),n+="var "+f+" = equal("+l+", schema"+i+"); if (!"+f+") {   ";var m=m||[];m.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var h=n;return n=m.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+h+"]); ":n+=" validate.errors = ["+h+"]; return false; ":n+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n},contains:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,p="errs__"+i,m=e.util.copy(e);m.level++;var h="valid"+m.level,d="i"+i,v=m.dataLevel=e.dataLevel+1,g="data"+v,y=e.baseId,b=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all);if(n+="var "+p+" = errors;var "+f+";",b){var x=e.compositeRule;e.compositeRule=m.compositeRule=!0,m.schema=o,m.schemaPath=s,m.errSchemaPath=u,n+=" var "+h+" = false; for (var "+d+" = 0; "+d+" < "+l+".length; "+d+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers,!0);var w=l+"["+d+"]";m.dataPathArr[v]=d;var _=e.validate(m);m.baseId=y,e.util.varOccurences(_,g)<2?n+=" "+e.util.varReplace(_,g,w)+" ":n+=" var "+g+" = "+w+"; "+_+" ",n+=" if ("+h+") break; }  ",e.compositeRule=m.compositeRule=x,n+="  if (!"+h+") {"}else n+=" if ("+l+".length == 0) {";var N=N||[];N.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var E=n;return n=N.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",b&&(n+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n=e.util.cleanUpCode(n)},dependencies:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="errs__"+i,p=e.util.copy(e),m="";p.level++;var h="valid"+p.level,d={},v={},g=e.opts.ownProperties;for(w in o){var y=o[w],b=Array.isArray(y)?v:d;b[w]=y}n+="var "+f+" = errors;";var x=e.errorPath;for(var w in n+="var missing"+i+";",v)if((b=v[w]).length){if(n+=" if ( "+l+e.util.getProperty(w)+" !== undefined ",g&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),c){n+=" && ( ";var _=b;if(_)for(var N=-1,E=_.length-1;N<E;)P=_[N+=1],N&&(n+=" || "),n+=" ( ( "+(I=l+(R=e.util.getProperty(P)))+" === undefined ",g&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(P)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:R)+") ) ";n+=")) {  ";var S="missing"+i,M="' + "+S+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,S,!0):x+" + "+S);var A=A||[];A.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+M+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var O=n;n=A.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+O+"]); ":n+=" validate.errors = ["+O+"]; return false; ":n+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var C=b;if(C)for(var P,T=-1,k=C.length-1;T<k;){P=C[T+=1];var R=e.util.getProperty(P),I=(M=e.util.escapeQuotes(P),l+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,P,e.opts.jsonPointers)),n+=" if ( "+I+" === undefined ",g&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(P)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+M+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",c&&(m+="}",n+=" else { ")}e.errorPath=x;var j=p.baseId;for(var w in d)y=d[w],(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0:e.util.schemaHasRules(y,e.RULES.all))&&(n+=" "+h+" = true; if ( "+l+e.util.getProperty(w)+" !== undefined ",g&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),n+=") { ",p.schema=y,p.schemaPath=s+e.util.getProperty(w),p.errSchemaPath=u+"/"+e.util.escapeFragment(w),n+="  "+e.validate(p)+" ",p.baseId=j,n+=" }  ",c&&(n+=" if ("+h+") { ",m+="}"));return c&&(n+="   "+m+" if ("+f+" == errors) {"),n=e.util.cleanUpCode(n)},enum:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,p=e.opts.$data&&o&&o.$data;p&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var m="i"+i,h="schema"+i;p||(n+=" var "+h+" = validate.schema"+s+";"),n+="var "+f+";",p&&(n+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),n+=f+" = false;for (var "+m+"=0; "+m+"<"+h+".length; "+m+"++) if (equal("+l+", "+h+"["+m+"])) { "+f+" = true; break; }",p&&(n+="  }  "),n+=" if (!"+f+") {   ";var d=d||[];d.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var v=n;return n=d.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n},format:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||"");if(!1===e.opts.format)return c&&(n+=" if (true) { "),n;var f,p=e.opts.$data&&o&&o.$data;p?(n+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",f="schema"+i):f=o;var m=e.opts.unknownFormats,h=Array.isArray(m);if(p)n+=" var "+(d="format"+i)+" = formats["+f+"]; var "+(v="isObject"+i)+" = typeof "+d+" == 'object' && !("+d+" instanceof RegExp) && "+d+".validate; var "+(g="formatType"+i)+" = "+v+" && "+d+".type || 'string'; if ("+v+") { ",e.async&&(n+=" var async"+i+" = "+d+".async; "),n+=" "+d+" = "+d+".validate; } if (  ",p&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" (","ignore"!=m&&(n+=" ("+f+" && !"+d+" ",h&&(n+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),n+=") || "),n+=" ("+d+" && "+g+" == '"+r+"' && !(typeof "+d+" == 'function' ? ",e.async?n+=" (async"+i+" ? await "+d+"("+l+") : "+d+"("+l+")) ":n+=" "+d+"("+l+") ",n+=" : "+d+".test("+l+"))))) {";else{var d;if(!(d=e.formats[o])){if("ignore"==m)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(n+=" if (true) { "),n;if(h&&m.indexOf(o)>=0)return c&&(n+=" if (true) { "),n;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,g=(v="object"==typeof d&&!(d instanceof RegExp)&&d.validate)&&d.type||"string";if(v){var y=!0===d.async;d=d.validate}if(g!=r)return c&&(n+=" if (true) { "),n;if(y){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(b="formats"+e.util.getProperty(o)+".validate")+"("+l+"))) { "}else{n+=" if (! ";var b="formats"+e.util.getProperty(o);v&&(b+=".validate"),n+="function"==typeof d?" "+b+"("+l+") ":" "+b+".test("+l+") ",n+=") { "}}var x=x||[];x.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",n+=p?""+f:""+e.util.toQuotedString(o),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=p?"' + "+f+" + '":""+e.util.escapeQuotes(o),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=p?"validate.schema"+s:""+e.util.toQuotedString(o),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var w=n;return n=x.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n},if:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,p="errs__"+i,m=e.util.copy(e);m.level++;var h="valid"+m.level,d=e.schema.then,v=e.schema.else,g=void 0!==d&&(e.opts.strictKeywords?"object"==typeof d&&Object.keys(d).length>0:e.util.schemaHasRules(d,e.RULES.all)),y=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0:e.util.schemaHasRules(v,e.RULES.all)),b=m.baseId;if(g||y){var x;m.createErrors=!1,m.schema=o,m.schemaPath=s,m.errSchemaPath=u,n+=" var "+p+" = errors; var "+f+" = true;  ";var w=e.compositeRule;e.compositeRule=m.compositeRule=!0,n+="  "+e.validate(m)+" ",m.baseId=b,m.createErrors=!0,n+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }  ",e.compositeRule=m.compositeRule=w,g?(n+=" if ("+h+") {  ",m.schema=e.schema.then,m.schemaPath=e.schemaPath+".then",m.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(m)+" ",m.baseId=b,n+=" "+f+" = "+h+"; ",g&&y?n+=" var "+(x="ifClause"+i)+" = 'then'; ":x="'then'",n+=" } ",y&&(n+=" else { ")):n+=" if (!"+h+") { ",y&&(m.schema=e.schema.else,m.schemaPath=e.schemaPath+".else",m.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(m)+" ",m.baseId=b,n+=" "+f+" = "+h+"; ",g&&y?n+=" var "+(x="ifClause"+i)+" = 'else'; ":x="'else'",n+=" } "),n+=" if (!"+f+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+x+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+x+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",c&&(n+=" else { "),n=e.util.cleanUpCode(n)}else c&&(n+=" if (true) { ");return n},items:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,p="errs__"+i,m=e.util.copy(e),h="";m.level++;var d="valid"+m.level,v="i"+i,g=m.dataLevel=e.dataLevel+1,y="data"+g,b=e.baseId;if(n+="var "+p+" = errors;var "+f+";",Array.isArray(o)){var x=e.schema.additionalItems;if(!1===x){n+=" "+f+" = "+l+".length <= "+o.length+"; ";var w=u;u=e.errSchemaPath+"/additionalItems",n+="  if (!"+f+") {   ";var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var N=n;n=_.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+N+"]); ":n+=" validate.errors = ["+N+"]; return false; ":n+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u=w,c&&(h+="}",n+=" else { ")}var E=o;if(E)for(var S,M=-1,A=E.length-1;M<A;)if(S=E[M+=1],e.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0:e.util.schemaHasRules(S,e.RULES.all)){n+=" "+d+" = true; if ("+l+".length > "+M+") { ";var O=l+"["+M+"]";m.schema=S,m.schemaPath=s+"["+M+"]",m.errSchemaPath=u+"/"+M,m.errorPath=e.util.getPathExpr(e.errorPath,M,e.opts.jsonPointers,!0),m.dataPathArr[g]=M;var C=e.validate(m);m.baseId=b,e.util.varOccurences(C,y)<2?n+=" "+e.util.varReplace(C,y,O)+" ":n+=" var "+y+" = "+O+"; "+C+" ",n+=" }  ",c&&(n+=" if ("+d+") { ",h+="}")}"object"==typeof x&&(e.opts.strictKeywords?"object"==typeof x&&Object.keys(x).length>0:e.util.schemaHasRules(x,e.RULES.all))&&(m.schema=x,m.schemaPath=e.schemaPath+".additionalItems",m.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+d+" = true; if ("+l+".length > "+o.length+") {  for (var "+v+" = "+o.length+"; "+v+" < "+l+".length; "+v+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),O=l+"["+v+"]",m.dataPathArr[g]=v,C=e.validate(m),m.baseId=b,e.util.varOccurences(C,y)<2?n+=" "+e.util.varReplace(C,y,O)+" ":n+=" var "+y+" = "+O+"; "+C+" ",c&&(n+=" if (!"+d+") break; "),n+=" } }  ",c&&(n+=" if ("+d+") { ",h+="}"))}else(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all))&&(m.schema=o,m.schemaPath=s,m.errSchemaPath=u,n+="  for (var "+v+" = 0; "+v+" < "+l+".length; "+v+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),O=l+"["+v+"]",m.dataPathArr[g]=v,C=e.validate(m),m.baseId=b,e.util.varOccurences(C,y)<2?n+=" "+e.util.varReplace(C,y,O)+" ":n+=" var "+y+" = "+O+"; "+C+" ",c&&(n+=" if (!"+d+") break; "),n+=" }");return c&&(n+=" "+h+" if ("+p+" == errors) {"),n=e.util.cleanUpCode(n)},maximum:Yb,minimum:Yb,maxItems:Xb,minItems:Xb,maxLength:ex,minLength:ex,maxProperties:tx,minProperties:tx,multipleOf:function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,i+="var division"+a+";if (",p&&(i+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),i+=" (division"+a+" = "+f+" / "+n+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+a+" !== parseInt(division"+a+") ",i+=" ) ",p&&(i+="  )  "),i+=" ) {   ";var m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=p?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var h=i;return i=m.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+h+"]); ":i+=" validate.errors = ["+h+"]; return false; ":i+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},not:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="errs__"+i,p=e.util.copy(e);p.level++;var m="valid"+p.level;if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=s,p.errSchemaPath=u,n+=" var "+f+" = errors;  ";var h,d=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.createErrors=!1,p.opts.allErrors&&(h=p.opts.allErrors,p.opts.allErrors=!1),n+=" "+e.validate(p)+" ",p.createErrors=!0,h&&(p.opts.allErrors=h),e.compositeRule=p.compositeRule=d,n+=" if ("+m+") {   ";var v=v||[];v.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var g=n;n=v.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(n+=" if (false) { ");return n},oneOf:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,p="errs__"+i,m=e.util.copy(e),h="";m.level++;var d="valid"+m.level,v=m.baseId,g="prevValid"+i,y="passingSchemas"+i;n+="var "+p+" = errors , "+g+" = false , "+f+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=m.compositeRule=!0;var x=o;if(x)for(var w,_=-1,N=x.length-1;_<N;)w=x[_+=1],(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0:e.util.schemaHasRules(w,e.RULES.all))?(m.schema=w,m.schemaPath=s+"["+_+"]",m.errSchemaPath=u+"/"+_,n+="  "+e.validate(m)+" ",m.baseId=v):n+=" var "+d+" = true; ",_&&(n+=" if ("+d+" && "+g+") { "+f+" = false; "+y+" = ["+y+", "+_+"]; } else { ",h+="}"),n+=" if ("+d+") { "+f+" = "+g+" = true; "+y+" = "+_+"; }";return e.compositeRule=m.compositeRule=b,n+=h+"if (!"+f+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n},pattern:function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,i+="if ( ",p&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),i+=" !"+(p?"(new RegExp("+n+"))":e.usePattern(s))+".test("+f+") ) {   ";var m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=p?""+n:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=p?"' + "+n+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var h=i;return i=m.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+h+"]); ":i+=" validate.errors = ["+h+"]; return false; ":i+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},properties:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="errs__"+i,p=e.util.copy(e),m="";p.level++;var h="valid"+p.level,d="key"+i,v="idx"+i,g=p.dataLevel=e.dataLevel+1,y="data"+g,b="dataProperties"+i,x=Object.keys(o||{}),w=e.schema.patternProperties||{},_=Object.keys(w),N=e.schema.additionalProperties,E=x.length||_.length,S=!1===N,M="object"==typeof N&&Object.keys(N).length,A=e.opts.removeAdditional,O=S||M||A,C=e.opts.ownProperties,P=e.baseId,T=e.schema.required;if(T&&(!e.opts.$data||!T.$data)&&T.length<e.opts.loopRequired)var k=e.util.toHash(T);if(n+="var "+f+" = errors;var "+h+" = true;",C&&(n+=" var "+b+" = undefined;"),O){if(n+=C?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+d+" = "+b+"["+v+"]; ":" for (var "+d+" in "+l+") { ",E){if(n+=" var isAdditional"+i+" = !(false ",x.length)if(x.length>8)n+=" || validate.schema"+s+".hasOwnProperty("+d+") ";else{var R=x;if(R)for(var I=-1,j=R.length-1;I<j;)Z=R[I+=1],n+=" || "+d+" == "+e.util.toQuotedString(Z)+" "}if(_.length){var F=_;if(F)for(var D=-1,$=F.length-1;D<$;)ie=F[D+=1],n+=" || "+e.usePattern(ie)+".test("+d+") "}n+=" ); if (isAdditional"+i+") { "}if("all"==A)n+=" delete "+l+"["+d+"]; ";else{var z=e.errorPath,L="' + "+d+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers)),S)if(A)n+=" delete "+l+"["+d+"]; ";else{n+=" "+h+" = false; ";var B=u;u=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+L+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var q=n;n=te.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+q+"]); ":n+=" validate.errors = ["+q+"]; return false; ":n+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=B,c&&(n+=" break; ")}else if(M)if("failing"==A){n+=" var "+f+" = errors;  ";var U=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=N,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers);var V=l+"["+d+"]";p.dataPathArr[g]=d;var H=e.validate(p);p.baseId=P,e.util.varOccurences(H,y)<2?n+=" "+e.util.varReplace(H,y,V)+" ":n+=" var "+y+" = "+V+"; "+H+" ",n+=" if (!"+h+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+d+"]; }  ",e.compositeRule=p.compositeRule=U}else p.schema=N,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers),V=l+"["+d+"]",p.dataPathArr[g]=d,H=e.validate(p),p.baseId=P,e.util.varOccurences(H,y)<2?n+=" "+e.util.varReplace(H,y,V)+" ":n+=" var "+y+" = "+V+"; "+H+" ",c&&(n+=" if (!"+h+") break; ");e.errorPath=z}E&&(n+=" } "),n+=" }  ",c&&(n+=" if ("+h+") { ",m+="}")}var W=e.opts.useDefaults&&!e.compositeRule;if(x.length){var G=x;if(G)for(var Z,J=-1,Q=G.length-1;J<Q;){var K=o[Z=G[J+=1]];if(e.opts.strictKeywords?"object"==typeof K&&Object.keys(K).length>0:e.util.schemaHasRules(K,e.RULES.all)){var Y=e.util.getProperty(Z),X=(V=l+Y,W&&void 0!==K.default);if(p.schema=K,p.schemaPath=s+Y,p.errSchemaPath=u+"/"+e.util.escapeFragment(Z),p.errorPath=e.util.getPath(e.errorPath,Z,e.opts.jsonPointers),p.dataPathArr[g]=e.util.toQuotedString(Z),H=e.validate(p),p.baseId=P,e.util.varOccurences(H,y)<2){H=e.util.varReplace(H,y,V);var ee=V}else ee=y,n+=" var "+y+" = "+V+"; ";if(X)n+=" "+H+" ";else{if(k&&k[Z]){n+=" if ( "+ee+" === undefined ",C&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Z)+"') "),n+=") { "+h+" = false; ",z=e.errorPath,B=u;var te,re=e.util.escapeQuotes(Z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(z,Z,e.opts.jsonPointers)),u=e.errSchemaPath+"/required",(te=te||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+re+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",q=n,n=te.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+q+"]); ":n+=" validate.errors = ["+q+"]; return false; ":n+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=B,e.errorPath=z,n+=" } else { "}else c?(n+=" if ( "+ee+" === undefined ",C&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Z)+"') "),n+=") { "+h+" = true; } else { "):(n+=" if ("+ee+" !== undefined ",C&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Z)+"') "),n+=" ) { ");n+=" "+H+" } "}}c&&(n+=" if ("+h+") { ",m+="}")}}if(_.length){var ne=_;if(ne)for(var ie,ae=-1,oe=ne.length-1;ae<oe;)K=w[ie=ne[ae+=1]],(e.opts.strictKeywords?"object"==typeof K&&Object.keys(K).length>0:e.util.schemaHasRules(K,e.RULES.all))&&(p.schema=K,p.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),p.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),n+=C?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+d+" = "+b+"["+v+"]; ":" for (var "+d+" in "+l+") { ",n+=" if ("+e.usePattern(ie)+".test("+d+")) { ",p.errorPath=e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers),V=l+"["+d+"]",p.dataPathArr[g]=d,H=e.validate(p),p.baseId=P,e.util.varOccurences(H,y)<2?n+=" "+e.util.varReplace(H,y,V)+" ":n+=" var "+y+" = "+V+"; "+H+" ",c&&(n+=" if (!"+h+") break; "),n+=" } ",c&&(n+=" else "+h+" = true; "),n+=" }  ",c&&(n+=" if ("+h+") { ",m+="}"))}return c&&(n+=" "+m+" if ("+f+" == errors) {"),n=e.util.cleanUpCode(n)},propertyNames:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="errs__"+i,p=e.util.copy(e);p.level++;var m="valid"+p.level;if(n+="var "+f+" = errors;",e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=s,p.errSchemaPath=u;var h="key"+i,d="idx"+i,v="i"+i,g="' + "+h+" + '",y="data"+(p.dataLevel=e.dataLevel+1),b="dataProperties"+i,x=e.opts.ownProperties,w=e.baseId;x&&(n+=" var "+b+" = undefined; "),n+=x?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+d+"=0; "+d+"<"+b+".length; "+d+"++) { var "+h+" = "+b+"["+d+"]; ":" for (var "+h+" in "+l+") { ",n+=" var startErrs"+i+" = errors; ";var _=h,N=e.compositeRule;e.compositeRule=p.compositeRule=!0;var E=e.validate(p);p.baseId=w,e.util.varOccurences(E,y)<2?n+=" "+e.util.varReplace(E,y,_)+" ":n+=" var "+y+" = "+_+"; "+E+" ",e.compositeRule=p.compositeRule=N,n+=" if (!"+m+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+h+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),c&&(n+=" break; "),n+=" } }"}return c&&(n+="  if ("+f+" == errors) {"),n=e.util.cleanUpCode(n)},required:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,p=e.opts.$data&&o&&o.$data;p&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var m="schema"+i;if(!p)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var h=[],d=o;if(d)for(var v,g=-1,y=d.length-1;g<y;){v=d[g+=1];var b=e.schema.properties[v];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0:e.util.schemaHasRules(b,e.RULES.all))||(h[h.length]=v)}}else h=o;if(p||h.length){var x=e.errorPath,w=p||h.length>=e.opts.loopRequired,_=e.opts.ownProperties;if(c)if(n+=" var missing"+i+"; ",w){p||(n+=" var "+m+" = validate.schema"+s+"; ");var N="' + "+(C="schema"+i+"["+(A="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,C,e.opts.jsonPointers)),n+=" var "+f+" = true; ",p&&(n+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),n+=" for (var "+A+" = 0; "+A+" < "+m+".length; "+A+"++) { "+f+" = "+l+"["+m+"["+A+"]] !== undefined ",_&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+m+"["+A+"]) "),n+="; if (!"+f+") break; } ",p&&(n+="  }  "),n+="  if (!"+f+") {   ",(S=S||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+N+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+N+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var E=n;n=S.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var S,M=h;if(M)for(var A=-1,O=M.length-1;A<O;)T=M[A+=1],A&&(n+=" || "),n+=" ( ( "+(j=l+(I=e.util.getProperty(T)))+" === undefined ",_&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:I)+") ) ";n+=") {  ",N="' + "+(C="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,C,!0):x+" + "+C),(S=S||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+N+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+N+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",E=n,n=S.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(w){var C;p||(n+=" var "+m+" = validate.schema"+s+"; "),N="' + "+(C="schema"+i+"["+(A="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,C,e.opts.jsonPointers)),p&&(n+=" if ("+m+" && !Array.isArray("+m+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+N+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+N+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+m+" !== undefined) { "),n+=" for (var "+A+" = 0; "+A+" < "+m+".length; "+A+"++) { if ("+l+"["+m+"["+A+"]] === undefined ",_&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+m+"["+A+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+N+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+N+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",p&&(n+="  }  ")}else{var P=h;if(P)for(var T,k=-1,R=P.length-1;k<R;){T=P[k+=1];var I=e.util.getProperty(T),j=(N=e.util.escapeQuotes(T),l+I);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,T,e.opts.jsonPointers)),n+=" if ( "+j+" === undefined ",_&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+N+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+N+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=x}else c&&(n+=" if (true) {");return n},uniqueItems:function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),p="valid"+a,m=e.opts.$data&&s&&s.$data;if(m?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,(s||m)&&!1!==e.opts.uniqueItems){m&&(i+=" var "+p+"; if ("+n+" === false || "+n+" === undefined) "+p+" = true; else if (typeof "+n+" != 'boolean') "+p+" = false; else { "),i+=" var i = "+f+".length , "+p+" = true , j; if (i > 1) { ";var h=e.schema.items&&e.schema.items.type,d=Array.isArray(h);if(!h||"object"==h||"array"==h||d&&(h.indexOf("object")>=0||h.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+p+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var v="checkDataType"+(d?"s":"");i+=" if ("+e.util[v](h,"item",!0)+") continue; ",d&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+p+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",m&&(i+="  }  "),i+=" if (!"+p+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=m?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i},validate:_b},nx=ky.toHash,ix=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=nx(t),e.types=nx(["number","integer","string","array","object","boolean","null"]),e.forEach(function(r){r.rules=r.rules.map(function(r){var n;if("object"==typeof r){var i=Object.keys(r)[0];n=r[i],r=i,n.forEach(function(r){t.push(r),e.all[r]=!0})}return t.push(r),e.all[r]={keyword:r,code:rx[r],implements:n}}),e.all.$comment={keyword:"$comment",code:rx.$comment},r.type&&(e.types[r.type]=r)}),e.keywords=nx(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e},ax=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],ox=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var n,i=t[r].split("/"),a=e;for(n=1;n<i.length;n++)a=a[i[n]];for(n=0;n<ax.length;n++){var o=ax[n],s=a[o];s&&(a[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e},sx=yb.MissingRef,ux=function e(t,r,n){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(n=r,r=void 0);var a=o(t).then(function(){var e=i._addSchema(t,void 0,r);return e.validate||function e(t){try{return i._compile(t)}catch(e){if(e instanceof sx)return function n(e){var n=e.missingSchema;if(u(n))throw new Error("Schema "+n+" is loaded but "+e.missingRef+" cannot be resolved");var a=i._loadingSchemas[n];a||(a=i._loadingSchemas[n]=i._opts.loadSchema(n)).then(s,s);return a.then(function(e){if(!u(n))return o(e).then(function(){u(n)||i.addSchema(e,n,void 0,r)})}).then(function(){return function e(t){try{return i._compile(t)}catch(e){if(e instanceof sx)return n(e);throw e}function n(n){var a=n.missingSchema;if(c(a))throw new Error("Schema "+a+" is loaded but "+n.missingRef+" cannot be resolved");var s=i._loadingSchemas[a];return s||(s=i._loadingSchemas[a]=i._opts.loadSchema(a)).then(u,u),s.then(function(e){if(!c(a))return o(e).then(function(){c(a)||i.addSchema(e,a,void 0,r)})}).then(function(){return e(t)});function u(){delete i._loadingSchemas[a]}function c(e){return i._refs[e]||i._schemas[e]}}}(t)});function s(){delete i._loadingSchemas[n]}function u(e){return i._refs[e]||i._schemas[e]}}(e);throw e}function n(n){var a=n.missingSchema;if(c(a))throw new Error("Schema "+a+" is loaded but "+n.missingRef+" cannot be resolved");var s=i._loadingSchemas[a];return s||(s=i._loadingSchemas[a]=i._opts.loadSchema(a)).then(u,u),s.then(function(e){if(!c(a))return o(e).then(function(){c(a)||i.addSchema(e,a,void 0,r)})}).then(function(){return e(t)});function u(){delete i._loadingSchemas[a]}function c(e){return i._refs[e]||i._schemas[e]}}}(e)});n&&a.then(function(e){n(null,e)},n);return a;function o(t){var r=t.$schema;return r&&!i.getSchema(r)?e.call(i,{$ref:r},!0):Promise.resolve()}};var cx=function(e,t,r){var n,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,p="data"+(s||""),m="valid"+o,h="errs__"+o,d=e.opts.$data&&u&&u.$data;d?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var v,g,y,b,x,w="definition"+o,_=this.definition,N="";if(d&&_.$data){x="keywordValidate"+o;var E=_.validateSchema;a+=" var "+w+" = RULES.custom['"+t+"'].definition; var "+x+" = "+w+".validate;"}else{if(!(b=e.useCustomRule(this,u,e.schema,e)))return;i="validate.schema"+c,x=b.code,v=_.compile,g=_.inline,y=_.macro}var S=x+".errors",M="i"+o,A="ruleErr"+o,O=_.async;if(O&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(a+=S+" = null;"),a+="var "+h+" = errors;var "+m+";",d&&_.$data&&(N+="}",a+=" if ("+i+" === undefined) { "+m+" = true; } else { ",E&&(N+="}",a+=" "+m+" = "+w+".validateSchema("+i+"); if ("+m+") { ")),g)_.statements?a+=" "+b.validate+" ":a+=" "+m+" = "+b.validate+"; ";else if(y){var C=e.util.copy(e);N="";C.level++;var P="valid"+C.level;C.schema=b.validate,C.schemaPath="";var T=e.compositeRule;e.compositeRule=C.compositeRule=!0;var k=e.validate(C).replace(/validate\.schema/g,x);e.compositeRule=C.compositeRule=T,a+=" "+k}else{(F=F||[]).push(a),a="",a+="  "+x+".call( ",e.opts.passContext?a+="this":a+="self",v||!1===_.schema?a+=" , "+p+" ":a+=" , "+i+" , "+p+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var R=s?"data"+(s-1||""):"parentData",I=s?e.dataPathArr[s]:"parentDataProperty",j=a+=" , "+R+" , "+I+" , rootData )  ";a=F.pop(),!1===_.errors?(a+=" "+m+" = ",O&&(a+="await "),a+=j+"; "):a+=O?" var "+(S="customErrors"+o)+" = null; try { "+m+" = await "+j+"; } catch (e) { "+m+" = false; if (e instanceof ValidationError) "+S+" = e.errors; else throw e; } ":" "+S+" = null; "+m+" = "+j+"; "}if(_.modifying&&(a+=" if ("+R+") "+p+" = "+R+"["+I+"];"),a+=""+N,_.valid)f&&(a+=" if (true) { ");else{var F;a+=" if ( ",void 0===_.valid?(a+=" !",a+=y?""+P:""+m):a+=" "+!_.valid+" ",a+=") { ",n=this.keyword,(F=F||[]).push(a),a="",(F=F||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var D=a;a=F.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+D+"]); ":a+=" validate.errors = ["+D+"]; return false; ":a+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var $=a;a=F.pop(),g?_.errors?"full"!=_.errors&&(a+="  for (var "+M+"="+h+"; "+M+"<errors; "+M+"++) { var "+A+" = vErrors["+M+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(a+=" "+A+".schema = "+i+"; "+A+".data = "+p+"; "),a+=" } "):!1===_.errors?a+=" "+$+" ":(a+=" if ("+h+" == errors) { "+$+" } else {  for (var "+M+"="+h+"; "+M+"<errors; "+M+"++) { var "+A+" = vErrors["+M+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(a+=" "+A+".schema = "+i+"; "+A+".data = "+p+"; "),a+=" } } "):y?(a+="   var err =   ",!1!==e.createErrors?(a+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):!1===_.errors?a+=" "+$+" ":(a+=" if (Array.isArray("+S+")) { if (vErrors === null) vErrors = "+S+"; else vErrors = vErrors.concat("+S+"); errors = vErrors.length;  for (var "+M+"="+h+"; "+M+"<errors; "+M+"++) { var "+A+" = vErrors["+M+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+";  "+A+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(a+=" "+A+".schema = "+i+"; "+A+".data = "+p+"; "),a+=" } } else { "+$+" } "),a+=" } ",f&&(a+=" else { ")}return a},lx="http://json-schema.org/draft-07/schema#",fx="http://json-schema.org/draft-07/schema#",px="Core schema meta-schema",mx={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},hx=["object","boolean"],dx={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},vx={$schema:lx,$id:fx,title:px,definitions:mx,type:hx,properties:dx,default:!0},gx=y(Object.freeze({$schema:lx,$id:fx,title:px,definitions:mx,type:hx,properties:dx,default:vx})),yx={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:gx.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:gx.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},bx=/^[a-z_$][a-z0-9_$-]*$/i,xx=function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!bx.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var n=t.type;if(Array.isArray(n))for(var i=0;i<n.length;i++)o(e,n[i],t);else o(e,n,t);var a=t.metaSchema;a&&(t.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(a,!0))}function o(e,t,n){for(var i,a=0;a<r.length;a++){var o=r[a];if(o.type==t){i=o;break}}i||(i={type:t,rules:[]},r.push(i));var s={keyword:e,definition:n,custom:!0,code:cx,implements:n.implements};i.rules.push(s),r.custom[e]=s}return r.keywords[e]=r.all[e]=!0,this},wx=function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},_x=function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,i=0;i<n.length;i++)if(n[i].keyword==e){n.splice(i,1);break}return this},Nx=function e(t,r){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(yx,!0);if(n(t))return!0;e.errors=n.errors;if(r)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1};var Ex="http://json-schema.org/draft-07/schema#",Sx="https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",Mx="Meta-schema for $data reference (JSON Schema extension proposal)",Ax=["$data"],Ox={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Cx={$schema:Ex,$id:Sx,description:Mx,type:"object",required:Ax,properties:Ox,additionalProperties:!1},Px=y(Object.freeze({$schema:Ex,$id:Sx,description:Mx,type:"object",required:Ax,properties:Ox,additionalProperties:!1,default:Cx})),Tx=jx;jx.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var i=r(t);!0!==r.$async&&(this.errors=r.errors);return i},jx.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},jx.prototype.addSchema=function(e,t,r,n){if(Array.isArray(e)){for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,r,n);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return Bx(this,t=ob.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,r,n,!0),this},jx.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},jx.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||(n=this,i=n._opts.meta,n._opts.defaultMeta="object"==typeof i?n._getId(i)||i:n.getSchema(kx)?kx:void 0,n._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n,i;var a=this.validate(r,e);if(!a&&t){var o="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(o);this.logger.error(o)}return a},jx.prototype.getSchema=function(e){var t=Fx(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=ob.schema.call(e,{schema:{}},t);if(r){var n=r.schema,i=r.root,a=r.baseId,o=Sb.call(e,n,i,void 0,a);return e._fragments[t]=new ib({ref:t,fragment:!0,schema:n,root:i,baseId:a,validate:o}),o}}(this,e)}},jx.prototype.removeSchema=function(e){if(e instanceof RegExp)return Dx(this,this._schemas,e),Dx(this,this._refs,e),this;switch(typeof e){case"undefined":return Dx(this,this._schemas),Dx(this,this._refs),this._cache.clear(),this;case"string":var t=Fx(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var i=this._getId(e);i&&(i=ob.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this},jx.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},jx.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,i="",a=0;a<e.length;a++){var o=e[a];o&&(i+=n+o.dataPath+" "+o.message+r)}return i.slice(0,-r.length)},jx.prototype._addSchema=function(e,t,r,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,a=i?i(e):e,o=this._cache.get(a);if(o)return o;n=n||!1!==this._opts.addUsedSchema;var s=ob.normalizeId(this._getId(e));s&&n&&Bx(this,s);var u,c=!1!==this._opts.validateSchema&&!t;c&&!(u=s&&s==ob.normalizeId(e.$schema))&&this.validateSchema(e,!0);var l=ob.ids.call(this,e),f=new ib({id:s,schema:e,localRefs:l,cacheKey:a,meta:r});"#"!=s[0]&&n&&(this._refs[s]=f);this._cache.put(a,f),c&&u&&this.validateSchema(e,!0);return f},jx.prototype._compile=function(e,t){if(e.compiling)return e.validate=i,i.schema=e.schema,i.errors=null,i.root=t||i,!0===e.schema.$async&&(i.$async=!0),i;var r,n;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{n=Sb.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=n,e.refs=n.refs,e.refVal=n.refVal,e.root=n.root,n;function i(){var t=e.validate,r=t.apply(this,arguments);return i.errors=t.errors,r}},jx.prototype.compileAsync=ux,jx.prototype.addKeyword=xx,jx.prototype.getKeyword=wx,jx.prototype.removeKeyword=_x,jx.prototype.validateKeyword=Nx,jx.ValidationError=yb.Validation,jx.MissingRefError=yb.MissingRef,jx.$dataMetaSchema=ox;var kx="http://json-schema.org/draft-07/schema",Rx=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Ix=["/properties"];function jx(e){if(!(this instanceof jx))return new jx(e);e=this._opts=ky.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:qx,warn:qx,error:qx};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=Vb(e.format),this._cache=e.cache||new kb,this._loadingSchemas={},this._compilations=[],this.RULES=ix(),this._getId=function(e){switch(e.schemaId){case"auto":return Lx;case"id":return $x;default:return zx}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=wb),this._metaOpts=function(e){for(var t=ky.copy(e._opts),r=0;r<Rx.length;r++)delete t[Rx[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),function(e){var t;e._opts.$data&&(t=Px,e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var r=gx;e._opts.$data&&(r=ox(r,Ix));e.addMetaSchema(r,kx,!0),e._refs["http://json-schema.org/schema"]=kx}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function Fx(e,t){return t=ob.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function Dx(e,t,r){for(var n in t){var i=t[n];i.meta||r&&!r.test(n)||(e._cache.del(i.cacheKey),delete t[n])}}function $x(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function zx(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function Lx(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function Bx(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function qx(){}const Ux={};var Vx=function(e,t){var r=t._c;return r("div",[r("div",{staticClass:"widget-form-action"},[r("button",{staticClass:"widget-form-action__button widget-form-action__button--validate",on:{click:function(e){return t.props.submit()}}},[t._v("Save changes")]),t._v(" "),r("button",{staticClass:"widget-form-action__button widget-form-action__button--cancel",on:{click:function(e){return t.props.cancel()}}},[t._v("Cancel")])]),t._v(" "),t.props.errors?r("div",{staticClass:"errors"},[r("ul",t._l(t.props.errors,function(e,n){return r("li",{key:n},[t._v(t._s(e.dataPath)+": "+t._s(e.message))])}),0)]):t._e()])};Vx._withStripped=!0;var Hx=Ng({render:Vx,staticRenderFns:[]},void 0,Ux,"data-v-4a7e0f9a",!0,void 0,void 0,void 0);const Wx={};var Gx=function(e,t){var r=t._c;return r("div",{staticClass:"step-edit-form"},[r("h1",{staticClass:"step-edit-form__title"},[t._v(t._s(t.props.title))])])};Gx._withStripped=!0;var Zx=Ng({render:Gx,staticRenderFns:[]},void 0,Wx,"data-v-3cdd17e8",!0,void 0,void 0,void 0);function Jx(e,t,r){return r.length&&b.set(e,"properties."+t+".columnNameAlreadyUsed",{columnNames:r}),e}var Qx={$schema:"http://json-schema.org/draft-07/schema#",title:"Aggregate step",type:"object",properties:{name:{type:"string",enum:["aggregate"]},on:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group the data for aggregation",attrs:{placeholder:"Add columns"}},aggregations:{type:"array",items:{type:"object",properties:{column:{type:"string",minLength:1},aggfunction:{type:"string",enum:["sum","avg","count","min","max"]},newcolumn:{type:"string",minLength:1}},required:["column","aggfunction","newcolumn"],additionalProperties:!1},minItems:1,title:"Aggregations",description:"The aggregations to be performed"}},required:["name","on","aggregations"],additionalProperties:!1};var Kx={$schema:"http://json-schema.org/draft-07/schema#",title:"Concatenate step",type:"object",properties:{name:{type:"string",enum:["concatenate"]},columns:{type:"array",items:{type:["string"],minLength:1},minItems:1,title:"To concatenate",description:"Columns to concatenate"},separator:{type:"string",minLength:0,title:"Separator",description:"The separator used to concatenate strings",attrs:{placeholder:"Enter a string of any length"}},new_column_name:{type:"string",minLength:1,title:"New column name",description:"The new column that will be created with the concatenated string",attrs:{placeholder:"Enter a column name"}}},required:["name","columns","separator","new_column_name"],additionalProperties:!1};var Yx={$schema:"http://json-schema.org/draft-07/schema#",title:"Duplicate column step",type:"object",properties:{name:{type:"string",enum:["duplicate"]},column:{type:"string",minLength:1,title:"Column to duplicate",description:"Column to duplicate",attrs:{placeholder:"Enter a column"}},new_column_name:{type:"string",minLength:1,title:"New column name for duplicated column",description:"New column name for duplicated column",attrs:{placeholder:"Enter a column name"}}},required:["name","column","new_column_name"],additionalProperties:!1};var Xx={$schema:"http://json-schema.org/draft-07/schema#",title:"Formula step",type:"object",properties:{name:{type:"string",enum:["formula"]},formula:{type:"string",minLength:1,title:"Formula",description:"Formula",attrs:{placeholder:"Enter a formula"}},new_column:{type:"string",minLength:1,title:"New column name",description:"New column name",attrs:{placeholder:"Enter a new column name"}}},required:["name","formula","new_column"],additionalProperties:!1};var ew={$schema:"http://json-schema.org/draft-07/schema#",title:"Rename step",type:"object",properties:{name:{type:"string",enum:["rename"]},oldname:{type:"string",minLength:1,title:"Current column name",description:"The name of the column you want to modify.",attrs:{placeholder:"Enter a column name to replace"}},newname:{type:"string",minLength:1,title:"New column name",description:"The new name of the column",attrs:{placeholder:"Enter a new column name"}}},required:["name","oldname","newname"],additionalProperties:!1};var tw={aggregate:function(e){return Jx(Qx,"aggregations.items.newcolumn",e.columnNames)},argmax:{$schema:"http://json-schema.org/draft-07/schema#",title:"Argmax step",type:"object",properties:{name:{type:"string",enum:["argmax"]},column:{type:"string",minLength:1,title:"Search max in:",description:"The column in which to find max value",attrs:{placeholder:"Add a column"}},groups:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group the data if needing to find a max for several groups",attrs:{placeholder:"Add columns"}}},required:["column"],additionalProperties:!1},argmin:{$schema:"http://json-schema.org/draft-07/schema#",title:"Argmin step",type:"object",properties:{name:{type:"string",enum:["argmin"]},column:{type:"string",minLength:1,title:"Search min in:",description:"The column in which to find min value",attrs:{placeholder:"Add a column"}},groups:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group the data if needing to find a min for several groups",attrs:{placeholder:"Add columns"}}},required:["column"],additionalProperties:!1},concatenate:function(e){return Jx(Kx,"new_column_name",e.columnNames)},delete:{$schema:"http://json-schema.org/draft-07/schema#",title:"Delete column step",type:"object",properties:{name:{type:"string",enum:["delete"]},columns:{type:"array",minItems:1,items:{type:"string",minLength:1},title:"Delete columns",description:"Columns to delete",attrs:{placeholder:"Select columns to delete"}}},required:["name","columns"],additionalProperties:!1},duplicate:function(e){return Jx(Yx,"new_column_name",e.columnNames)},domain:{$schema:"http://json-schema.org/draft-07/schema#",title:"Domain column step",type:"object",properties:{name:{type:"string",enum:["domain"]},domain:{type:"string",minLength:1,title:"domain's name",description:"domain's name",attrs:{placeholder:"Choose a domain"}}},required:["name","domain"],additionalProperties:!1},fillna:{$schema:"http://json-schema.org/draft-07/schema#",title:"Fillna step",type:"object",properties:{name:{type:"string",enum:["fillna"]},column:{type:"string",minLength:1,title:"Column in which to fill null values",description:"Column in which to fill null values",attrs:{placeholder:"Enter a column"}},value:{type:["string","number","boolean"],minLength:0,title:"The value used to fill nulls",description:"The value used to fill nulls",attrs:{placeholder:"Enter a value"}}},required:["name","column","value"],additionalProperties:!1},filter:{$schema:"http://json-schema.org/draft-07/schema#",title:"Filter schema",type:"object",properties:{name:{type:"string",enum:["filter"]},condition:{type:"object",properties:{and:{type:"array",minItems:1,title:"And condition",items:{$ref:"#/definitions/simpleCondition"}}},required:["and"],additionalProperties:!1}},definitions:{simpleCondition:{type:"object",properties:{column:{type:"string",minLength:1,title:"Column name",description:"The name of the column you want to filter on.",attrs:{placeholder:"Enter the column name"}},value:{type:["string","number","boolean","null","array"],minLength:1,title:"Value",description:"The value to compare",attrs:{placeholder:"Enter a value"}},operator:{type:"string",enum:["eq","ne","gt","ge","lt","le","in","nin"],title:"Operator",description:"The filter operator",attrs:{placeholder:"Choose the filter operator"}}},required:["column","value","operator"],additionalProperties:!1}},required:["name","condition"],additionalProperties:!1},formula:function(e){return Jx(Xx,"new_column",e.columnNames)},fromdate:{$schema:"http://json-schema.org/draft-07/schema#",title:"Convert date column to text step",type:"object",properties:{name:{type:"string",enum:["fromdate"]},column:{type:"string",minLength:1,title:"Column to convert",description:"Column to convert",attrs:{placeholder:"Select a column"}},format:{type:"string",minLength:1,title:"Date format",description:"Date format",attrs:{placeholder:"Enter a date format"}}},required:["name","column","format"],additionalProperties:!1},lowercase:{$schema:"http://json-schema.org/draft-07/schema#",title:"Convert column to lowercase",type:"object",properties:{name:{type:"string",enum:["lowercase"]},column:{type:"string",minLength:1,title:"Column to convert",description:"Column to convert",attrs:{placeholder:"Enter a column"}}},required:["name","column"],additionalProperties:!1},percentage:{$schema:"http://json-schema.org/draft-07/schema#",title:"Percentage step",type:"object",properties:{name:{type:"string",enum:["percentage"]},column:{type:"string",minLength:1,title:"Value column",description:"The column on which to base the percentage computation",attrs:{placeholder:"Add a column"}},group:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group the data if needing to segment the percentage computation",attrs:{placeholder:"Add columns"}}},required:["column"],additionalProperties:!1},pivot:{$schema:"http://json-schema.org/draft-07/schema#",title:"Pivot step",type:"object",properties:{name:{type:"string",enum:["pivot"]},index:{type:"array",minItems:1,items:{type:"string",minLength:1},title:"Index",description:"The columns name used as index",attrs:{placeholder:"Select columns"}},column_to_pivot:{type:"string",minLength:1,title:"Column to pivot",description:"The column to pivot",attrs:{placeholder:"Select a column"}},value_column:{type:"string",minLength:1,title:"Value colum...",description:"Column on which aggregate function will apply",attrs:{placeholder:"Select a column"}},agg_function:{type:"string",enum:["sum","avg","count","min","max"]}},required:["name","index","column_to_pivot","value_column","agg_function"],additionalProperties:!1},rename:function(e){return Jx(ew,"newname",e.columnNames)},replace:{$schema:"http://json-schema.org/draft-07/schema#",title:"Replace step",type:"object",properties:{name:{type:"string",enum:["replace"]},search_column:{type:"string",items:{type:"string",minLength:1},title:"Search",description:"Columns in which to search values to replace",attrs:{placeholder:"Enter a column"}},to_replace:{type:"array",items:{type:"array",items:{type:["string","number","boolean"],minItems:2,maxItems:2},minItems:1},minItems:1,title:"To replace",description:"Values to replace"}},required:["name","search_column","to_replace"],additionalProperties:!1},select:{$schema:"http://json-schema.org/draft-07/schema#",title:"Keep columns",type:"object",properties:{name:{type:"string",enum:["select"]},columns:{type:"array",minItems:1,items:{type:"string",minLength:1},title:"Keep columns",description:"Columns to keep",attrs:{placeholder:"Select columns to keep"}}},required:["name","columns"],additionalProperties:!1},sort:{$schema:"http://json-schema.org/draft-07/schema#",title:"Sort column step",type:"object",properties:{name:{type:"string",enum:["sort"]},columns:{type:"array",minItems:1,title:"Columns to sort",description:"Columns to sort",attrs:{placeholder:"Enter columns"},items:{type:"object",title:"Column to sort",description:"Column to sort",properties:{column:{type:"string",minLength:1},order:{type:"string",enum:["asc","desc"]}}}}},required:["name","columns"],additionalProperties:!1},split:{$schema:"http://json-schema.org/draft-07/schema#",title:"Split step",type:"object",properties:{name:{type:"string",enum:["split"]},column:{type:"string",minLength:1,title:"Split column...",description:"The column to split",attrs:{placeholder:"Select a column"}},delimiter:{type:"string",title:"Delimiter",description:"The delimiter used to split column",attrs:{placeholder:"Enter a tet delimiter"},minLength:1},number_cols_to_keep:{type:"integer",title:"Number of columns to keep",description:"The number of columns to keep after splitting",attrs:{placeholder:"Enter an integer"}}},required:["column","delimiter","number_cols_to_keep"],additionalProperties:!1},substring:{$schema:"http://json-schema.org/draft-07/schema#",title:"Substring step",type:"object",properties:{name:{type:"string",enum:["substring"]},column:{type:"string",minLength:1,title:"Extract a substring from...",description:"The column from which you need extract a substring",attrs:{placeholder:"Select a column"}},start_index:{type:"integer",title:"Substring starts at index...",description:"The index at which starts the substring (begins at 0)",attrs:{placeholder:"Enter an integer"},not:{const:0}},end_index:{type:"integer",title:"Number of characters to keep:",description:"The index at which ends the substring (-1 = last index)",attrs:{placeholder:"Enter an integer"},not:{const:0}}},required:["column","start_index","end_index"],additionalProperties:!1},todate:{$schema:"http://json-schema.org/draft-07/schema#",title:"Convert text column to date step",type:"object",properties:{name:{type:"string",enum:["todate"]},column:{type:"string",minLength:1,title:"Column to convert",description:"Column to convert",attrs:{placeholder:"Select a column"}},format:{type:"string",minLength:1,title:"Date format",description:"Date format",attrs:{placeholder:"Enter a date format"}}},required:["name","column"],additionalProperties:!1},top:{$schema:"http://json-schema.org/draft-07/schema#",title:"Top step",type:"object",properties:{name:{type:"string",enum:["top"]},rank_on:{type:"string",minLength:1,title:"Sort column...",description:"The column used to sort rows",attrs:{placeholder:"Select a column"}},sort:{type:"string",title:"Sort order",description:"The order used to sort values",attrs:{placeholder:"Select an order"},enum:["asc","desc"]},limit:{type:"integer",title:"Number of top rows",description:"The number of top rows to get after sorting",attrs:{placeholder:"Enter an integer"}},groups:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group the data if needing to get top rows in several groups",attrs:{placeholder:"Add columns"}}},required:["rank_on","sort","limit"],additionalProperties:!1},unpivot:{$schema:"http://json-schema.org/draft-07/schema#",title:"Unpivot step",type:"object",properties:{name:{type:"string",enum:["unpivot"]},keep:{type:"array",items:{type:"string",minlength:1},minItems:1,title:"Columns to keep fixed",description:"Columns to keep fixed around which to unpivot columns.",attrs:{placeholder:"Columns to keep fixed"}},unpivot:{type:"array",items:{type:"string",minlength:1},minItems:1,title:"Columns to unpivot",description:"Columns to unpivot.",attrs:{placeholder:"Columns to unpivot"}},unpivot_column_name:{type:"string",minLength:1,title:"Name of the new dimension column",description:"Name of the new dimension column",attrs:{placeholder:"Enter a new column name"}},value_column_name:{type:"string",minLength:1,title:"Name of the new value column",description:"Name of the new value column created after unpivot",attrs:{placeholder:"Enter a new column name"}},dropna:{type:"boolean",default:!0,title:"Drop null values",description:"Whether null values have to be kept or discarded"}},required:["name","keep","unpivot","unpivot_column_name","value_column_name","dropna"],additionalProperties:!1},uppercase:{$schema:"http://json-schema.org/draft-07/schema#",title:"Convert column to uppercase",type:"object",properties:{name:{type:"string",enum:["uppercase"]},column:{type:"string",minLength:1,title:"Column to convert",description:"Column to convert",attrs:{placeholder:"Enter a column"}}},required:["name","column"],additionalProperties:!1}};var rw=Ng({},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedColumnAttrName=null,t.title="",t.editedStep=u({},t.initialStepValue),t.errors=null,t.validator=function(){return!1},t}var r;return s(t,e),r=t,t.prototype.created=function(){this.initialize()},t.prototype.initialize=function(){var e,t,r,n=this.stepSelectedColumn;n&&this.setSelectedColumns({column:n}),this.editedStepModel=(e=this.stepname,t=this,"function"==typeof(r=tw[e])?r(t):r);var i=Tx({schemaId:"auto",allErrors:!0});!function(e){e.addKeyword("columnNameAlreadyUsed",{type:"string",validate:function(e,t){return!e.columnNames.includes(t)}})}(i);var a=i.compile(this.editedStepModel),o=new jv(this.interpolateFunc,this.variables),s=function(e){var t=a(o.interpolateStep(e));return s.errors=a.errors,t};this.validator=s},t.prototype.mounted=function(){this.isStepCreation&&this.selectedColumns.length>0&&(this.stepSelectedColumn=this.selectedColumns[0])},Object.defineProperty(t.prototype,"$$super",{get:function(){return new Proxy(r,(e=this,{get:function(t,r){var n=t.options.methods[r];return"function"==typeof n?n.bind(e):n}}));var e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return null},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.onSelectedColumnsChanged=function(e,t){e.length>0&&!b.isEqual(e,t)&&(this.stepSelectedColumn=e[0])},t.prototype.updateSelectedColumn=function(e){},t.prototype.validate=function(){return!1===this.validator(u({},this.editedStep))?this.validator.errors:null},t.prototype.cancelEdition=function(){this.$emit("cancel");var e=this.isStepCreation?this.computedActiveStepIndex:this.selectedStepIndex+1;this.selectStep({index:e})},t.prototype.submit=function(){var e=this.validate();this.errors=e,null===e&&this.$emit("formSaved",u({},this.editedStep))},c([pg({type:Boolean,default:!0})],t.prototype,"isStepCreation",void 0),c([pg({type:Object,default:null})],t.prototype,"initialStepValue",void 0),c([Qv.State],t.prototype,"interpolateFunc",void 0),c([Qv.State],t.prototype,"pipeline",void 0),c([Qv.State],t.prototype,"selectedStepIndex",void 0),c([Qv.State],t.prototype,"variables",void 0),c([Qv.Mutation],t.prototype,"selectStep",void 0),c([Qv.Mutation],t.prototype,"setSelectedColumns",void 0),c([Qv.Getter],t.prototype,"columnNames",void 0),c([Qv.Getter],t.prototype,"computedActiveStepIndex",void 0),c([Qv.Getter],t.prototype,"selectedColumns",void 0),c([mg("selectedColumns")],t.prototype,"onSelectedColumnsChanged",null),t=r=c([lg({components:{StepFormTitle:Zx,StepFormButtonbar:Hx}})],t)}(i.a),void 0,void 0,void 0,void 0,void 0),nw={};function iw(e,t){return void 0===t&&(t=nw),function(r){if(e.vqbstep in t)throw new Error("a form is already resgistered for step "+e.vqbstep);r.prototype.stepname=e.vqbstep;var n=lg(b.omit(e,"vqbstep"))(r);return t[e.vqbstep]=n,i.a.component(e.vqbstep+"-step-form",n),n}}const aw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Aggregate",t.widgetAggregation=gy,t}return s(t,e),Object.defineProperty(t.prototype,"defaultAggregation",{get:function(){return{column:"",newcolumn:"",aggfunction:"sum"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregations",{get:function(){return this.editedStep.aggregations.length?this.editedStep.aggregations:[this.defaultAggregation]},set:function(e){this.editedStep.aggregations=h(e)},enumerable:!0,configurable:!0}),t.prototype.submit=function(){var e,t,r,n,i={};try{for(var a=p(this.editedStep.aggregations),o=a.next();!o.done;o=a.next()){(c=o.value).newcolumn=c.column,i[c.newcolumn]=(i[c.newcolumn]||0)+1}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}try{for(var s=p(this.editedStep.aggregations),u=s.next();!u.done;u=s.next()){var c;i[(c=u.value).newcolumn]>1&&(c.newcolumn=c.newcolumn+"-"+c.aggfunction)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}this.$$super.submit()},c([pg({type:Object,default:function(){return{name:"aggregate",on:[],aggregations:[]}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"aggregate",name:"aggregate-step-form",components:{ListWidget:My,MultiselectWidget:xy}})],t)}(rw);var ow=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("MultiselectWidget",{attrs:{id:"groupbyColumnsInput",name:"Group rows by...",options:e.columnNames,placeholder:"Add columns","data-path":".on",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.on[e.editedStep.on.length-1]})}},model:{value:e.editedStep.on,callback:function(t){e.$set(e.editedStep,"on",t)},expression:"editedStep.on"}}),e._v(" "),r("ListWidget",{attrs:{addFieldName:"Add aggregation",id:"toremove",name:"And aggregate...",defaultItem:e.defaultAggregation,widget:e.widgetAggregation,"automatic-new-field":!1,"data-path":".aggregations",errors:e.errors},model:{value:e.aggregations,callback:function(t){e.aggregations=t},expression:"aggregations"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};ow._withStripped=!0;Ng({render:ow,staticRenderFns:[]},void 0,aw,void 0,!1,void 0,void 0,void 0);const sw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.column=null,t}return s(t,e),t.prototype.created=function(){if(this.value)this.column=this.value;else{var e=this.selectedColumns;e.length&&(this.column=e[0])}},t.prototype.valueChanged=function(){this.column&&(this.$emit("input",this.column),this.setSelectedColumns({column:this.column}))},t.prototype.onSelectedColumnsChanged=function(e,t){!b.isEqual(e,t)&&this.syncWithSelectedColumn&&(this.column=e[0])},c([pg({type:String,default:"columnInput"})],t.prototype,"id",void 0),c([pg({type:String,default:"column"})],t.prototype,"name",void 0),c([pg({type:String,default:"Enter a column"})],t.prototype,"placeholder",void 0),c([pg({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),c([pg({default:null})],t.prototype,"dataPath",void 0),c([pg({default:null})],t.prototype,"value",void 0),c([pg({default:!0})],t.prototype,"syncWithSelectedColumn",void 0),c([Qv.Mutation],t.prototype,"setSelectedColumns",void 0),c([Qv.Getter],t.prototype,"selectedColumns",void 0),c([Qv.Getter],t.prototype,"columnNames",void 0),c([mg("selectedColumns")],t.prototype,"onSelectedColumnsChanged",null),t=c([lg({components:{AutocompleteWidget:hy}})],t)}(i.a);var uw=function(){var e=this,t=e.$createElement;return(e._self._c||t)("AutocompleteWidget",{attrs:{id:":id",name:e.name,options:e.columnNames,placeholder:e.placeholder,"data-path":e.dataPath,errors:e.errors},on:{input:e.valueChanged},model:{value:e.column,callback:function(t){e.column=t},expression:"column"}})};uw._withStripped=!0;var cw=Ng({render:uw,staticRenderFns:[]},void 0,sw,void 0,!1,void 0,void 0,void 0);const lw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Argmin",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"argmin",column:""}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"argmin",name:"argmin-step-form",components:{ColumnPicker:cw,MultiselectWidget:xy}})],t)}(rw);var fw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"valueColumnInput",name:"Search min value in...",placeholder:"Enter a column name","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("MultiselectWidget",{attrs:{id:"groupbyColumnsInput",name:"(Optional) Group by...",options:e.columnNames,placeholder:"Add columns","data-path":".groups",errors:e.errors},model:{value:e.editedStep.groups,callback:function(t){e.$set(e.editedStep,"groups",t)},expression:"editedStep.groups"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};fw._withStripped=!0;Ng({render:fw,staticRenderFns:[]},void 0,lw,void 0,!1,void 0,void 0,void 0);const pw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Argmax",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"argmax",column:""}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"argmax",name:"argmax-step-form",components:{ColumnPicker:cw,MultiselectWidget:xy}})],t)}(rw);var mw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"valueColumnInput",name:"Search max value in...",placeholder:"Enter a column name","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("MultiselectWidget",{attrs:{id:"groupbyColumnsInput",name:"(Optional) Group by...",options:e.columnNames,placeholder:"Add columns","data-path":".groups",errors:e.errors},model:{value:e.editedStep.groups,callback:function(t){e.$set(e.editedStep,"groups",t)},expression:"editedStep.groups"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};mw._withStripped=!0;Ng({render:mw,staticRenderFns:[]},void 0,pw,void 0,!1,void 0,void 0,void 0);const hw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Concatenate columns",t.columnPicker=cw,t}return s(t,e),t.prototype.mounted=function(){this.isStepCreation&&this.selectedColumns[0]?this.editedStep={name:"concatenate",columns:[this.selectedColumns[0]],separator:"",new_column_name:""}:this.editedStep=u({},this.initialStepValue)},Object.defineProperty(t.prototype,"toConcatenate",{get:function(){return this.editedStep.columns.length?this.editedStep.columns:[""]},set:function(e){this.editedStep.columns=h(e)},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"concatenate",columns:[""],separator:"",new_column_name:""}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"concatenate",name:"concatenate-step-form",components:{ColumnPicker:cw,InputTextWidget:Ny,ListWidget:My}})],t)}(rw);var dw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ListWidget",{attrs:{addFieldName:"Add columns",id:"toConcatenate",name:"Columns to concatenate:",defaultItem:[],widget:e.columnPicker,componentProps:{syncWithSelectedColumn:!1},"automatic-new-field":!1,"data-path":".columns",errors:e.errors},model:{value:e.toConcatenate,callback:function(t){e.toConcatenate=t},expression:"toConcatenate"}}),e._v(" "),r("InputTextWidget",{attrs:{id:"separator",name:"Separator:",placeholder:"Enter string of any length","data-path":".separator",errors:e.errors},model:{value:e.editedStep.separator,callback:function(t){e.$set(e.editedStep,"separator",t)},expression:"editedStep.separator"}}),e._v(" "),r("InputTextWidget",{attrs:{id:"newColumnName",name:"New column name:",placeholder:"Enter a columnn name","data-path":".new_column_name",errors:e.errors},model:{value:e.editedStep.new_column_name,callback:function(t){e.$set(e.editedStep,"new_column_name",t)},expression:"editedStep.new_column_name"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};dw._withStripped=!0;Ng({render:dw,staticRenderFns:[]},void 0,hw,void 0,!1,void 0,void 0,void 0);const vw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Delete Columns",t}return s(t,e),c([pg({type:Object,default:function(){return{name:"delete",columns:[]}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"delete",name:"delete-step-form",components:{MultiselectWidget:xy}})],t)}(rw);var gw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("MultiselectWidget",{attrs:{id:"columnsInput",name:"Delete columns...",options:e.columnNames,placeholder:"Add columns","data-path":".columns",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.columns[e.editedStep.columns.length-1]})}},model:{value:e.editedStep.columns,callback:function(t){e.$set(e.editedStep,"columns",t)},expression:"editedStep.columns"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};gw._withStripped=!0;Ng({render:gw,staticRenderFns:[]},void 0,vw,void 0,!1,void 0,void 0,void 0);const yw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Duplicate column",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on duplicate "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"duplicate",column:"",new_column_name:""}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"duplicate",name:"duplicate-step-form",components:{ColumnPicker:cw,InputTextWidget:Ny}})],t)}(rw);var bw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"columnInput",name:"Duplicate column...",placeholder:"Enter a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("InputTextWidget",{attrs:{id:"newColumnNameInput",name:"New column name:",placeholder:"Enter a column name","data-path":".new_column_name",errors:e.errors},model:{value:e.editedStep.new_column_name,callback:function(t){e.$set(e.editedStep,"new_column_name",t)},expression:"editedStep.new_column_name"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};bw._withStripped=!0;Ng({render:bw,staticRenderFns:[]},void 0,yw,void 0,!1,void 0,void 0,void 0);const xw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Select a domain",t}return s(t,e),c([pg({type:Object,default:function(){return{name:"domain",domain:""}}})],t.prototype,"initialStepValue",void 0),c([Qv.State],t.prototype,"domains",void 0),t=c([iw({vqbstep:"domain",name:"domain-step-form",components:{AutocompleteWidget:hy}})],t)}(rw);var ww=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("AutocompleteWidget",{attrs:{id:"domainInput",name:"Select domain...",options:e.domains,placeholder:"Choose a domain"},model:{value:e.editedStep.domain,callback:function(t){e.$set(e.editedStep,"domain",t)},expression:"editedStep.domain"}}),e._v(" "),r("step-form-buttonbar",{attrs:{errors:e.errors,cancel:e.cancelEdition,submit:e.submit}})],1)};ww._withStripped=!0;Ng({render:ww,staticRenderFns:[]},void 0,xw,void 0,!1,void 0,void 0,void 0);const _w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Fill null values",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on fillna "column" field');null!==e&&(this.editedStep.column=e)},enumerable:!0,configurable:!0}),t.prototype.submit=function(){var e=this.columnTypes[this.editedStep.column];void 0!==e&&(this.editedStep.value=Tv(this.editedStep.value,e)),this.$$super.submit()},c([pg({type:Object,default:function(){return{name:"fillna",column:"",value:""}}})],t.prototype,"initialStepValue",void 0),c([Qv.Getter],t.prototype,"columnTypes",void 0),t=c([iw({vqbstep:"fillna",name:"fillna-step-form",components:{ColumnPicker:cw,InputTextWidget:Ny}})],t)}(rw);var Nw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"columnInput",name:"Replace null values in...",placeholder:"Enter a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("InputTextWidget",{attrs:{id:"valueInput",name:"With...",placeholder:"Enter a value","data-path":".value",errors:e.errors},model:{value:e.editedStep.value,callback:function(t){e.$set(e.editedStep,"value",t)},expression:"editedStep.value"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};Nw._withStripped=!0;Ng({render:Nw,staticRenderFns:[]},void 0,_w,void 0,!1,void 0,void 0,void 0);const Ew=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editedValue=[],t.options=[],t}return s(t,e),t.prototype.clearOptions=function(){this.options=[]},t.prototype.updateOptions=function(e){e.length>0&&(this.options=[e])},t.prototype.updateEditedValue=function(e){this.editedValue=e},t.prototype.updateValue=function(e){this.$emit("input",e)},c([pg({type:String,default:null})],t.prototype,"id",void 0),c([pg({type:String,default:""})],t.prototype,"name",void 0),c([pg({type:String,default:""})],t.prototype,"placeholder",void 0),c([pg({type:Array,default:function(){return[]}})],t.prototype,"value",void 0),c([mg("value",{immediate:!0})],t.prototype,"updateEditedValue",null),c([mg("editedValue")],t.prototype,"updateValue",null),t=c([lg({name:"multi-input-text-widget",components:{Multiselect:Ig}})],t)}(i.a);var Sw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-multiinputtext__container"},[r("label",{staticClass:"widget-multiinputtext__label",attrs:{for:e.id}},[e._v(e._s(e.name))]),e._v(" "),r("multiselect",{attrs:{options:e.options,multiple:!0,taggable:!0,"close-on-select":!1,placeholder:e.placeholder},on:{input:e.clearOptions,"search-change":e.updateOptions},model:{value:e.editedValue,callback:function(t){e.editedValue=t},expression:"editedValue"}},[r("template",{slot:"noOptions"},[e._v(e._s(e.placeholder))])],2)],1)};Sw._withStripped=!0;var Mw=Ng({render:Sw,staticRenderFns:[]},void 0,Ew,void 0,!1,void 0,void 0,void 0);const Aw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editedValue=u({},t.value),t.operators=[{operator:"eq",label:"equal",inputWidget:Ny},{operator:"ne",label:"not equal",inputWidget:Ny},{operator:"gt",label:"be greater than",inputWidget:Ny},{operator:"ge",label:"be greater than or equal to",inputWidget:Ny},{operator:"lt",label:"be less than",inputWidget:Ny},{operator:"le",label:"be less than or equal to",inputWidget:Ny},{operator:"in",label:"be one of",inputWidget:Mw},{operator:"nin",label:"not be one of",inputWidget:Mw}],t.placeholder="Enter a value",t}return s(t,e),Object.defineProperty(t.prototype,"operator",{get:function(){var e=this;return this.operators.filter(function(t){return t.operator===e.editedValue.operator})[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputWidget",{get:function(){var e=this;return this.operators.filter(function(t){return t.operator===e.editedValue.operator})[0].inputWidget},enumerable:!0,configurable:!0}),t.prototype.updateStepOperator=function(e){this.editedValue.operator=e.operator,"in"===this.editedValue.operator||"nin"===this.editedValue.operator?this.editedValue.value=[]:this.editedValue.value=""},t.prototype.updateEditedValue=function(e){this.editedValue=e},t.prototype.updateValue=function(e){this.$emit("input",e)},c([pg({type:Object,default:function(){return{column:"",value:"",operator:"eq"}}})],t.prototype,"value",void 0),c([pg({type:String,default:null})],t.prototype,"dataPath",void 0),c([pg({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),c([Qv.Getter],t.prototype,"columnNames",void 0),c([Qv.Mutation],t.prototype,"setSelectedColumns",void 0),c([mg("value",{immediate:!0})],t.prototype,"updateEditedValue",null),c([mg("editedValue",{deep:!0})],t.prototype,"updateValue",null),t=c([lg({name:"filter-simple-condition-widget",components:{AutocompleteWidget:hy,InputTextWidget:Ny}})],t)}(i.a);var Ow=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filter-form-simple-condition__container"},[r("div",{staticClass:"filter-form-simple-condition-column-input"},[r("AutocompleteWidget",{attrs:{id:"columnInput",options:e.columnNames,placeholder:"Column","data-path":e.dataPath+".column",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedValue.column})}},model:{value:e.editedValue.column,callback:function(t){e.$set(e.editedValue,"column",t)},expression:"editedValue.column"}})],1),e._v(" "),r("div",{staticClass:"filter-form-simple-condition-operator-input"},[r("AutocompleteWidget",{attrs:{id:"filterOperator",value:e.operator,options:e.operators,placeholder:"Filter operator",trackBy:"operator",label:"label"},on:{input:e.updateStepOperator}})],1),e._v(" "),r(e.inputWidget,{tag:"component",attrs:{placeholder:e.placeholder,"data-path":e.dataPath+".value",errors:e.errors},model:{value:e.editedValue.value,callback:function(t){e.$set(e.editedValue,"value",t)},expression:"editedValue.value"}})],1)};Ow._withStripped=!0;var Cw=Ng({render:Ow,staticRenderFns:[]},void 0,Aw,"data-v-0281e652",!1,void 0,void 0,void 0);const Pw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Filter",t.widgetFilterSimpleCondition=Cw,t}return s(t,e),t.prototype.mounted=function(){if(this.isStepCreation&&this.selectedColumns[0]){var e={and:[{column:this.selectedColumns[0],value:"",operator:"eq"}]};this.editedStep={name:"filter",condition:e}}else this.editedStep={name:"filter",condition:u({},this.initialStepValue.condition)}},Object.defineProperty(t.prototype,"defaultCondition",{get:function(){return{column:"",value:"",operator:"eq"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conditions",{get:function(){return x(this.editedStep.condition)&&this.editedStep.condition.and.length?this.editedStep.condition.and:[this.defaultCondition]},set:function(e){x(this.editedStep.condition)&&(this.editedStep.condition.and=h(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multipleConditionsClass",{get:function(){return{"filter-form--multiple-conditions":this.conditions.length>1}},enumerable:!0,configurable:!0}),t.prototype.submit=function(){var e,t;if(x(this.editedStep.condition)){var r=function(e){var t=n.columnTypes[e.column];void 0!==t&&(Array.isArray(e.value)?e.value=e.value.map(function(e){return Tv(e,t)}):e.value=Tv(e.value,t))},n=this;try{for(var i=p(this.editedStep.condition.and),a=i.next();!a.done;a=i.next()){r(a.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}this.$$super.submit()},c([pg({type:Object,default:function(){return{name:"filter",condition:{and:[{column:"",value:"",operator:"eq"}]}}}})],t.prototype,"initialStepValue",void 0),c([Qv.Getter],t.prototype,"columnTypes",void 0),t=c([iw({vqbstep:"filter",name:"filter-step-form",components:{FilterSimpleConditionWidget:Cw,ListWidget:My}})],t)}(rw);var Tw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filter-form",class:e.multipleConditionsClass},[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),e._m(0),e._v(" "),r("ListWidget",{attrs:{addFieldName:"Add condition",separatorLabel:"and",id:"filterConditions",defaultItem:e.defaultCondition,widget:e.widgetFilterSimpleCondition,"automatic-new-field":!1,"data-path":".condition.and",errors:e.errors},model:{value:e.conditions,callback:function(t){e.conditions=t},expression:"conditions"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};Tw._withStripped=!0;Ng({render:Tw,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"filter-form-headers__container"},[t("div",{staticClass:"filter-form-header"},[this._v("Values in...")]),this._v(" "),t("div",{staticClass:"filter-form-header"},[this._v("Must...")])])}]},void 0,Pw,"data-v-127ea9e0",!1,void 0,void 0,void 0);const kw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Formula",t}return s(t,e),t.prototype.submit=function(){this.$$super.submit(),null===this.errors&&this.setSelectedColumns({column:this.editedStep.new_column})},t.prototype.validate=function(){var e=this.validator(u({},this.editedStep)),t=[];try{yv(this.editedStep.formula)}catch(r){e=!1,t.push({dataPath:".formula",message:"Parsing error: invalid formula",keyword:"parsing",schemaPath:".formula",params:""})}return!1===e?t=this.validator.errors?h(t,this.validator.errors):t:null},c([pg({type:Object,default:function(){return{name:"formula",new_column:"",formula:""}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"formula",name:"formula-step-form",components:{InputTextWidget:Ny}})],t)}(rw);var Rw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("InputTextWidget",{attrs:{id:"formulaInput",name:"Formula:",placeholder:"","data-path":".formula",errors:e.errors},model:{value:e.editedStep.formula,callback:function(t){e.$set(e.editedStep,"formula",t)},expression:"editedStep.formula"}}),e._v(" "),r("InputTextWidget",{attrs:{id:"newColumnInput",name:"New colum:",placeholder:"Enter a new column name","data-path":".new_column",errors:e.errors},model:{value:e.editedStep.new_column,callback:function(t){e.$set(e.editedStep,"new_column",t)},expression:"editedStep.new_column"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};Rw._withStripped=!0;Ng({render:Rw,staticRenderFns:[]},void 0,kw,void 0,!1,void 0,void 0,void 0);const Iw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Convert Column From Date to Text",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"fromdate",column:"",format:""}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"fromdate",name:"fromdate-step-form",components:{ColumnPicker:cw,InputTextWidget:Ny}})],t)}(rw);var jw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"column",name:"Column to convert:",options:e.columnNames,placeholder:"Add columns","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("InputTextWidget",{attrs:{id:"format",name:"Date format of output text:",placeholder:"Enter a date format","data-path":".format",errors:e.errors},model:{value:e.editedStep.format,callback:function(t){e.$set(e.editedStep,"format",t)},expression:"editedStep.format"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};jw._withStripped=!0;Ng({render:jw,staticRenderFns:[]},void 0,Iw,void 0,!1,void 0,void 0,void 0);const Fw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Percentage of total",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on percentage "value column" field');null!==e&&(this.editedStep.column=e)},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"percentage",column:""}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"percentage",name:"percentage-step-form",components:{ColumnPicker:cw,MultiselectWidget:xy}})],t)}(rw);var Dw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"valueColumnInput",name:"Value column...",placeholder:"Enter a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("MultiselectWidget",{attrs:{id:"groupbyColumnsInput",name:"(Optional) Group by...",options:e.columnNames,placeholder:"Add columns","data-path":".group",errors:e.errors},model:{value:e.editedStep.group,callback:function(t){e.$set(e.editedStep,"group",t)},expression:"editedStep.group"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};Dw._withStripped=!0;Ng({render:Dw,staticRenderFns:[]},void 0,Fw,void 0,!1,void 0,void 0,void 0);const $w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Pivot column",t.aggregationFunctions=["sum","avg","count","min","max"],t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column_to_pivot},set:function(e){if(null===e)throw new Error('should not try to set null on percentage "value column" field');null!==e&&(this.editedStep.column_to_pivot=e)},enumerable:!0,configurable:!0}),t.prototype.validate=function(){var e=this.$$super.validate();return null!==e?e:this.editedStep.column_to_pivot===this.editedStep.value_column||this.editedStep.index.includes(this.editedStep.column_to_pivot)?[{params:[],schemaPath:".column_to_pivot",keyword:"columnNameConflict",dataPath:".column_to_pivot",message:"Column name "+this.editedStep.column_to_pivot+" is used at least twice but should be unique"}]:this.editedStep.index.includes(this.editedStep.value_column)?[{params:[],schemaPath:".value_column",keyword:"columnNameConflict",dataPath:".value_column",message:"Column name "+this.editedStep.value_column+" is used at least twice but should be unique"}]:null},c([pg({type:Object,default:function(){return{name:"pivot",index:[],column_to_pivot:"",value_column:"",agg_function:"sum"}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"pivot",name:"pivot-step-form",components:{ColumnPicker:cw,AutocompleteWidget:hy,MultiselectWidget:xy}})],t)}(rw);var zw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("MultiselectWidget",{attrs:{id:"indexInput",name:"Keep columns...",options:e.columnNames,placeholder:"Add columns","data-path":".index",errors:e.errors},model:{value:e.editedStep.index,callback:function(t){e.$set(e.editedStep,"index",t)},expression:"editedStep.index"}}),e._v(" "),r("ColumnPicker",{attrs:{id:"columnToPivotInput",name:"Pivot column...",placeholder:"Enter a column","data-path":".column_to_pivot",errors:e.errors},model:{value:e.editedStep.column_to_pivot,callback:function(t){e.$set(e.editedStep,"column_to_pivot",t)},expression:"editedStep.column_to_pivot"}}),e._v(" "),r("AutocompleteWidget",{attrs:{id:"valueColumnInput",name:"Use values in...",options:e.columnNames,placeholder:"Select a column","data-path":".value_column",errors:e.errors},model:{value:e.editedStep.value_column,callback:function(t){e.$set(e.editedStep,"value_column",t)},expression:"editedStep.value_column"}}),e._v(" "),r("AutocompleteWidget",{attrs:{id:"aggregationFunctionInput",name:"Aggregate values using...",options:e.aggregationFunctions,placeholder:"Aggregation function","data-path":".agg_function",errors:e.errors},model:{value:e.editedStep.agg_function,callback:function(t){e.$set(e.editedStep,"agg_function",t)},expression:"editedStep.agg_function"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};zw._withStripped=!0;Ng({render:zw,staticRenderFns:[]},void 0,$w,void 0,!1,void 0,void 0,void 0);const Lw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Rename Column",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.oldname},set:function(e){if(null===e)throw new Error('should not try to set null on rename "oldname" field');null!==e&&(this.editedStep.oldname=e)},enumerable:!0,configurable:!0}),t.prototype.submit=function(){this.$$super.submit(),null===this.errors&&this.setSelectedColumns({column:this.editedStep.newname})},c([pg({type:Object,default:function(){return{name:"rename",oldname:"",newname:""}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"rename",name:"rename-step-form",components:{ColumnPicker:cw,InputTextWidget:Ny}})],t)}(rw);var Bw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"oldnameInput",name:"Old name:",placeholder:"Enter the old column name","data-path":".oldname",errors:e.errors},model:{value:e.editedStep.oldname,callback:function(t){e.$set(e.editedStep,"oldname",t)},expression:"editedStep.oldname"}}),e._v(" "),r("InputTextWidget",{attrs:{id:"newnameInput",name:"New name:",placeholder:"Enter a new column name","data-path":".newname",errors:e.errors},model:{value:e.editedStep.newname,callback:function(t){e.$set(e.editedStep,"newname",t)},expression:"editedStep.newname"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};Bw._withStripped=!0;Ng({render:Bw,staticRenderFns:[]},void 0,Lw,void 0,!1,void 0,void 0,void 0);const qw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toReplace=h(t.value),t}return s(t,e),t.prototype.onToReplaceChanged=function(e,t){b.isEqual(e,t)||this.$emit("input",this.toReplace)},c([pg({type:Array,default:function(){return["",""]}})],t.prototype,"value",void 0),c([pg({type:String,default:null})],t.prototype,"dataPath",void 0),c([pg({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),c([mg("toReplace",{immediate:!0,deep:!0})],t.prototype,"onToReplaceChanged",null),t=c([lg({name:"replace-widget",components:{InputTextWidget:Ny}})],t)}(i.a);var Uw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-to-replace__container"},[r("InputTextWidget",{attrs:{id:"valueToReplace",placeholder:"Value to replace","data-path":e.dataPath+"[0]",errors:e.errors},model:{value:e.toReplace[0],callback:function(t){e.$set(e.toReplace,0,t)},expression:"toReplace[0]"}}),e._v(" "),r("InputTextWidget",{attrs:{id:"newValue",placeholder:"New value","data-path":e.dataPath+"[1]",errors:e.errors},model:{value:e.toReplace[1],callback:function(t){e.$set(e.toReplace,1,t)},expression:"toReplace[1]"}})],1)};Uw._withStripped=!0;var Vw=Ng({render:Uw,staticRenderFns:[]},void 0,qw,"data-v-3e30b74f",!1,void 0,void 0,void 0);const Hw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Replace values",t.replaceWidget=Vw,t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.search_column},set:function(e){if(null===e)throw new Error("should not try to set null on search_column field");this.editedStep.search_column=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toReplace",{get:function(){return this.editedStep.to_replace.length?this.editedStep.to_replace:[[]]},set:function(e){this.editedStep.to_replace=h(e)},enumerable:!0,configurable:!0}),t.prototype.submit=function(){var e,t,r=this.columnTypes[this.editedStep.search_column];try{for(var n=p(this.editedStep.to_replace),i=n.next();!i.done;i=n.next()){var a=i.value;void 0!==r&&(a[0]=Tv(a[0],r),a[1]=Tv(a[1],r))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.$$super.submit()},c([pg({type:Object,default:function(){return{name:"replace",search_column:"",to_replace:[[]]}}})],t.prototype,"initialStepValue",void 0),c([Qv.Getter],t.prototype,"columnTypes",void 0),t=c([iw({vqbstep:"replace",name:"replace-step-form",components:{ColumnPicker:cw,ListWidget:My}})],t)}(rw);var Ww=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"searchColumnInput",name:"Search in column...",placeholder:"Enter a column","data-path":".search_column",errors:e.errors},model:{value:e.editedStep.search_column,callback:function(t){e.$set(e.editedStep,"search_column",t)},expression:"editedStep.search_column"}}),e._v(" "),r("ListWidget",{attrs:{addFieldName:"Add a value to replace",id:"toReplace",name:"Values to replace:",defaultItem:[],widget:e.replaceWidget,"automatic-new-field":!1,"data-path":".to_replace",errors:e.errors},model:{value:e.toReplace,callback:function(t){e.toReplace=t},expression:"toReplace"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};Ww._withStripped=!0;Ng({render:Ww,staticRenderFns:[]},void 0,Hw,void 0,!1,void 0,void 0,void 0);const Gw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Keep columns",t}return s(t,e),c([pg({type:Object,default:function(){return{name:"select",columns:[]}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"select",name:"select-step-form",components:{MultiselectWidget:xy}})],t)}(rw);var Zw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("MultiselectWidget",{attrs:{id:"columnsInput",name:"Keep columns...",options:e.columnNames,placeholder:"Add columns","data-path":".columns",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.columns[e.editedStep.columns.length-1]})}},model:{value:e.editedStep.columns,callback:function(t){e.$set(e.editedStep,"columns",t)},expression:"editedStep.columns"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};Zw._withStripped=!0;Ng({render:Zw,staticRenderFns:[]},void 0,Gw,void 0,!1,void 0,void 0,void 0);const Jw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Split column",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"split",column:"",delimiter:""}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"split",name:"split-step-form",components:{ColumnPicker:cw,InputTextWidget:Ny}})],t)}(rw);var Qw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"columnToSplit",name:"Split column...",placeholder:"Enter a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("InputTextWidget",{attrs:{id:"delimiter",name:"Delimiter:",placeholder:"Enter a text delimiter","data-path":".delimiter",errors:e.errors},model:{value:e.editedStep.delimiter,callback:function(t){e.$set(e.editedStep,"delimiter",t)},expression:"editedStep.delimiter"}}),e._v(" "),r("InputTextWidget",{attrs:{id:"numberColsToKeep",type:"number",name:"Number of columns to keep:",placeholder:"Enter an integer","data-path":".number_cols_to_keep",errors:e.errors},model:{value:e.editedStep.number_cols_to_keep,callback:function(t){e.$set(e.editedStep,"number_cols_to_keep",e._n(t))},expression:"editedStep.number_cols_to_keep"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};Qw._withStripped=!0;Ng({render:Qw,staticRenderFns:[]},void 0,Jw,void 0,!1,void 0,void 0,void 0);const Kw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sort=u({},t.value),t}return s(t,e),t.prototype.onSortChanged=function(e,t){b.isEqual(e,t)||(this.sort=u({},e),this.$emit("input",this.sort))},c([pg({type:Object,default:function(){return{column:"",order:"asc"}}})],t.prototype,"value",void 0),c([pg({type:String,default:null})],t.prototype,"dataPath",void 0),c([pg({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),c([Qv.Getter],t.prototype,"columnNames",void 0),c([Qv.Mutation],t.prototype,"setSelectedColumns",void 0),c([mg("value",{immediate:!0,deep:!0})],t.prototype,"onSortChanged",null),t=c([lg({name:"sort-column-widget",components:{AutocompleteWidget:hy}})],t)}(i.a);var Yw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fieldset",{staticClass:"widget-sort__container"},[r("AutocompleteWidget",{attrs:{id:"columnInput",options:e.columnNames,name:"Column",placeholder:"Enter a column","data-path":e.dataPath+"[0]",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.sort.column})}},model:{value:e.sort.column,callback:function(t){e.$set(e.sort,"column",t)},expression:"sort.column"}}),e._v(" "),r("AutocompleteWidget",{attrs:{id:"sortOrderInput",name:"Order",options:["asc","desc"],placeholder:"Order by","data-path":e.dataPath+"[1]",errors:e.errors},model:{value:e.sort.order,callback:function(t){e.$set(e.sort,"order",t)},expression:"sort.order"}})],1)};Yw._withStripped=!0;var Xw=Ng({render:Yw,staticRenderFns:[]},void 0,Kw,void 0,!1,void 0,void 0,void 0);const e_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Sort",t.widgetSortColumn=Xw,t}return s(t,e),Object.defineProperty(t.prototype,"defaultSortColumn",{get:function(){return{column:0===this.selectedColumns.length?"":this.selectedColumns[0],order:"asc"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortColumns",{get:function(){return this.editedStep.columns.length?this.editedStep.columns:[this.defaultSortColumn]},set:function(e){this.editedStep.columns=h(e)},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"sort",columns:[]}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"sort",name:"sort-step-form",components:{ListWidget:My,SortColumnWidget:Xw}})],t)}(rw);var t_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ListWidget",{attrs:{addFieldName:"Add Column",id:"sortColumn",defaultItem:e.defaultSortColumn,widget:e.widgetSortColumn,"automatic-new-field":!1,"data-path":".columns",errors:e.errors},model:{value:e.sortColumns,callback:function(t){e.sortColumns=t},expression:"sortColumns"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};t_._withStripped=!0;Ng({render:t_,staticRenderFns:[]},void 0,e_,void 0,!1,void 0,void 0,void 0);const r_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Extract substring",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"substring",column:"",start_index:1,end_index:-1}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"substring",name:"substring-step-form",components:{ColumnPicker:cw,InputTextWidget:Ny}})],t)}(rw);var n_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"column",name:"Extract a substring from...",placeholder:"Enter a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("InputTextWidget",{attrs:{id:"startIndex",type:"number",name:"Substring starts at character position:",placeholder:"Enter an integer","data-path":".start_index",errors:e.errors},model:{value:e.editedStep.start_index,callback:function(t){e.$set(e.editedStep,"start_index",e._n(t))},expression:"editedStep.start_index"}}),e._v(" "),r("InputTextWidget",{attrs:{id:"endIndex",type:"number",name:"And ends at character position:",placeholder:"Enter an integer","data-path":".end_index",errors:e.errors},model:{value:e.editedStep.end_index,callback:function(t){e.$set(e.editedStep,"end_index",e._n(t))},expression:"editedStep.end_index"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};n_._withStripped=!0;Ng({render:n_,staticRenderFns:[]},void 0,r_,void 0,!1,void 0,void 0,void 0);const i_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Convert Column From Text to Date",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"todate",column:""}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"todate",name:"todate-step-form",components:{ColumnPicker:cw}})],t)}(rw);var a_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"column",name:"Column to convert:",options:e.columnNames,placeholder:"Add columns","data-path":".columns",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};a_._withStripped=!0;Ng({render:a_,staticRenderFns:[]},void 0,i_,void 0,!1,void 0,void 0,void 0);const o_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Convert column to lowercase",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"lowercase",column:""}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"lowercase",name:"tolower-step-form",components:{ColumnPicker:cw}})],t)}(rw);var s_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"columnInput",name:"Convert column...",placeholder:"Enter a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};s_._withStripped=!0;Ng({render:s_,staticRenderFns:[]},void 0,o_,void 0,!1,void 0,void 0,void 0);const u_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Top N rows",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.rank_on},set:function(e){if(null===e)throw new Error('should not try to set null on top "rank_on" field');this.editedStep.rank_on=e},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"top",rank_on:"",sort:"asc"}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"top",name:"top-step-form",components:{ColumnPicker:cw,AutocompleteWidget:hy,InputTextWidget:Ny,MultiselectWidget:xy}})],t)}(rw);var c_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("InputTextWidget",{attrs:{id:"limitInput",type:"number",name:"Get top...",placeholder:"Enter a number of rows","data-path":".limit",errors:e.errors},model:{value:e.editedStep.limit,callback:function(t){e.$set(e.editedStep,"limit",e._n(t))},expression:"editedStep.limit"}}),e._v(" "),r("ColumnPicker",{attrs:{id:"rankOnInput",name:"Sort column...",placeholder:"Enter a column",syncWithSelectedColumn:!1,"data-path":".rank_on",errors:e.errors},model:{value:e.editedStep.rank_on,callback:function(t){e.$set(e.editedStep,"rank_on",t)},expression:"editedStep.rank_on"}}),e._v(" "),r("AutocompleteWidget",{attrs:{id:"sortOrderInput",name:"Sort order:",options:["asc","desc"],placeholder:"Select an order","data-path":".sort",errors:e.errors},model:{value:e.editedStep.sort,callback:function(t){e.$set(e.editedStep,"sort",t)},expression:"editedStep.sort"}}),e._v(" "),r("MultiselectWidget",{attrs:{id:"groupbyColumnsInput",name:"(Optional) Group by...",options:e.columnNames,placeholder:"Select columns","data-path":".groups",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.groups[e.editedStep.groups.length-1]})}},model:{value:e.editedStep.groups,callback:function(t){e.$set(e.editedStep,"groups",t)},expression:"editedStep.groups"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};c_._withStripped=!0;Ng({render:c_,staticRenderFns:[]},void 0,u_,void 0,!1,void 0,void 0,void 0);const l_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Convert column to uppercase",t}return s(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),c([pg({type:Object,default:function(){return{name:"uppercase",column:""}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"uppercase",name:"toupper-step-form",components:{ColumnPicker:cw}})],t)}(rw);var f_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("ColumnPicker",{attrs:{id:"columnInput",name:"Convert column...",placeholder:"Enter a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};f_._withStripped=!0;Ng({render:f_,staticRenderFns:[]},void 0,l_,void 0,!1,void 0,void 0,void 0);const p_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.valueCopy=t.value,t}return s(t,e),Object.defineProperty(t.prototype,"toggleCheckedClass",{get:function(){return{"widget-checkbox":!0,"widget-checkbox--checked":this.valueCopy}},enumerable:!0,configurable:!0}),t.prototype.toggleValue=function(){this.valueCopy=!this.valueCopy,this.$emit("input",this.valueCopy)},c([pg({type:String,default:null})],t.prototype,"label",void 0),c([pg({type:Boolean,default:!0})],t.prototype,"value",void 0),t=c([lg({name:"checkbox-widget"})],t)}(i.a);var m_=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.toggleCheckedClass,on:{click:this.toggleValue}},[t("label",{staticClass:"widget-checkbox__label",attrs:{for:this.label}},[this._v(this._s(this.label))])])};m_._withStripped=!0;var h_=Ng({render:m_,staticRenderFns:[]},void 0,p_,"data-v-544e1760",!1,void 0,void 0,void 0);const d_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Unpivot columns",t.checkboxLabel="Drop null values",t}return s(t,e),t.prototype.submit=function(){this.editedStep.unpivot_column_name=kv("variable",this.columnNames),this.editedStep.value_column_name=kv("value",this.columnNames),this.$$super.submit()},c([pg({type:Object,default:function(){return{name:"unpivot",keep:[],unpivot:[],unpivot_column_name:"",value_column_name:"",dropna:!0}}})],t.prototype,"initialStepValue",void 0),t=c([iw({vqbstep:"unpivot",name:"unpivot-step-form",components:{CheckboxWidget:h_,MultiselectWidget:xy}})],t)}(rw);var v_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("step-form-title",{attrs:{title:e.title}}),e._v(" "),r("MultiselectWidget",{attrs:{id:"keepColumnInput",name:"Keep columns...",options:e.columnNames,placeholder:"Add columns to keep","data-path":".keep",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.keep[0]})}},model:{value:e.editedStep.keep,callback:function(t){e.$set(e.editedStep,"keep",t)},expression:"editedStep.keep"}}),e._v(" "),r("MultiselectWidget",{attrs:{id:"unpivotColumnInput",name:"Unpivot columns...",options:e.columnNames,placeholder:"Add columns to unpivot","data-path":".unpivot",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.unpivot[0]})}},model:{value:e.editedStep.unpivot,callback:function(t){e.$set(e.editedStep,"unpivot",t)},expression:"editedStep.unpivot"}}),e._v(" "),r("CheckboxWidget",{attrs:{id:"dropnaCheckbox",label:e.checkboxLabel},model:{value:e.editedStep.dropna,callback:function(t){e.$set(e.editedStep,"dropna",t)},expression:"editedStep.dropna"}}),e._v(" "),r("step-form-buttonbar",{attrs:{cancel:e.cancelEdition,submit:e.submit}})],1)};v_._withStripped=!0;Ng({render:v_,staticRenderFns:[]},void 0,d_,void 0,!1,void 0,void 0,void 0);const g_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),Object.defineProperty(t.prototype,"isStepCreation",{get:function(){return void 0===this.stepFormInitialValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formComponent",{get:function(){return nw[this.currentStepFormName]},enumerable:!0,configurable:!0}),t.prototype.editStep=function(e,t){this.openStepForm({stepName:e.name,initialValue:e});var r=Math.max(t-1,0);this.selectStep({index:r})},t.prototype.saveStep=function(e){var t=h(this.pipeline),r="domain"===e.name?0:this.computedActiveStepIndex+1;this.isStepCreation?t.splice(r,0,e):t.splice(r,1,e),"domain"===e.name?this.setCurrentDomain({currentDomain:e.domain}):this.setPipeline({pipeline:t}),this.selectStep({index:r}),this.closeStepForm(),this.resetStepFormInitialValue()},c([Qv.State],t.prototype,"currentStepFormName",void 0),c([Qv.State],t.prototype,"pipeline",void 0),c([Qv.State],t.prototype,"stepFormInitialValue",void 0),c([Qv.Getter],t.prototype,"computedActiveStepIndex",void 0),c([Qv.Getter],t.prototype,"isEditingStep",void 0),c([Qv.Mutation],t.prototype,"closeStepForm",void 0),c([Qv.Mutation],t.prototype,"openStepForm",void 0),c([Qv.Mutation],t.prototype,"resetStepFormInitialValue",void 0),c([Qv.Mutation],t.prototype,"setCurrentDomain",void 0),c([Qv.Mutation],t.prototype,"selectStep",void 0),c([Qv.Mutation],t.prototype,"setPipeline",void 0),t=c([lg({name:"query-builder",components:{Pipeline:ly}})],t)}(i.a);var y_=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"query-builder"},[this.isEditingStep?t("transition",{attrs:{name:"slide-right",mode:"out-in"}},[t(this.formComponent,{key:"stepForm",tag:"component",attrs:{initialStepValue:this.stepFormInitialValue,isStepCreation:this.isStepCreation},on:{cancel:this.closeStepForm,formSaved:this.saveStep}})],1):t("transition",{attrs:{name:"slide-left",mode:"out-in"}},[t("Pipeline",{key:"pipeline",on:{editStep:this.editStep}})],1)],1)};y_._withStripped=!0;var b_=Ng({render:y_,staticRenderFns:[]},void 0,g_,"data-v-534efb84",!1,void 0,void 0,void 0);const x_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ratio=.4,t}return s(t,e),Object.defineProperty(t.prototype,"leftPanelWidth",{get:function(){return{width:100*this.ratio+"%"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightPanelWidth",{get:function(){return{width:100*(1-this.ratio)+"%"}},enumerable:!0,configurable:!0}),t.prototype.startResize=function(){var e=this,t=this.$el.getBoundingClientRect().width,r=function(r){e.ratio=e.ratio+r.movementX/t},n=function(){window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",n),window.removeEventListener("blur",n)};window.addEventListener("mousemove",r),window.addEventListener("mouseup",n),window.addEventListener("blur",n)},t=c([lg({name:"resizable-panels"})],t)}(i.a);var w_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"resizable-panels"},[r("div",{staticClass:"resizable-panels__panel",style:e.leftPanelWidth},[e._t("left-panel",[e._v("Left panel")])],2),e._v(" "),r("div",{staticClass:"resizable-panels__resizer",on:{mousedown:function(t){return e.startResize()}}},[r("div",{staticClass:"resizable-panels__line"})]),e._v(" "),r("div",{staticClass:"resizable-panels__panel",style:e.rightPanelWidth},[e._t("right-panel",[e._v("Right panel")])],2)])};w_._withStripped=!0;var __=Ng({render:w_,staticRenderFns:[]},void 0,x_,"data-v-4e9c2183",!1,void 0,void 0,void 0);const N_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t=c([lg({name:"vqb",components:{DataViewer:Kg,QueryBuilder:b_,ResizablePanels:__}})],t)}(i.a);var E_=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weaverbird"},[t("ResizablePanels",[t("QueryBuilder",{attrs:{slot:"left-panel"},slot:"left-panel"}),this._v(" "),t("DataViewer",{attrs:{slot:"right-panel"},slot:"right-panel"})],1)],1)};E_._withStripped=!0;Ng({render:E_,staticRenderFns:[]},void 0,N_,"data-v-789c33ec",!1,void 0,void 0,void 0)}).call(this,r("/app/node_modules/webpack/buildin/global.js"))}}]);