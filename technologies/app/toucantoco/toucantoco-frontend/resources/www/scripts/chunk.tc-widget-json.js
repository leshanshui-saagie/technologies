(this.webpackJsonp=this.webpackJsonp||[]).push([["tc-widget-json"],{"/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js!/app/node_modules/postcss-loader/src/index.js??ref--8-3!/app/node_modules/sass-loader/dist/cjs.js??ref--8-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/studio/chart-options-editor/form-builder/widgets/json/index.vue?vue&type=style&index=0&id=f7f24208&scoped=true&lang=scss&":function(e,t,o){},"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/studio/chart-options-editor/form-builder/widgets/json/index.vue c1ba68baab5b50e9e91dd7f05f09e537":function(e,t,o){"use strict";o.r(t);var s=o("/app/node_modules/vue-clickaway/dist/vue-clickaway.common.js"),i=o("/app/node_modules/monaco-editor/esm/vs/editor/editor.api.js 8633023842d2b79d1de98be2fcaea662"),n={COFFEE:"coffeescript",CSS:"css",JSON:"json"},r=o("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/utils/tc-code-editor/monaco/template.vue.pug");function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,s)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(o,!0).forEach(function(t){l(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function p(e,t,o,s,i,n,r){try{var a=e[n](r),d=a.value}catch(e){return void o(e)}a.done?t(d):Promise.resolve(d).then(s,i)}var c={name:"WidgetJson",components:{TcMonacoEditor:o.n(r)()({name:"tc-monaco-editor",components:{},props:{code:{type:String,default:""},lang:{type:String,default:n.COFFEE},autofocus:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},model:{prop:"code",event:"codeUpdated"},data:function(){return{editorInstance:void 0,editorModel:void 0}},mounted:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.create(this.$el,d({value:this.code,language:this.lang,automaticLayout:!0},this.options));case 2:this.editorInstance=e.sent,this.editorModel=this.editorInstance.getModel(),this.editorInstance.onKeyDown(function(e){"Period"===e.code&&e.shiftKey&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),t.editorInstance.getAction("editor.action.commentLine").run()),t.$emit("keydown",e)}),this.editorModel.onDidChangeContent(function(){t.$emit("codeUpdated",t.editorModel.getValue())}),this.autofocus&&this.editorInstance.focus();case 7:case"end":return e.stop()}},e,this)}),function(){var t=this,o=arguments;return new Promise(function(s,i){var n=e.apply(t,o);function r(e){p(n,s,i,r,a,"next",e)}function a(e){p(n,s,i,r,a,"throw",e)}r(void 0)})});return function(){return t.apply(this,arguments)}}(),watch:{code:function(e){if(e!==this.editorInstance.getValue()){var t=this.editorInstance.getPosition();this.editorInstance.setValue(e),this.editorInstance.setPosition(t),this.editorInstance.focus()}}},beforeDestroyed:function(){this.editorInstance&&this.editorInstance.dispose()}}),WidgetLabel:o("/app/node_modules/babel-loader/lib/index.js??ref--7-0!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/chart-options-editor/form-builder/widgets/label/index.coffee").a},mixins:[s.mixin],props:{defaultValue:{type:[String,Array,Object],default:void 0},fieldName:{type:String,default:""},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},tooltip:{type:String,default:""},value:{type:[String,Array,Object],default:function(){return this.defaultValue}}},data:function(){return{error:null,isEditing:!1,monacoEditorOptions:{minimap:{enabled:!1},tabSize:2},valueJson:null}},watch:{valueJson:function(e){try{var t=e?JSON.parse(e):void 0,o=this.required&&void 0===t;this.error=o?"Required field":null,this.$emit("input",t)}catch(e){this.error="Invalid JSON"}}},created:function(){this.valueJson=JSON.stringify(this.value,void 0,2)},methods:{startEdit:function(){this.isEditing=!0},stopEdit:function(){this.isEditing=!1}}},u=(o("/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js!/app/node_modules/resolve-url-loader/index.js!/app/node_modules/postcss-loader/src/index.js??ref--8-3!/app/node_modules/sass-loader/dist/cjs.js??ref--8-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/studio/chart-options-editor/form-builder/widgets/json/index.vue?vue&type=style&index=0&id=f7f24208&scoped=true&lang=scss&"),o("/app/node_modules/vue-loader/lib/runtime/componentNormalizer.js")),f=Object(u.a)(c,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"widget-json"},[o("div",{staticClass:"widget-json__header"},[e.fieldName?o("WidgetLabel",{attrs:{"field-name":e.fieldName,tooltip:e.tooltip}}):e._e()],1),e._v(" "),o("div",{staticClass:"widget-json__container"},[e.isEditing?o("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.stopEdit,expression:"stopEdit"}],staticClass:"widget-json__editor"},[o("TcMonacoEditor",{attrs:{autofocus:"",lang:"json",options:e.monacoEditorOptions},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.stopEdit(t)}},model:{value:e.valueJson,callback:function(t){e.valueJson=t},expression:"valueJson"}}),e._v(" "),e._m(0)],1):o("div",{staticClass:"widget-json__preview",on:{click:e.startEdit}},[o("pre",{staticClass:"widget-json__preview-pre",class:{"widget-json__preview-pre--error":e.error}},[e._v(e._s(e.valueJson))]),e._v(" "),o("div",{staticClass:"widget-json__preview-pre-fade"}),e._v(" "),e.error?o("div",{staticClass:"widget-json__error"},[o("i",{staticClass:"fa fa-exclamation-circle"}),e._v("\n        "+e._s(e.error)+"\n      ")]):e._e()])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"widget-json__info-format"},[t("i",{staticClass:"far fa-info-circle"}),this._v("\n        You can format the JSON automatically with Shift + Alt + F on Windows, Shift + Option + F\n        on Mac, Ctrl + Shift + I on Linux\n      ")])}],!1,null,"f7f24208",null);t.default=f.exports},"/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js!/app/node_modules/resolve-url-loader/index.js!/app/node_modules/postcss-loader/src/index.js??ref--8-3!/app/node_modules/sass-loader/dist/cjs.js??ref--8-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/studio/chart-options-editor/form-builder/widgets/json/index.vue?vue&type=style&index=0&id=f7f24208&scoped=true&lang=scss&":function(e,t,o){"use strict";var s=o("/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js!/app/node_modules/postcss-loader/src/index.js??ref--8-3!/app/node_modules/sass-loader/dist/cjs.js??ref--8-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/studio/chart-options-editor/form-builder/widgets/json/index.vue?vue&type=style&index=0&id=f7f24208&scoped=true&lang=scss&");o.n(s).a},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/utils/tc-code-editor/monaco/template.vue.pug":function(e,t){var o=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"tc-monaco-editor"})},s=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=o,t.staticRenderFns=s,e}}}]);