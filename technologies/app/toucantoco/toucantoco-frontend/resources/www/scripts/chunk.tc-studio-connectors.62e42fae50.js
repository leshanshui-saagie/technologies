(this.webpackJsonp=this.webpackJsonp||[]).push([["tc-studio-connectors"],{"/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/icon152x152.png":function(e,o,s){e.exports=s.p+"images/icon152x152.17f515a5.png"},"/app/node_modules/lodash/_arrayEach.js":function(e,o){e.exports=function(e,o){for(var s=-1,t=null==e?0:e.length;++s<t&&!1!==o(e[s],s,e););return e}},"/app/node_modules/lodash/_baseAssign.js":function(e,o,s){var t=s("/app/node_modules/lodash/_copyObject.js"),n=s("/app/node_modules/lodash/keys.js");e.exports=function(e,o){return e&&t(o,n(o),e)}},"/app/node_modules/lodash/_baseAssignIn.js":function(e,o,s){var t=s("/app/node_modules/lodash/_copyObject.js"),n=s("/app/node_modules/lodash/keysIn.js");e.exports=function(e,o){return e&&t(o,n(o),e)}},"/app/node_modules/lodash/_baseClone.js":function(e,o,s){var t=s("/app/node_modules/lodash/_Stack.js"),n=s("/app/node_modules/lodash/_arrayEach.js"),a=s("/app/node_modules/lodash/_assignValue.js"),r=s("/app/node_modules/lodash/_baseAssign.js"),d=s("/app/node_modules/lodash/_baseAssignIn.js"),i=s("/app/node_modules/lodash/_cloneBuffer.js"),l=s("/app/node_modules/lodash/_copyArray.js"),c=s("/app/node_modules/lodash/_copySymbols.js"),p=s("/app/node_modules/lodash/_copySymbolsIn.js"),u=s("/app/node_modules/lodash/_getAllKeys.js"),_=s("/app/node_modules/lodash/_getAllKeysIn.js"),m=s("/app/node_modules/lodash/_getTag.js"),f=s("/app/node_modules/lodash/_initCloneArray.js"),v=s("/app/node_modules/lodash/_initCloneByTag.js"),j=s("/app/node_modules/lodash/_initCloneObject.js"),h=s("/app/node_modules/lodash/isArray.js"),y=s("/app/node_modules/lodash/isBuffer.js"),g=s("/app/node_modules/lodash/isMap.js"),b=s("/app/node_modules/lodash/isObject.js"),x=s("/app/node_modules/lodash/isSet.js"),C=s("/app/node_modules/lodash/keys.js"),S=1,w=2,I=4,O="[object Arguments]",M="[object Function]",k="[object GeneratorFunction]",A="[object Object]",E={};E[O]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[A]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[M]=E["[object WeakMap]"]=!1,e.exports=function e(o,s,q,P,D,L){var Q,T=s&S,$=s&w,B=s&I;if(q&&(Q=D?q(o,P,D,L):q(o)),void 0!==Q)return Q;if(!b(o))return o;var N=h(o);if(N){if(Q=f(o),!T)return l(o,Q)}else{var U=m(o),F=U==M||U==k;if(y(o))return i(o,T);if(U==A||U==O||F&&!D){if(Q=$||F?{}:j(o),!T)return $?p(o,d(Q,o)):c(o,r(Q,o))}else{if(!E[U])return D?o:{};Q=v(o,U,T)}}L||(L=new t);var V=L.get(o);if(V)return V;L.set(o,Q),x(o)?o.forEach(function(t){Q.add(e(t,s,q,t,o,L))}):g(o)&&o.forEach(function(t,n){Q.set(n,e(t,s,q,n,o,L))});var G=B?$?_:u:$?keysIn:C,R=N?void 0:G(o);return n(R||o,function(t,n){R&&(t=o[n=t]),a(Q,n,e(t,s,q,n,o,L))}),Q}},"/app/node_modules/lodash/_baseCreate.js":function(e,o,s){var t=s("/app/node_modules/lodash/isObject.js"),n=Object.create,a=function(){function e(){}return function(o){if(!t(o))return{};if(n)return n(o);e.prototype=o;var s=new e;return e.prototype=void 0,s}}();e.exports=a},"/app/node_modules/lodash/_baseIsMap.js":function(e,o,s){var t=s("/app/node_modules/lodash/_getTag.js"),n=s("/app/node_modules/lodash/isObjectLike.js"),a="[object Map]";e.exports=function(e){return n(e)&&t(e)==a}},"/app/node_modules/lodash/_baseIsSet.js":function(e,o,s){var t=s("/app/node_modules/lodash/_getTag.js"),n=s("/app/node_modules/lodash/isObjectLike.js"),a="[object Set]";e.exports=function(e){return n(e)&&t(e)==a}},"/app/node_modules/lodash/_baseKeysIn.js":function(e,o,s){var t=s("/app/node_modules/lodash/isObject.js"),n=s("/app/node_modules/lodash/_isPrototype.js"),a=s("/app/node_modules/lodash/_nativeKeysIn.js"),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!t(e))return a(e);var o=n(e),s=[];for(var d in e)("constructor"!=d||!o&&r.call(e,d))&&s.push(d);return s}},"/app/node_modules/lodash/_cloneArrayBuffer.js":function(e,o,s){var t=s("/app/node_modules/lodash/_Uint8Array.js");e.exports=function(e){var o=new e.constructor(e.byteLength);return new t(o).set(new t(e)),o}},"/app/node_modules/lodash/_cloneBuffer.js":function(e,o,s){(function(e){var t=s("/app/node_modules/lodash/_root.js"),n=o&&!o.nodeType&&o,a=n&&"object"==typeof e&&e&&!e.nodeType&&e,r=a&&a.exports===n?t.Buffer:void 0,d=r?r.allocUnsafe:void 0;e.exports=function(e,o){if(o)return e.slice();var s=e.length,t=d?d(s):new e.constructor(s);return e.copy(t),t}}).call(this,s("/app/node_modules/webpack/buildin/module.js")(e))},"/app/node_modules/lodash/_cloneDataView.js":function(e,o,s){var t=s("/app/node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,o){var s=o?t(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}},"/app/node_modules/lodash/_cloneRegExp.js":function(e,o){var s=/\w*$/;e.exports=function(e){var o=new e.constructor(e.source,s.exec(e));return o.lastIndex=e.lastIndex,o}},"/app/node_modules/lodash/_cloneSymbol.js":function(e,o,s){var t=s("/app/node_modules/lodash/_Symbol.js"),n=t?t.prototype:void 0,a=n?n.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},"/app/node_modules/lodash/_cloneTypedArray.js":function(e,o,s){var t=s("/app/node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,o){var s=o?t(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}},"/app/node_modules/lodash/_copyArray.js":function(e,o){e.exports=function(e,o){var s=-1,t=e.length;for(o||(o=Array(t));++s<t;)o[s]=e[s];return o}},"/app/node_modules/lodash/_copySymbols.js":function(e,o,s){var t=s("/app/node_modules/lodash/_copyObject.js"),n=s("/app/node_modules/lodash/_getSymbols.js");e.exports=function(e,o){return t(e,n(e),o)}},"/app/node_modules/lodash/_copySymbolsIn.js":function(e,o,s){var t=s("/app/node_modules/lodash/_copyObject.js"),n=s("/app/node_modules/lodash/_getSymbolsIn.js");e.exports=function(e,o){return t(e,n(e),o)}},"/app/node_modules/lodash/_getAllKeysIn.js":function(e,o,s){var t=s("/app/node_modules/lodash/_baseGetAllKeys.js"),n=s("/app/node_modules/lodash/_getSymbolsIn.js"),a=s("/app/node_modules/lodash/keysIn.js");e.exports=function(e){return t(e,a,n)}},"/app/node_modules/lodash/_getPrototype.js":function(e,o,s){var t=s("/app/node_modules/lodash/_overArg.js")(Object.getPrototypeOf,Object);e.exports=t},"/app/node_modules/lodash/_getSymbolsIn.js":function(e,o,s){var t=s("/app/node_modules/lodash/_arrayPush.js"),n=s("/app/node_modules/lodash/_getPrototype.js"),a=s("/app/node_modules/lodash/_getSymbols.js"),r=s("/app/node_modules/lodash/stubArray.js"),d=Object.getOwnPropertySymbols?function(e){for(var o=[];e;)t(o,a(e)),e=n(e);return o}:r;e.exports=d},"/app/node_modules/lodash/_initCloneArray.js":function(e,o){var s=Object.prototype.hasOwnProperty;e.exports=function(e){var o=e.length,t=new e.constructor(o);return o&&"string"==typeof e[0]&&s.call(e,"index")&&(t.index=e.index,t.input=e.input),t}},"/app/node_modules/lodash/_initCloneByTag.js":function(e,o,s){var t=s("/app/node_modules/lodash/_cloneArrayBuffer.js"),n=s("/app/node_modules/lodash/_cloneDataView.js"),a=s("/app/node_modules/lodash/_cloneRegExp.js"),r=s("/app/node_modules/lodash/_cloneSymbol.js"),d=s("/app/node_modules/lodash/_cloneTypedArray.js"),i="[object Boolean]",l="[object Date]",c="[object Map]",p="[object Number]",u="[object RegExp]",_="[object Set]",m="[object String]",f="[object Symbol]",v="[object ArrayBuffer]",j="[object DataView]",h="[object Float32Array]",y="[object Float64Array]",g="[object Int8Array]",b="[object Int16Array]",x="[object Int32Array]",C="[object Uint8Array]",S="[object Uint8ClampedArray]",w="[object Uint16Array]",I="[object Uint32Array]";e.exports=function(e,o,s){var O=e.constructor;switch(o){case v:return t(e);case i:case l:return new O(+e);case j:return n(e,s);case h:case y:case g:case b:case x:case C:case S:case w:case I:return d(e,s);case c:return new O;case p:case m:return new O(e);case u:return a(e);case _:return new O;case f:return r(e)}}},"/app/node_modules/lodash/_initCloneObject.js":function(e,o,s){var t=s("/app/node_modules/lodash/_baseCreate.js"),n=s("/app/node_modules/lodash/_getPrototype.js"),a=s("/app/node_modules/lodash/_isPrototype.js");e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:t(n(e))}},"/app/node_modules/lodash/_nativeKeysIn.js":function(e,o){e.exports=function(e){var o=[];if(null!=e)for(var s in Object(e))o.push(s);return o}},"/app/node_modules/lodash/cloneDeep.js":function(e,o,s){var t=s("/app/node_modules/lodash/_baseClone.js"),n=1,a=4;e.exports=function(e){return t(e,n|a)}},"/app/node_modules/lodash/isMap.js":function(e,o,s){var t=s("/app/node_modules/lodash/_baseIsMap.js"),n=s("/app/node_modules/lodash/_baseUnary.js"),a=s("/app/node_modules/lodash/_nodeUtil.js"),r=a&&a.isMap,d=r?n(r):t;e.exports=d},"/app/node_modules/lodash/isSet.js":function(e,o,s){var t=s("/app/node_modules/lodash/_baseIsSet.js"),n=s("/app/node_modules/lodash/_baseUnary.js"),a=s("/app/node_modules/lodash/_nodeUtil.js"),r=a&&a.isSet,d=r?n(r):t;e.exports=d},"/app/node_modules/lodash/keysIn.js":function(e,o,s){var t=s("/app/node_modules/lodash/_arrayLikeKeys.js"),n=s("/app/node_modules/lodash/_baseKeysIn.js"),a=s("/app/node_modules/lodash/isArrayLike.js");e.exports=function(e){return a(e)?t(e,!0):n(e)}},"/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connector-block/index.vue?vue&type=style&index=0&id=3ce05a28&scoped=true&lang=scss&":function(e,o,s){},"/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connector-editor-modal/index.vue?vue&type=style&index=0&id=10d23714&scoped=true&lang=scss&":function(e,o,s){},"/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connector-query-tile/index.vue?vue&type=style&index=0&id=57a197ed&scoped=true&lang=scss&":function(e,o,s){},"/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connectors-list-modal/connector-tile/index.vue?vue&type=style&index=0&id=5d54ee35&scoped=true&lang=scss&":function(e,o,s){},"/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connectors-list-modal/index.vue?vue&type=style&index=0&id=42e445e5&scoped=true&lang=scss&":function(e,o,s){},"/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/index.vue?vue&type=style&index=0&id=0aeb1c3b&scoped=true&lang=scss&":function(e,o,s){},"/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/query-editor-sheet/index.vue?vue&type=style&index=0&id=6e083e92&scoped=true&lang=scss&":function(e,o,s){},"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/index.vue f649fa09a80c8778a92e82556c3379fd":function(e,o,s){"use strict";s.r(o);var t=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/utils/tc-sheet/index.js"),n=s("/app/node_modules/v-tooltip/dist/v-tooltip.esm.js"),a=s("/app/node_modules/d3-time-format/src/index.js 8811d4e4f6eb7939eb0092a02fd6eaef"),r=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/api/index.coffee"),d=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/utils/components/tc-modal/index.js"),i={name:"ConnectorQueryTile",components:{TcModal:d.default},directives:{tooltip:n.a},props:{connectorId:{type:String,required:!0},domain:{type:String,required:!0},lastUpdate:{type:[Date,Number,String],default:function(){return null}},queryId:{type:String,required:!0}},data:function(){return{isOpenedDeleteModal:!1,isValidationEnabled:!0}},computed:{displayedDomain:function(){return this.domain.length>13?"".concat(this.domain.substring(0,12),"..."):this.domain},displayedLastUpdate:function(){if(this.lastUpdate){var e=this.lastUpdate instanceof Date?this.lastUpdate:new Date(this.lastUpdate);return Object(a.a)("%a %d %b %Y at %H:%M:%S")(e)}},domainTooltip:function(){return this.domain===this.displayedDomain?"":this.domain},validationTooltip:function(){return"auto-validation: ".concat(this.isValidationEnabled?"on":"off")}},methods:{closeDeleteModal:function(){this.isOpenedDeleteModal=!1},deleteQuery:function(){this.$store.dispatch("connectors/deleteQuery",{connectorId:this.connectorId,queryId:this.queryId}),this.closeDeleteModal()},editQuery:function(){this.$emit("editQuery",this.queryId)},openDeleteModal:function(){this.isOpenedDeleteModal=!0},runPreprocess:function(){r.a.smallApp.domains.runPreprocess(this.$store.getters.smallAppId,this.$store.getters.stage,{inputDomains:[this.domain]})},toggleValidation:function(){this.isValidationEnabled=!this.isValidationEnabled}}},l=(s("/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connector-query-tile/index.vue?vue&type=style&index=0&id=57a197ed&scoped=true&lang=scss&"),s("/app/node_modules/vue-loader/lib/runtime/componentNormalizer.js")),c=Object(l.a)(i,function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"connector-query-tile"},[s("div",{staticClass:"connector-query-tile__header"},[s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.domainTooltip,expression:"domainTooltip"}],staticClass:"connector-query-tile__name"},[e._v(e._s(e.displayedDomain))]),e._v(" "),s("div",{staticClass:"connector-query-tile__actions"},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.validationTooltip,expression:"validationTooltip"}],staticClass:"connector-query-tile__action-button connector-query-tile__action-button--validation fa fa-check-circle",class:{"connector-query-tile__action-button--active":e.isValidationEnabled},on:{click:e.toggleValidation}}),e._v(" "),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"edit",expression:"'edit'"}],staticClass:"connector-query-tile__action-button connector-query-tile__action-button--edit fa fa-edit",on:{click:e.editQuery}}),e._v(" "),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"delete",expression:"'delete'"}],staticClass:"connector-query-tile__action-button connector-query-tile__action-button--delete fa fa-trash-alt",on:{click:e.openDeleteModal}})])]),e._v(" "),s("div",{staticClass:"connector-query-tile__last-update",style:{visibility:e.displayedLastUpdate?"visible":"hidden"}},[e._v("\n    Updated: "+e._s(e.displayedLastUpdate)+"\n  ")]),e._v(" "),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"refresh data",expression:"'refresh data'"}],staticClass:"connector-query-tile__refresh-data fa fa-sync-alt",on:{click:e.runPreprocess}}),e._v(" "),e.isOpenedDeleteModal?s("TcModal",{staticClass:"connector-query-tile__delete-modal",attrs:{"body-style":{width:"500px"}},on:{closed:e.closeDeleteModal}},[s("div",{staticClass:"tc-modal__header"},[s("div",{staticClass:"tc-modal__title"},[e._v("Delete query")])]),e._v(" "),s("div",{staticClass:"tc-modal__section"},[s("div",{staticClass:"tc-modal__text"},[e._v("Are you sure you want to delete this query?")]),e._v(" "),s("strong",{staticClass:"tc-modal__text"},[e._v("This action can't be undone")])]),e._v(" "),s("div",{staticClass:"tc-modal__footer"},[s("div",{staticClass:"tc-modal__action tc-modal__action--secondary",on:{click:e.closeDeleteModal}},[e._v("\n        Cancel\n      ")]),e._v(" "),s("div",{staticClass:"tc-modal__action tc-modal__action--primary",on:{click:e.deleteQuery}},[e._v("Delete")])])]):e._e()],1)},[],!1,null,"57a197ed",null).exports,p=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/api/modules/connectors.js"),u={methods:{getStatusIconClass:function(e){switch(e){case p.a.PENDING:return"fas fa-spinner connector-block__status--pending";case p.a.OK:return"fas fa-check connector-block__status--ok";case p.a.FAILURE:return"fas fa-exclamation-triangle connector-block__status--ko";default:return"fas fa-question-circle connector-block__status--unknown"}},getStatusMessage:function(e){switch(e){case p.a.PENDING:return"Checking connection...";case p.a.OK:return"Connected";case p.a.FAILURE:return"Cannot establish connection";default:return"Status unknown"}}}};function _(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),s.push.apply(s,t)}return s}function m(e,o,s){return o in e?Object.defineProperty(e,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[o]=s,e}var f=s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/default.png"),v={AdobeAnalytics:{label:"Adobe Analytics",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/adobe-analytics.png")},AzureMSSQL:{label:"Microsoft Azure SQL",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/sql-azure.png")},Dataiku:{logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/dataiku.png")},elasticsearch:{label:"Elasticsearch",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/elasticsearch.png")},facebook_insights:{label:"Facebook Insights",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/facebook-insights.png")},GoogleAnalytics:{label:"Google Analytics",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/google-analytics.png")},GoogleBigQuery:{label:"Google Big Query",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/google-bigquery.png")},GoogleCloudMySQL:{label:"Google Cloud MySQL",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/google-cloud-mysql.png")},google_my_business:{label:"Google My Business",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/google-my-business.png")},GoogleSpreadsheet:{label:"Google Spreadsheet",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/google-spreadsheet.png")},Hive:{logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/hive.png")},HttpAPI:{label:"Http API",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/http-api.png")},MicroStrategy:{logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/microstrategy.png")},MongoDB:{logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/mongo-db.png")},MSSQL:{label:"Microsoft SQL Server",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/mssql.png")},MySQL:{logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/mysql.png")},OData:{logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/odata.png")},OracleSQL:{label:"Oracle SQL",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/oracle-sql.png")},Postgres:{label:"PostgreSQL",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/postgres.png")},SapHana:{label:"SAP HANA",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/sap-hana.png")},Snowflake:{logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/snowflake.png")},Trello:{logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/trello.png")},ToucanToco:{label:"Toucan Toco",logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/icon152x152.png")},Wootric:{logo:s("/app/node_modules/file-loader/dist/cjs.js??ref--10-0!/app/app/assets/images/connectors/wootric.png")}},j=function(e){return function(e){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?_(s,!0).forEach(function(o){m(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_(s).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}({},{label:e,logo:f},{},v[e])},h={name:"ConnectorBlock",components:{ConnectorQueryTile:c,TcModal:d.default},directives:{tooltip:n.a},mixins:[u],props:{connectorConfig:{type:Object,default:function(){return{}}},connectorId:{type:String,default:""},queries:{type:Array,default:function(){return[]}}},data:function(){return{isOpenedDeleteModal:!1}},computed:{connectorLogo:function(){return j(this.connectorConfig.type).logo},hasErrorConnection:function(){return!1===this.status},status:function(){return this.$store.getters["connectors/allStatuses"][this.connectorId]}},created:function(){this.setStatus()},methods:{createQuery:function(){this.$emit("createQuery",{connectorId:this.connectorId})},closeDeleteModal:function(){this.isOpenedDeleteModal=!1},deleteConnector:function(){this.$store.dispatch("connectors/deleteConnector",{connectorId:this.connectorId}),this.closeDeleteModal()},editConnector:function(){this.$emit("editConnector",this.connectorConfig,this.connectorId,this.connectorConfig.type)},editQuery:function(e){this.$emit("editQuery",{connectorId:this.connectorId,queryId:e})},setStatus:function(){this.$store.dispatch("connectors/fetchStatus",{connectorId:this.connectorId,config:this.connectorConfig})},openDeleteModal:function(){this.isOpenedDeleteModal=!0}}},y=(s("/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connector-block/index.vue?vue&type=style&index=0&id=3ce05a28&scoped=true&lang=scss&"),Object(l.a)(h,function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"connector-block",class:{"connector-block--error":e.hasErrorConnection}},[s("div",{staticClass:"connector-block__header"},[s("div",{staticClass:"connector-block__header-container"},[s("img",{staticClass:"connector-block__logo",attrs:{src:e.connectorLogo}}),e._v(" "),s("div",{staticClass:"connector-block__name"},[e._v(e._s(e.connectorConfig.name))]),e._v(" "),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Edit connection settings",expression:"'Edit connection settings'"}],staticClass:"connector-block__edit fas fa-cog",on:{click:e.editConnector}}),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete connector",expression:"'Delete connector'"}],staticClass:"connector-block__delete fa fa-trash-alt",on:{click:e.openDeleteModal}})]),e._v(" "),s("div",{staticClass:"connector-block__header-container"},[s("div",{staticClass:"connector-block__status"},[s("i",{class:e.getStatusIconClass(e.status)}),e._v(e._s(e.getStatusMessage(e.status))+"\n      ")])])]),e._v(" "),s("div",{staticClass:"connector-block__wrapper"},[e._l(e.queries,function(o){var t=o.id,n=o.config,a=o.lastUpdate;return s("ConnectorQueryTile",{key:t,class:{"connector-query-tile--error":e.hasErrorConnection},attrs:{domain:n.domain,"connector-id":e.connectorId,"query-id":t,"last-update":a},on:{editQuery:e.editQuery}})}),e._v(" "),s("div",{staticClass:"connector-add-query-tile",class:{"connector-add-query-tile--error":e.hasErrorConnection},on:{click:e.createQuery}},[s("i",{staticClass:"fas fa-plus"}),e._v("Add a query\n    ")])],2),e._v(" "),e.isOpenedDeleteModal?s("TcModal",{staticClass:"connector-block__delete-modal",attrs:{"body-style":{width:"500px"}},on:{closed:e.closeDeleteModal}},[s("div",{staticClass:"tc-modal__header"},[s("div",{staticClass:"tc-modal__title"},[e._v("Delete connector")])]),e._v(" "),s("div",{staticClass:"tc-modal__section"},[s("div",{staticClass:"tc-modal__text"},[e._v("Are you sure you want to delete this connector?")]),e._v(" "),s("strong",{staticClass:"tc-modal__text"},[e._v("This action can't be undone")])]),e._v(" "),s("div",{staticClass:"tc-modal__footer"},[s("div",{staticClass:"tc-modal__action tc-modal__action--secondary",on:{click:e.closeDeleteModal}},[e._v("\n        Cancel\n      ")]),e._v(" "),s("div",{staticClass:"tc-modal__action tc-modal__action--primary",on:{click:e.deleteConnector}},[e._v("\n        Delete\n      ")])])]):e._e()],1)},[],!1,null,"3ce05a28",null).exports),g=s("/app/node_modules/lodash/cloneDeep.js"),b=s.n(g),x=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/chart-options-editor/form-builder/index.js"),C={name:"ConnectorEditorModal",components:{FormBuilder:x.a,TcModal:d.default},mixins:[u],props:{connectorId:{type:String,default:""},connectorType:{type:String,default:""}},data:function(){return{editedConfig:{},editedConfigStatus:p.a.PENDING,editedConfigStatusDetails:[],editedConfigStatusError:null,errorMessage:null,hasSaveConfigButton:!1,isOpenedStatusModal:!1,uiSchema:null}},computed:{isNewConnector:function(){return""===this.connectorId},saveConfigButtonClass:function(){return{"tc-modal__action--pending-status":this.editedConfigStatus===p.a.PENDING,"tc-modal__action--ko-status":!1===this.editedConfigStatus,"tc-modal__action--ok-status":!0===this.editedConfigStatus}},title:function(){return this.isNewConnector?"Add connector":"Edit connector"}},watch:{editedConfig:function(){this.hasSaveConfigButton=!1,this.newStatus=p.a.PENDING}},created:function(){var e=this.$store.getters["connectors/getConnectorInfos"](this.connectorId,this.connectorType),o=e.connectorConfig,s=e.uiSchema;this.editedConfig=b()(o),this.uiSchema=s},methods:{close:function(){this.$emit("closed")},closeStatusModal:function(){this.editedConfigStatusDetails=[],this.editedConfigStatusError=null,this.isOpenedStatusModal=!1,this.hasSaveConfigButton=!0},connect:function(){var e=this;this.errorMessage=null,this.editedConfig=this.$refs.configFormBuilder.formValue,this.openStatusModal(),r.a.connectors.getStatus(this.editedConfig).then(function(o){var s=o.status,t=o.details,n=o.error;e.editedConfigStatus=s,e.editedConfigStatusDetails=t,e.editedConfigStatusError=n}).catch(function(o){e.editedConfigStatus=!1,e.editedConfigStatusError=o.message})},openStatusModal:function(){this.isOpenedStatusModal=!0},resetStatus:function(){this.hasSaveConfigButton=!1,this.newStatus=p.a.PENDING},saveConfig:function(){var e=this;this.isNewConnector?this.$store.dispatch("connectors/createConnector",{config:this.editedConfig}).then(function(o){e.setStatus(),e.close(),e.$emit("connectorCreated",o)}).catch(function(o){var s=o.message;e.errorMessage=s}):this.$store.dispatch("connectors/updateConnector",{connectorId:this.connectorId,config:this.editedConfig}).then(function(){e.setStatus(),e.close()}).catch(function(o){var s=o.message;e.errorMessage=s})},setStatus:function(){this.$store.dispatch("connectors/fetchStatus",{connectorId:this.connectorId,config:this.editedConfig})},updateEditedConfig:function(e){this.editedConfig=e}}},S=(s("/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connector-editor-modal/index.vue?vue&type=style&index=0&id=10d23714&scoped=true&lang=scss&"),Object(l.a)(C,function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"connector-editor-modal"},[s("TcModal",{staticClass:"connector-editor-modal__edition",attrs:{"body-style":{width:"60%"}},on:{closed:e.close}},[s("div",{staticClass:"tc-modal__header"},[s("div",{staticClass:"tc-modal__title"},[e._v(e._s(e.title))])]),e._v(" "),s("div",{staticClass:"tc-modal__section",on:{keydown:e.resetStatus}},[s("FormBuilder",{ref:"configFormBuilder",attrs:{"auto-save":"","ui-schema":e.uiSchema,"initial-value":e.editedConfig},on:{formSaved:e.updateEditedConfig}}),e._v(" "),s("div",{staticClass:"tc-modal__section--error-message"},[e._v(e._s(e.errorMessage))])],1),e._v(" "),s("div",{staticClass:"tc-modal__footer"},[s("div",{staticClass:"tc-modal__action tc-modal__action--secondary",on:{click:e.close}},[e._v("Cancel")]),e._v(" "),e.hasSaveConfigButton?s("div",{staticClass:"tc-modal__action tc-modal__action--primary",class:e.saveConfigButtonClass,on:{click:e.saveConfig}},[e._v("\n        Save\n      ")]):s("div",{staticClass:"tc-modal__action tc-modal__action--primary",on:{click:e.connect}},[e._v("\n        Test connection\n      ")])])]),e._v(" "),e.isOpenedStatusModal?s("TcModal",{staticClass:"connector-editor-modal__status",attrs:{"body-style":{width:"500px"}},on:{closed:e.closeStatusModal}},[s("div",{staticClass:"tc-modal__header"},[s("div",{staticClass:"tc-modal__title"},[s("i",{class:e.getStatusIconClass(e.editedConfigStatus)}),e._v("\n        "+e._s(e.getStatusMessage(e.editedConfigStatus))+"\n      ")])]),e._v(" "),s("div",{staticClass:"tc-modal__section"},[s("div",{staticClass:"status-modal__details"},[s("ul",e._l(e.editedConfigStatusDetails,function(o,t){var n=o[0],a=o[1];return s("li",{key:t},[s("i",{class:e.getStatusIconClass(a)}),e._v("\n            "+e._s(n)+"\n          ")])}),0)]),e._v(" "),s("div",{staticClass:"status-modal__error"},[e._v(e._s(e.editedConfigStatusError))])]),e._v(" "),s("div",{staticClass:"tc-modal__footer"},[s("div",{staticClass:"tc-modal__action tc-modal__action--secondary",on:{click:e.closeStatusModal}},[e._v("\n        Close\n      ")])])]):e._e()],1)},[],!1,null,"10d23714",null).exports),w=s("/app/node_modules/lodash/sortBy.js"),I=s.n(w),O={name:"ConnectorTile",props:{isAvailable:{type:Boolean,required:!0},label:{type:String,required:!0},logoUrl:{type:String,default:f},type:{type:String,required:!0}}};s("/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connectors-list-modal/connector-tile/index.vue?vue&type=style&index=0&id=5d54ee35&scoped=true&lang=scss&");function M(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),s.push.apply(s,t)}return s}function k(e,o,s){return o in e?Object.defineProperty(e,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[o]=s,e}function A(e,o){return function(e){if(Array.isArray(e))return e}(e)||function(e,o){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var s=[],t=!0,n=!1,a=void 0;try{for(var r,d=e[Symbol.iterator]();!(t=(r=d.next()).done)&&(s.push(r.value),!o||s.length!==o);t=!0);}catch(e){n=!0,a=e}finally{try{t||null==d.return||d.return()}finally{if(n)throw a}}return s}(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E={name:"ConnectorsListModal",components:{ConnectorTile:Object(l.a)(O,function(e,o){var s=o._c;return s("div",{staticClass:"connector-tile"},[o.props.isAvailable?s("div",{staticClass:"connector-tile__tile",on:{click:function(e){return o.listeners.createConnector(o.props.type)}}},[s("img",{staticClass:"connector-tile__logo",attrs:{src:o.props.logoUrl,alt:"Logo of "+o.props.label}})]):s("div",{staticClass:"connector-tile__tile connector-tile__tile--unavailable"},[s("img",{staticClass:"connector-tile__logo",attrs:{src:o.props.logoUrl,alt:"Logo of "+o.props.label}}),o._v(" "),o._m(0)]),o._v(" "),s("p",{staticClass:"connector-tile__label"},[o._v(o._s(o.props.label))])])},[function(e,o){var s=o._c;return s("p",{staticClass:"connector-tile__installation-infos"},[o._v("\n      The connector is not available.\n      "),s("br"),o._v("Please contact the support or your IT service if you need it.\n    ")])}],!0,null,"5d54ee35",null).exports,TcModal:d.default},data:function(){return{connectors:[],search:""}},computed:{displayedConnectors:function(){var e=this,o=this.connectors.filter(function(o){return o.label.toLowerCase().includes(e.search.toLowerCase())});return I()(o,"label")}},created:function(){var e=this.$store.getters["connectors/allConnectors"];this.connectors=Object.entries(e).map(function(e){var o=A(e,2),s=o[0];return function(e){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?M(s,!0).forEach(function(o){k(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):M(s).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}({type:s,isAvailable:o[1]},j(s))})},methods:{close:function(){this.$emit("close")},createConnector:function(e){this.$emit("createConnector",e)}}},q=(s("/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connectors-list-modal/index.vue?vue&type=style&index=0&id=42e445e5&scoped=true&lang=scss&"),Object(l.a)(E,function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("TcModal",{attrs:{"body-style":{width:"1000px",height:"600px",overflow:"auto"}},on:{closed:function(o){return e.close()}}},[s("div",{staticClass:"tc-modal__header"},[s("div",{staticClass:"tc-modal__title"},[e._v("Select your connector")])]),e._v(" "),s("div",{staticClass:"tc-modal__section"},[s("div",{staticClass:"connector-list-modal__searchbar"},[s("i",{staticClass:"fa fa-search"}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{autofocus:"",type:"text",placeholder:"Search connector..."},domProps:{value:e.search},on:{input:function(o){o.target.composing||(e.search=o.target.value)}}})]),e._v(" "),s("div",{staticClass:"connector-list-modal__connectors-list"},e._l(e.displayedConnectors,function(o){var t=o.type,n=o.isAvailable,a=o.label,r=o.logo;return s("ConnectorTile",{key:t,attrs:{"is-available":n,label:a,"logo-url":r,type:t},on:{createConnector:e.createConnector}})}),1)])])},[],!1,null,"42e445e5",null).exports),P=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/utils/cson-editor/index.coffee"),D=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/slide-editor/dataset-viewer/index.coffee 4c214810d10272111723bc8989bca38d"),L=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/chart-options-editor/json-to-ui-schema.js"),Q=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/slide/tc-story-editor-sheet/prefered-edit-mode-mixin.coffee"),T=s("/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/utils/components/redimentionnable-panels/index.vue 7bd2f4d9b3bd768fa783f43d78d16f09"),$=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/switch-edition-mode/index.coffee");function B(e,o,s,t,n,a,r){try{var d=e[a](r),i=d.value}catch(e){return void s(e)}d.done?o(i):Promise.resolve(i).then(t,n)}var N={name:"QueryEditorSheet",components:{CsonEditor:P.a,DatasetViewer:D.a,FormBuilder:x.a,RedimentionnablePanels:T.a,SwitchEditionMode:$.a,TcSheet:t.default},mixins:[Q.a],props:{connectorId:{type:String,required:!0},queryId:{type:String,default:void 0}},data:function(){return{count:void 0,connectorConfig:void 0,editedConfig:{},error:void 0,queryConfig:void 0,result:void 0,uiSchema:void 0,waitingResult:!1}},computed:{isNewQuery:function(){return void 0===this.queryId},shouldDisplaySave:function(){return void 0===this.error&&JSON.stringify(this.editedConfig)!==JSON.stringify(this.queryConfig)},smallAppId:function(){return this.$store.getters.smallAppId},title:function(){return this.isNewQuery?"Add query":"Edit query"}},created:function(){var e=this.$store.getters["connectors/getQueryInfos"](this.connectorId,this.queryId),o=e.uiSchema,s=e.queryConfig,t=e.connectorConfig;this.uiSchema=o,this.connectorConfig=t,this.queryConfig=s,this.editedConfig=b()(s),this.getPreview(),this.updateQueryForm()},methods:{closeSheet:function(){this.$emit("close")},displayError:function(e){this.waitingResult=!1,this.error=e},displayResult:function(e,o){this.waitingResult=!1,this.error=void 0,this.result=e,this.count=o},getPreview:function(){var e=this;this.error=void 0,this.waitingResult=!0,r.a.connectors.getQueryPreview(this.smallAppId,this.connectorId,this.editedConfig,this.$store.getters.stage,{limit:50}).then(function(o){var s=o.data,t=o.meta;return e.displayResult(s,t.count)}).catch(function(o){var s=o.message;return e.displayError(s)})},onQueryConfigEdited:function(e){this.editedConfig=e,this.getPreview(),this.updateQueryForm()},saveConfig:function(){var e,o=(e=regeneratorRuntime.mark(function e(){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.editedConfig=this.$refs.configFormBuilder.formValue,e.prev=1,!this.isNewQuery){e.next=7;break}return e.next=5,this.$store.dispatch("connectors/createQuery",{connectorId:this.connectorId,config:this.editedConfig});case 5:e.next=9;break;case 7:return e.next=9,this.$store.dispatch("connectors/updateQuery",{connectorId:this.connectorId,queryId:this.queryId,config:this.editedConfig});case 9:this.closeSheet(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),o=e.t0.message,this.displayError("Could not save query\n".concat(o));case 16:case"end":return e.stop()}},e,this,[[1,12]])}),function(){var o=this,s=arguments;return new Promise(function(t,n){var a=e.apply(o,s);function r(e){B(a,t,n,r,d,"next",e)}function d(e){B(a,t,n,r,d,"throw",e)}r(void 0)})});return function(){return o.apply(this,arguments)}}(),updateQueryForm:function(){var e=this;r.a.connectors.getQueryFormSchema(this.smallAppId,this.connectorId,this.editedConfig,this.$store.getters.stage).then(function(o){delete o.properties.type,delete o.properties.name,o.properties.live_data.ui={label:"Live Data"},o.properties.validation.ui={label:"Validation rules"};var s=Object(L.b)(o);s!=e.uiSchema&&(e.uiSchema=s)})}}},U=(s("/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/query-editor-sheet/index.vue?vue&type=style&index=0&id=6e083e92&scoped=true&lang=scss&"),Object(l.a)(N,function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("TcSheet",{staticClass:"query-editor-sheet",attrs:{"has-toolbar-links":!1},on:{closed:e.closeSheet}},[s("template",{slot:"header"},[s("div",{staticClass:"studio-header__title"},[e._v(e._s(e.title))])]),e._v(" "),s("RedimentionnablePanels",{staticClass:"query-editor",attrs:{direction:"horizontal"}},[s("div",{staticClass:"query-editor-sheet__editor",attrs:{slot:"panel-1"},slot:"panel-1"},[s("div",{staticClass:"query-editor-sheet__header"},[s("SwitchEditionMode")],1),e._v(" "),s("div",{staticClass:"query-editor-sheet__editor__body"},[s("FormBuilder",{directives:[{name:"show",rawName:"v-show",value:e.visualModeActivated,expression:"visualModeActivated"}],ref:"configFormBuilder",staticClass:"query-editor-sheet__form",attrs:{"auto-save":"","ui-schema":e.uiSchema,"initial-value":e.editedConfig},on:{formSaved:e.onQueryConfigEdited}}),e._v(" "),s("CsonEditor",{directives:[{name:"show",rawName:"v-show",value:e.codeModeActivated,expression:"codeModeActivated"}],staticClass:"query-editor-sheet__request-editor",attrs:{obj:e.editedConfig,schema:e.uiSchema},on:{objUpdated:e.onQueryConfigEdited}})],1)]),e._v(" "),s("div",{staticClass:"query-editor-sheet__result",attrs:{slot:"panel-2"},slot:"panel-2"},[s("div",{staticClass:"query-editor-sheet__alerts"},[e.error?s("div",{staticClass:"alert alert--error",domProps:{innerHTML:e._s(e.error)}}):e._e()]),e._v(" "),s("DatasetViewer",{staticClass:"data-request-sandbox__table-result",attrs:{dataset:e.result,"total-rows":e.count}}),e._v(" "),e.waitingResult?s("transition",{attrs:{appear:"appear"}},[s("div",{staticClass:"query-editor-sheet__spinner"},[s("i",{staticClass:"fa fa-refresh"})])]):e._e()],1)]),e._v(" "),s("template",{slot:"footer-right"},[s("div",{staticClass:"studio-toolbar__actions",attrs:{slot:"footer-actions"},slot:"footer-actions"},[e.shouldDisplaySave?s("div",{staticClass:"studio-toolbar__button studio-toolbar__button--primary",on:{click:function(o){return e.saveConfig()}}},[e._v("\n        Save\n      ")]):e._e()])])],2)},[],!1,null,"6e083e92",null).exports),F={components:{TcSheet:t.default,ConnectorBlock:y,ConnectorEditorModal:S,ConnectorsListModal:q,QueryEditorSheet:U},data:function(){return{editedConnectorId:null,editedQueryId:null,isConnectorsListModalOpened:!1,isConnectorEditorModalOpened:!1,isQueryEditorSheetOpened:!1,connectorConfig:{},connectorId:"",connectorType:"",search:""}},computed:{allConnectors:function(){return this.$store.getters["connectors/allConnectors"]},configs:function(){return this.$store.getters["connectors/configs"]},filteredConfigs:function(){var e=this.search.toLowerCase(),o=[],s=!0,t=!1,n=void 0;try{for(var a,r=this.configs[Symbol.iterator]();!(s=(a=r.next()).done);s=!0){var d=a.value,i=d.config,l=d.queries,c=d.id;if(i.name.toLowerCase().includes(e))o.push({config:i,queries:l,id:c});else{var p=l.filter(function(o){return o.config.domain.toLowerCase().includes(e)});p.length>0&&o.push({config:i,queries:p,id:c})}}}catch(e){t=!0,n=e}finally{try{s||null==r.return||r.return()}finally{if(t)throw n}}return o}},created:function(){this.$store.dispatch("connectors/fetchAllConnectors"),this.$store.dispatch("connectors/fetchUiSchemas"),this.$store.dispatch("connectors/fetchConfigs")},methods:{close:function(){this.$emit("closed")},closeConnectorEditorModal:function(){this.isConnectorEditorModalOpened=!1},closeQueryEditorSheet:function(){this.editedConnectorId=null,this.editedQueryId=null,this.isQueryEditorSheetOpened=!1},closeConnectorsListModal:function(){this.isConnectorsListModalOpened=!1},createConnector:function(e){this.connectorConfig=void 0,this.connectorId=void 0,this.connectorType=e,this.closeConnectorsListModal(),this.openConnectorEditorModal()},editConnector:function(e,o,s){var t=[e,o,s];this.connectorConfig=t[0],this.connectorId=t[1],this.connectorType=t[2],this.closeConnectorsListModal(),this.openConnectorEditorModal()},openConnectorEditorModal:function(){this.isConnectorEditorModalOpened=!0},openConnectorsListModal:function(){this.isConnectorsListModalOpened=!0},openQueryEditor:function(e){var o=e.connectorId,s=e.queryId;this.editedConnectorId=o,this.editedQueryId=s,this.isQueryEditorSheetOpened=!0},scrollToNewConnector:function(e){var o=this.$refs["connector-block-".concat(e)][0].$el;o.classList.add("connector-block--new"),o.scrollIntoView({behavior:"smooth"})}}},V=(s("/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/index.vue?vue&type=style&index=0&id=0aeb1c3b&scoped=true&lang=scss&"),Object(l.a)(F,function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("TcSheet",{attrs:{"has-toolbar-links":!1,name:"Connectors"},on:{closed:function(o){return e.close()}}},[s("div",{staticClass:"connectors__scrolling-wrapper"},[s("div",{staticClass:"connectors__header"},[s("div",{staticClass:"connectors__searchbar"},[s("i",{staticClass:"fa fa-search"}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{autofocus:"",type:"text",placeholder:"Search connector or domain..."},domProps:{value:e.search},on:{input:function(o){o.target.composing||(e.search=o.target.value)}}})]),e._v(" "),s("div",{staticClass:"connectors__add-new",on:{click:e.openConnectorsListModal}},[e._v("\n        Add a connector\n      ")])]),e._v(" "),e._l(e.filteredConfigs,function(o){var t=o.config,n=o.queries,a=o.id;return s("ConnectorBlock",{key:a,ref:"connector-block-"+a,refInFor:!0,attrs:{"connector-config":t,"connector-id":a,queries:n},on:{createQuery:e.openQueryEditor,editConnector:e.editConnector,editQuery:e.openQueryEditor}})})],2),e._v(" "),e.isConnectorEditorModalOpened?s("ConnectorEditorModal",{attrs:{config:e.connectorConfig,"connector-id":e.connectorId,"connector-type":e.connectorType},on:{closed:e.closeConnectorEditorModal,connectorCreated:e.scrollToNewConnector}}):e._e(),e._v(" "),e.isQueryEditorSheetOpened?s("QueryEditorSheet",{attrs:{"connector-id":e.editedConnectorId,"query-id":e.editedQueryId},on:{close:e.closeQueryEditorSheet}}):e._e(),e._v(" "),e.isConnectorsListModalOpened?s("ConnectorsListModal",{on:{close:e.closeConnectorsListModal,createConnector:function(o){return e.createConnector(o)}}}):e._e()],1)},[],!1,null,"0aeb1c3b",null));o.default=V.exports},"/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connector-block/index.vue?vue&type=style&index=0&id=3ce05a28&scoped=true&lang=scss&":function(e,o,s){"use strict";var t=s("/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connector-block/index.vue?vue&type=style&index=0&id=3ce05a28&scoped=true&lang=scss&");s.n(t).a},"/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connector-editor-modal/index.vue?vue&type=style&index=0&id=10d23714&scoped=true&lang=scss&":function(e,o,s){"use strict";var t=s("/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connector-editor-modal/index.vue?vue&type=style&index=0&id=10d23714&scoped=true&lang=scss&");s.n(t).a},"/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connector-query-tile/index.vue?vue&type=style&index=0&id=57a197ed&scoped=true&lang=scss&":function(e,o,s){"use strict";var t=s("/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connector-query-tile/index.vue?vue&type=style&index=0&id=57a197ed&scoped=true&lang=scss&");s.n(t).a},"/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connectors-list-modal/connector-tile/index.vue?vue&type=style&index=0&id=5d54ee35&scoped=true&lang=scss&":function(e,o,s){"use strict";var t=s("/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connectors-list-modal/connector-tile/index.vue?vue&type=style&index=0&id=5d54ee35&scoped=true&lang=scss&");s.n(t).a},"/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connectors-list-modal/index.vue?vue&type=style&index=0&id=42e445e5&scoped=true&lang=scss&":function(e,o,s){"use strict";var t=s("/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/connectors-list-modal/index.vue?vue&type=style&index=0&id=42e445e5&scoped=true&lang=scss&");s.n(t).a},"/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/index.vue?vue&type=style&index=0&id=0aeb1c3b&scoped=true&lang=scss&":function(e,o,s){"use strict";var t=s("/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/index.vue?vue&type=style&index=0&id=0aeb1c3b&scoped=true&lang=scss&");s.n(t).a},"/app/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/query-editor-sheet/index.vue?vue&type=style&index=0&id=6e083e92&scoped=true&lang=scss&":function(e,o,s){"use strict";var t=s("/app/node_modules/mini-css-extract-plugin/dist/loader.js!/app/node_modules/css-loader/dist/cjs.js??ref--5-1!/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/app/node_modules/resolve-url-loader/index.js??ref--5-2!/app/node_modules/postcss-loader/src/index.js??ref--5-3!/app/node_modules/sass-loader/dist/cjs.js??ref--5-4!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/small-app/conceptor-tools/connectors/query-editor-sheet/index.vue?vue&type=style&index=0&id=6e083e92&scoped=true&lang=scss&");s.n(t).a}}]);