(this.webpackJsonp=this.webpackJsonp||[]).push([["tc-story-editor-sheet"],{"/app/build/webpack/loaders/json-schema-loader.js!/app/app/schemas/front_config/slides/slide_options/chart_options/common_options/filter_schema.json":function(e,t){e.exports={type:"object",name:"filter",properties:{type:{type:"string",enum:["buttons","dropdown","slider","checkboxes"],ui:{label:"Type of filter",attrs:{type:"selectFilterType",defaultValue:"buttons"}}},datasets:{type:"array",items:{type:"string"},ui:{widget:"multipleCheckboxes",label:"Filter datasets",enhancer:"datasets"}},on:{type:"string",ui:{label:"On column",suggestions:{on:"datasetColumnName"}}},playStory:{type:"object",ui:{label:"Add a play button (slider only)",tooltip:"Beta feature - Please give us your feedback :)"},properties:{activateAtInit:{type:"boolean",ui:{label:"Play story automatically",tooltip:"The story starts playing when the user arrives"}},motionDuration:{type:"number",ui:{label:"Duration (in ms) of each step",placeholder:2e3}}},additionalProperties:!1},reset:{type:"string",ui:{hidden:!0}},withSize:{type:"boolean",ui:{hidden:!0}}},required:["on","type"]}},"/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/slide-editor/component-editor/index.js":function(e,t,s){"use strict";s.r(t);var i=s("/app/node_modules/lodash/lodash.js"),o=s.n(i),a=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/dataset-manager/index.coffee"),r=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/slide-editor/dataset-viewer/index.coffee 4c214810d10272111723bc8989bca38d"),n=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/services/dataset-utils.js"),d=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/data-request-editor/index.coffee 16384af8c3267eed3c1fd8984f2368e0"),l=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/data-request-editor/empty-placeholder/index.coffee"),c=s("/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/app/scripts/utils/components/redimentionnable-panels/index.vue 7bd2f4d9b3bd768fa783f43d78d16f09"),p=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/slide/slide-data-warehouse-mixin.coffee"),u=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/utils/preview/index.coffee"),m=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/slide/tc-story.js 2771b1fa2a3d37a0de7429dc4b0c0590"),h=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/slide-editor/suggestion.coffee"),f=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/slide-editor/story-config-utils.js"),_=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/params.coffee"),y=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/slide-editor/dataset-utils.js"),g=s("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/slide-editor/component-editor/component-editor.vue.pug"),v=s.n(g),b=s("/app/node_modules/weaverbird/dist/weaverbird.esm.js");function x(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var C=!1,w=Object(b.e)("mongo36");t.default=v()({name:"component-editor",mixins:[Object(p.a)()],components:{RedimentionnablePanels:c.a,DataRequestEditor:d.a,DatasetManager:a.default,DatasetViewer:r.a,EmptyPlaceholder:l.a,Preview:u.a,TcModal:function(){return Promise.resolve().then(s.bind(null,"/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/utils/components/tc-modal/index.js"))},TcStory:m.a,QueryBuilder:b.b,DataViewer:b.a},props:{dataApi:{type:Object,default:function(){return{get:function(){return Promise.resolve([])},basemaps:{query:function(){return Promise.resolve([])}}}}},story:{type:Object,default:function(){return{}}},initialSelectedDatasetId:{type:String,default:function(){}},componentEditorTKey:{type:String,default:function(){return"studio.component_editor.title"}}},data:function(){return{selectedDatasetId:this.initialSelectedDatasetId,tabName:"queryOptions",isSwitchToCodeModalOpened:!1,unsubscribeMutationWatcher:void 0}},computed:{currentDataset:function(){return o.a.find(this.datasetsList,{id:this.selectedDatasetId})},currentDatasetPrecision:function(){return this.currentDataset.config.precision},currentDatasetSentiment:function(){return this.currentDataset.config.sentiment},currentDatasetUnits:function(){return this.currentDataset.config.units},currentDatasetDataRequest:function(){return Object(y.c)(this.datasetsConfigs[this.selectedDatasetId])},datasetsConfigs:function(){return n.a.findDatasetsParamsInSlide(this.story)},datasetsIds:function(){return o.a.keys(this.datasets)},datasetsList:function(){return o.a.map(this.datasets,function(e,t){return o.a.assign({id:t},e)})},isComponentOptionsTabActive:function(){return"componentOptions"===this.tabName},isDataRequestEmpty:function(){return void 0===this.currentDatasetDataRequest||o.a.isEmpty(this.currentDatasetDataRequest)||o.a.isEqual(this.currentDatasetDataRequest,f.a)},isQueryOptionsTabActive:function(){return"queryOptions"===this.tabName},isVisualQueryBuilderMode:function(){return!(!C||!this.isDataRequestEmpty&&!this.pipeline)},pipeline:function(){var e=o.a.defaultTo(this.selectedDatasetId,a.DEFAULT_DATASET_NAME);return this.story.datasets[e]?this.story.datasets[e].pipeline:[]},suggestions:function(){return Object(y.e)(this.datasetsList)},templatedConfig:function(){return this.$store.getters.parseTemplate(this.story)}},created:function(){(C=_.c.VISUAL_QUERY_BUILDER_ENABLED)&&Object(b.g)(this.$store,{interpolateFunc:function(e,t){return o.a.template(e)(t)},variables:{appRequesters:this.$store.getters.allState.appRequesters,requestersManager:this.$store.getters.allState.requestersManager}}),this.t=this.$store.getters.translateBatch([this.componentEditorTKey,"studio.data_request_editor.title","confirmation_modal.code_mode.title","confirmation_modal.code_mode.message","confirmation_modal.cancel","confirmation_modal.confirm"])},destroyed:function(){C&&(Object(b.i)(this.$store),this.unsubscribeMutationWatcher&&this.unsubscribeMutationWatcher())},mounted:function(){var e=this;C&&(this.unsubscribeMutationWatcher=this.$store.subscribe(function(t){t.type===Object(b.d)("selectStep")||t.type===Object(b.d)("setCurrentDomain")||t.type===Object(b.d)("deleteStep")?e.updateStory(e.story):"SET_AVAILABLE_DOMAINS"===t.type&&e.$store.commit(Object(b.d)("setDomains"),{domains:t.payload})})),o.a.isUndefined(this.selectedDatasetId)&&(this.selectedDatasetId=o.a.first(this.datasetsIds)),this.isDataRequestEmpty||this.showEditor("componentOptions"),C&&(this.$store.getters.availableDomains&&this.$store.getters.availableDomains.length&&this.$store.commit(Object(b.d)("setDomains"),{domains:this.$store.getters.availableDomains}),this.updateVQBStore())},watch:{datasetsIds:function(){o.a.includes(this.datasetsIds,this.selectedDatasetId)||(this.datasetsIds.length>0?this.selectedDatasetId=this.datasetsIds[0]:this.selectedDatasetId=a.DEFAULT_DATASET_NAME)},datasetsConfigs:function(e){this.updateDatasetsConfigs(e),"__fake_data__"===o.a.get(e[this.selectedDatasetId],"query.domain")&&this.showEditor("componentOptions")}},methods:{addDataset:function(e,t){this.selectDatasetById(e),this.isVisualQueryBuilderMode&&(this.$store.commit(Object(b.d)("setPipeline"),{pipeline:[]}),this.$store.commit(Object(b.d)("setDataset"),{dataset:{data:[],headers:[]}})),this.updateStory(t),this.tabName="queryOptions"},selectDatasetById:function(e){this.selectedDatasetId=null!=e?e:this.datasetsIds[0],this.isVisualQueryBuilderMode&&this.updateVQBStore()},selectDomain:function(e){this.$store.commit(Object(b.d)("setCurrentDomain"),{currentDomain:o.a.get(e,"query.domain")})},showEditor:function(e){this.tabName=e},transformDataQuery:function(e){var t=this.datasets[this.selectedDatasetId],s=e(o.a.cloneDeep(Object(y.d)(t))),i=o.a.cloneDeep(this.story);o.a.merge(i,{datasets:x({},this.selectedDatasetId,o.a.clone(t.config))}),Object(y.i)(i.datasets[this.selectedDatasetId],s),this.updateStory(i)},updateVQBStore:function(){this.pipeline&&this.pipeline.length&&(this.$store.commit(Object(b.d)("setPipeline"),{pipeline:this.pipeline}),this.$store.commit(Object(b.d)("selectStep"),{index:this.pipeline.length-1}))},displayQueryEditor:function(){this.isVisualQueryBuilderMode&&this.updateVQBStore(),this.showEditor("queryOptions")},openSwitchToCodeModal:function(){this.isSwitchToCodeModalOpened=!0},closeSwitchToCodeModal:function(){this.isSwitchToCodeModalOpened=!1},switchToCodeMode:function(){var e=o.a.cloneDeep(this.story);delete e.datasets[this.selectedDatasetId].pipeline,this.updateStory(e,!1),this.closeSwitchToCodeModal()},updateStory:function(e){if((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.isVisualQueryBuilderMode&&this.isQueryOptionsTabActive){var t=e.datasets[this.selectedDatasetId],s=this.$store.state[b.c].pipeline,i=w.translate(s);(e=o.a.cloneDeep(e)).datasets[this.selectedDatasetId].pipeline=o.a.cloneDeep(s),o.a.merge(e,{datasets:x({},this.selectedDatasetId,o.a.clone(t.config))}),i.length&&Object(y.i)(e.datasets[this.selectedDatasetId],i)}this.$emit("storyUpdated",e)},updateDatasetDataRequest:function(e){var t=o.a.defaultTo(this.selectedDatasetId,a.DEFAULT_DATASET_NAME),s=o.a.cloneDeep(this.story);o.a.merge(s,{datasets:x({},t,{})}),Object(y.h)(s.datasets[t],e),this.updateStory(s)},updateDatasetsConfigs:function(e){var t=this;o.a.each(e,function(e,s){null!=t.datasets[s]&&(t.datasets[s].config=e)})},updateMetaConfig:function(e,t,s){var i;null==s&&(s=this.selectedDatasetId),i=this.story.datasets&&this.story.datasets[s]?o.a.extend({},this.story.datasets[s][t],e):e;var a=o.a.merge(o.a.cloneDeep(this.story),{datasets:x({},s,x({},t,{}))});a.datasets[s][t]=i,this.updateStory(a)},updateStoryPrecision:function(e,t){this.updateMetaConfig(e,"precision",t)},updateStorySentiment:function(e,t){this.updateMetaConfig(e,"sentiment",t)},updateStoryUnits:function(e,t){this.updateMetaConfig(e,"units",t)},provideSuggestions:function(e){var t=this;return function(s){return Object(h.a)(t.suggestions)(e)(s)}}}})},"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/slide/empty-placeholder/index.coffee":function(e,t,s){"use strict";s.r(t);var i,o=s("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/slide/empty-placeholder/template.vue.pug");i=s.n(o)()({created:function(){return this.t=this.$store.getters.translateBatch(["studio.empty_story_placeholder.action","studio.empty_story_placeholder.description","studio.empty_story_placeholder.description_link","studio.empty_story_placeholder.title"])},methods:{action:function(){return this.$emit("action")}}}),t.default=i},"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/slide/tc-story-editor-sheet/index.coffee 036b8cdf4d5c6d659c0ac77155d596be":function(e,t,s){"use strict";s.r(t);var i,o,a,r=s("/app/node_modules/lodash/lodash.js"),n=s.n(r),d=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/utils/tc-sheet/index.js"),l=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/slide/tc-story.js 2771b1fa2a3d37a0de7429dc4b0c0590"),c=s("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/studio-side-panel/studio-side-panel.vue.pug")({name:"studio-side-panel",props:{left:{default:!1,type:Boolean},containerSelector:{default:"",type:String}},data:function(){return{isOpened:!1}},computed:{elementClass:function(){var e;return(e={})["studio-side-panel--"+this.side]=!0,e["studio-side-panel--opened"]=this.isOpened,e},side:function(){return this.left?"left":"right"}},mounted:function(){return this.bodyElement=this.$el.querySelector(".studio-side-panel__body"),n.a.isEmpty(!1===this.containerSelector)?document.body.append(this.$el):(this.containerElement=document.querySelector(this.containerSelector),this.containerElement.append(this.$el))},methods:{close:function(){return this.isOpened=!1},open:function(){return this.isOpened=!0}},beforeDestroy:function(){return null!=this.containerElement?this.containerElement.removeChild(this.$el):document.body.removeChild(this.$el)}}),p={InvalidSelection:new Error("The selection is invalid")},u=function(e,t){var s;if(!(n.a.isArray(e)||n.a.includes(["include","exclude"],null!=e?e.type:void 0)&&n.a.isArray(e.values)))throw p.InvalidSelection;return"exclude"===(s=n.a.isArray(e)?{type:"include",values:e}:e).type!==n.a.includes(s.values,t)},m=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/utils/components/tc-checkboxes-dropdown-glossary/index.coffee"),h=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/utils/components/tc-modal/index.js"),f=s("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/slide-editor/glossary-terms-editor/template.vue.pug"),_=s.n(f)()({name:"GlossaryTermsEditor",props:{terms:{type:Array,default:function(){return[]}}},components:{TcCheckboxesDropdownGlossary:m.a,TcModal:h.default},data:function(){return{currentTerm:{},currentTermIndex:-1,isDropdownOpened:!1,isEditionModalOpened:!1,isWarningModalOpened:!1}},computed:{display:function(){return n.a.isEmpty(this.selection.values)?"-":n.a.join(this.selection.values,", ")},isCurrentTermGlobal:function(){return!n.a.has(this.currentTerm,"slides")},requiredValues:function(){return n.a.chain(this.terms).reject(function(e){return n.a.has(e,"slides")}).map("term").value()},selection:function(){return{type:"include",values:n.a.chain(this.terms).filter((e=this,function(t){return!!n.a.isUndefined(t.slides)||n.a.includes(t.slides,e.$store.getters.currentSlideId)})).map("term").value()};var e},tDeleteText:function(){return this.$store.getters.translate("studio.glossary_terms_editor.modal_delete_text_part1",{term:this.currentTerm.term})},values:function(){return n.a.map(this.terms,"term")}},created:function(){return this.t=this.$store.getters.translateBatch(["studio.glossary_terms_editor.term_label","studio.glossary_terms_editor.dropdown_label","studio.glossary_terms_editor.modal_editor_title","studio.glossary_terms_editor.modal_editor_term","studio.glossary_terms_editor.modal_editor_term_placeholder","studio.glossary_terms_editor.modal_editor_definition","studio.glossary_terms_editor.modal_editor_definition_placeholder","studio.glossary_terms_editor.modal_editor_label_global","studio.glossary_terms_editor.modal_cancel","studio.glossary_terms_editor.modal_save","studio.glossary_terms_editor.modal_confirm","studio.glossary_terms_editor.modal_delete_title","studio.glossary_terms_editor.modal_delete_text_part2"])},methods:{closeDropdown:function(){if(!this.isEditionModalOpened&&!this.isWarningModalOpened)return this.isDropdownOpened=!1},closeEditionModal:function(){return this.$nextTick((e=this,function(){return e.isEditionModalOpened=!1}));var e},closeWarningModal:function(){return this.$nextTick((e=this,function(){return e.isWarningModalOpened=!1}));var e},openDropdown:function(){return this.isDropdownOpened=!0},openEditionModal:function(e){return n.a.isUndefined(e)?(this.currentTermIndex=-1,this.currentTerm={}):(this.currentTermIndex=e,this.currentTerm=n.a.cloneDeep(this.terms[this.currentTermIndex])),this.isEditionModalOpened=!0},openWarningModal:function(e){return this.currentTermIndex=e,this.currentTerm=n.a.cloneDeep(this.terms[this.currentTermIndex]),this.isWarningModalOpened=!0},removeTerm:function(){var e;return this.$emit("updated",n.a.reject(this.terms,(e=this,function(t,s){return s===e.currentTermIndex}))),this.closeWarningModal()},toggleTermGlobal:function(){return this.currentTerm=n.a.has(this.currentTerm,"slides")?n.a.omit(this.currentTerm,"slides"):n.a.assign({},this.currentTerm,{slides:[]})},updateSelection:function(e){return this.$emit("updated",n.a.map(this.terms,(t=this,function(s){return t.updateSelectionTerm(e,s)})));var t},updateSelectionTerm:function(e,t){var s,i,o;if(n.a.isUndefined(t.slides))return t;if(s=u(e,t.term),i=n.a.includes(t.slides,this.$store.getters.currentSlideId),s&&!i)o=n.a.concat(t.slides,this.$store.getters.currentSlideId);else{if(s||!i)return t;o=n.a.without(t.slides,this.$store.getters.currentSlideId)}return n.a.assign({},t,{slides:o})},updateTerm:function(){var e,t,s;return e=!n.a.isUndefined(this.currentTerm.slides),t=!n.a.includes(n.a.map(this.terms,"term"),this.currentTerm.term)&&n.a.isEmpty(this.currentTerm.slides),e&&t&&(this.currentTerm.slides=[this.$store.getters.currentSlideId]),s=n.a.cloneDeep(this.terms),-1===this.currentTermIndex?s.push(this.currentTerm):s[this.currentTermIndex]=this.currentTerm,this.$emit("updated",s),this.closeEditionModal()}}}),y=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/chart-options-editor/form-builder/index.js"),g=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/chart-options-editor/json-to-ui-schema.js");a=s("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/slide-editor/params-editor/slide-params-editor.vue.pug"),o=s("/app/build/webpack/loaders/json-schema-loader.js!/app/app/schemas/front_config/slides/slide_schema.json"),i={type:"object",properties:{commentary:o.properties.commentary,recommendation:o.properties.recommendation,source:o.properties.source}};var v,b=a({components:{FormBuilder:y.a,GlossaryTermsEditor:_},props:{glossaryTerms:{type:Array,default:function(){return[]}},slide:{type:Object,default:function(){return{}}},onCancel:{type:Function}},data:function(){return{t:{},isWarningModalOpen:!1}},computed:{slideParamsUiSchema:function(){return Object(g.b)(i)},slideParams:function(){return n.a.pick(this.slide,["commentary","source","recommendation"])}},mounted:function(){return this.t=this.$store.getters.translateBatch(["studio.slide_params_editor.title"])},methods:{updateGlossaryTerms:function(e){return this.$emit("glossaryTermsUpdated",e)},updateSlideParams:function(e){var t;if(t=n.a.omit(this.slide,["commentary","source","recommendation"]),this.$emit("slideParamsUpdated",n.a.extend(n.a.cloneDeep(t),e)),this.onCancel)return this.onCancel()}}}),x=s("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/slide-editor/params-editor/params-editor-panel.vue.pug"),C=s.n(x)()({components:{ParamsEditor:b},props:{slide:{type:Object},glossaryTerms:{type:Array}},data:function(){return{slideParamsChanged:!1,glossaryTermsChanged:!1,updatedGlossaryTerms:void 0,updatedSlideParams:void 0}},computed:{changed:function(){return this.slideParamsChanged||this.glossaryTermsChanged},currentGlossaryTerms:function(){return this.updatedGlossaryTerms||this.glossaryTerms}},created:function(){return this.t=this.$store.getters.translateBatch(["studio.side-panel.title"])},methods:{close:function(){return this.$emit("closed")},saveUpdatedGlossaryTerms:function(e){return this.glossaryTermsChanged=!0,this.updatedGlossaryTerms=e},saveUpdatedParams:function(e){return this.slideParamsChanged=!0,this.updatedSlideParams=e},save:function(){return this.glossaryTermsChanged&&this.$emit("glossaryTermsUpdated",this.updatedGlossaryTerms),this.slideParamsChanged&&this.$emit("slideParamsUpdated",this.updatedSlideParams),this.close()}}}),w=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/utils/cson-editor/index.coffee"),j=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/utils/preview/index.coffee"),S=s("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/slide/tc-story-editor-sheet/story-config-editor.vue.pug"),T=s.n(S),D=s("/app/build/webpack/loaders/json-schema-loader.js!/app/app/schemas/front_config/slides/slide_schema.json"),k=s.n(D),O=T()({components:{CsonEditor:w.a,Preview:j.a,TcStory:l.a},props:["config","dataApi"],data:function(){return{storySchema:Object.freeze(k.a)}},computed:{suggestions:function(){return{domains:this.$store.getters.availableDomains,postprocessFunctions:this.$store.getters.postprocessFunctions,templateVariables:this.$store.getters.allState}}},created:function(){return this.$store.dispatch("refreshAvailableDomains"),this.$store.dispatch("refreshAvailablePostprocessFunctions")},methods:{updateConfig:function(e){return this.$emit("configUpdated",e)}}}),E=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/studio-toolbar/toolbar-links/index.js 161925899c8696000315d00c4f9ac8b1"),$=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/switch-edition-mode/index.coffee"),I=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/slide/templated-property-mixin.js"),M=s("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/slide/tc-story-editor-sheet/tc-story-editor-header/tc-story-editor-header.vue.pug"),P=s.n(M)()({name:"tc-story-editor-header",mixins:[Object(I.a)("storyTitle")],components:{SwitchEditionMode:$.a},props:{storyTitle:{type:String,default:function(){return""}}},data:function(){return{editingSlideTitle:!1,editedStoryTitle:this.storyTitle}},methods:{editStoryTitle:function(){return this.editedStoryTitle=this.storyTitle,this.editingSlideTitle=!0,this.$nextTick((e=this,function(){return e.$refs.title.focus()}));var e},exitStoryTitle:function(){return this.editedStoryTitle=this.storyTitle,this.editingSlideTitle=!1},updateStoryTitle:function(){if(this.editedStoryTitle!==this.storyTitle)return this.$emit("storyTitleUpdated",this.editedStoryTitle),this.editingSlideTitle=!1}}}),A=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/slide/tc-story-editor-sheet/prefered-edit-mode-mixin.coffee"),q=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/utils/studio-error-message/index.coffee"),N=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/slide-editor/dataset-utils.js"),V=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/slide-editor/story-config-utils.js"),U=s("/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/slide-editor/suggestion.coffee"),B=s("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/slide/tc-story-editor-sheet/template.vue.pug");v=s.n(B)()({name:"tc-story-editor-sheet",components:{TcSheet:d.default,StudioSidePanel:c,ParamsEditorPanel:C,StoryConfigEditor:O,ToolbarLinks:E.a,TcStoryEditorHeader:P,StudioErrorMessage:q.a},mixins:[A.a],beforeCreate:function(){return this.$options.components.TcStory=l.a},props:{storyConfig:{type:Object,default:function(){return{}}},datasets:{type:Object,default:function(){return{}}},dataApi:{type:Object,default:function(){return{get:function(){return Promise.resolve([])},basemaps:{query:function(){return Promise.resolve([])}}}}}},data:function(){return{initialStoryConfig:n.a.cloneDeep(this.storyConfig),editedStoryConfig:Object(V.i)(n.a.cloneDeep(this.storyConfig)),glossaryConfig:n.a.cloneDeep(this.$store.getters.glossary),hasGlossaryChanges:!1,hasStoryChanges:!1,error:void 0,saving:!1}},computed:{datasetsList:function(){return n.a.map(this.datasets,function(e,t){return n.a.assign({id:t},e)})},draftConfig:function(){return this.$store.getters.draft("stories",this.editedStoryConfig.id)},glossaryTerms:function(){var e,t;return(null!=(e=this.glossaryConfig)?e.terms:void 0)||(null!=(t=this.$store.getters.glossary)?t.terms:void 0)},hasChanges:function(){return this.hasGlossaryChanges||this.hasStoryChanges},suggestions:function(){return n.a.map(Object(N.b)(this.datasetsList),function(e){return Object(U.c)("datasetColumnName",e.name,e.type)})}},mounted:function(){if(this.draftConfig)return this.editedStoryConfig=n.a.cloneDeep(this.draftConfig),this.hasStoryChanges=!0},methods:{close:function(e){return null==e&&(e=!1),!e&&this.hasStoryChanges||this.$store.dispatch("deleteDraft",{configType:"stories",configId:this.editedStoryConfig.id}),this.$emit("closed")},reset:function(){if(confirm("It will reset to the last saved state of this story. Are you sure you want to do this?"))return this.initialStoryConfig=n.a.cloneDeep(this.storyConfig),this.editedStoryConfig=Object(V.i)(n.a.cloneDeep(this.storyConfig)),this.hasStoryChanges=!1,this.$store.dispatch("deleteDraft",{configType:"stories",configId:this.editedStoryConfig.id})},save:function(){var e,t;return e=[],this.hasStoryChanges&&e.push(this.$store.dispatch("updateSlide",{updatedSlide:this.editedStoryConfig,overrideSlide:!0})),this.hasGlossaryChanges&&e.push(this.$store.dispatch("updateGlossary",this.glossaryConfig)),this.saving=!0,Promise.all(e).then((t=this,function(){return t.close(!0),t.error=void 0})).catch(function(e){return function(t){return e.error="<strong>Oops!</strong> An error prevented us from saving your story.<br>\n<pre>"+t+"</pre>"}}(this)).finally(function(e){return function(){return e.saving=!1}}(this))},openStoryParametersPanel:function(){return this.$refs.paramsPanel.open()},updateDraft:function(){return this.$store.dispatch("saveDraft",{configType:"stories",config:this.editedStoryConfig})},updateStoryTitle:function(e){return this.hasStoryChanges=!0,this.$set(this.editedStoryConfig,"title",e),this.updateDraft()},updateStoryParameters:function(e){if(e)return this.updateStoryConfig(e)},updateGlossaryTerms:function(e){return this.hasGlossaryChanges=!0,this.glossaryConfig=n.a.assign({},this.glossaryConfig,{terms:e})},updateStoryConfig:function(e){return this.hasStoryChanges=!0,this.editedStoryConfig=Object(V.i)(e),this.updateDraft()}},watch:{storyConfig:function(e){if(!n.a.isEqual(this.initialStoryConfig,this.storyConfig)){if(this.hasStoryChanges=!0,this.saving)return;return this.error="<strong>Warning!</strong> Someone else modified this story while you were working.\nIf you save, you may override their work. Hit reset to start again from their changes."}}}});t.default=v},"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/slide-editor/filter-editor/filter-options-editor.coffee":function(e,t,s){"use strict";s.r(t);var i,o,a=s("/app/node_modules/lodash/lodash.js"),r=s.n(a),n=s("/app/build/webpack/loaders/json-schema-loader.js!/app/app/schemas/front_config/slides/slide_options/chart_options/common_options/filter_schema.json"),d=s.n(n),l=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/chart-options-editor/json-to-ui-schema.js"),c=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/studio/chart-options-editor/form-builder/index.js"),p=s("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/slide-editor/filter-editor/filter-options-editor.vue.pug"),u=s.n(p);i={type:"buttons"},o=function(e){var t;return t=r.a.cloneDeep(i),e.length>1&&(t.datasets=[e[0]]),t},t.default=u()({components:{FormBuilder:c.a},props:{value:{type:Object,default:function(){return{}}},datasetsIds:{type:Array},suggestionsProvider:{type:Function}},created:function(){if(r.a.isEmpty(this.value))return this.initFilter()},computed:{filterUiSchema:function(){return Object(l.b)(d.a,{datasets:this.datasetsIds})}},methods:{initFilter:function(){return this.updateValue(o(this.datasetsIds))},updateValue:function(e){return this.$emit("input",e)}}})},"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/studio/utils/preview/index.coffee":function(e,t,s){"use strict";var i,o,a=s("/app/node_modules/vue-clickaway/dist/vue-clickaway.common.js"),r=s.n(a),n=s("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/utils/preview/preview.vue.pug");i={NORMAL:"normal",EXPANDED:"expanded",MINIMIZED:"minimized"},o=s.n(n)()({mixins:[r.a.mixin],props:{scale:{type:Number,default:.2,validator:function(e){return 0<e&&e<=1}},margin:{type:Number,default:25}},data:function(){return{mode:i.NORMAL,viewport:{width:window.innerWidth,height:window.innerHeight}}},created:function(){return this.PREVIEW_MODES=i},computed:{canCompress:function(){return this.mode!==i.MINIMIZED},canExpand:function(){return this.mode!==i.EXPANDED},shouldDisplayContent:function(){return this.mode!==i.MINIMIZED},contentSize:function(){return{width:this.viewport.width-2*this.margin,height:this.viewport.height-2*this.margin}},normalStyle:function(){return{container:{bottom:this.margin+"px",right:this.margin+"px",width:this.contentSize.width*this.scale+"px",height:this.contentSize.height*this.scale+"px"},content:{width:this.contentSize.width+"px",height:this.contentSize.height+"px",transform:"scale3d("+this.scale+", "+this.scale+", 1)"}}},expandedStyle:function(){var e,t,s,i;return t=(s=this.$parent.$el).clientWidth-2*this.margin,e=s.clientHeight-2*this.margin,i=Math.min(t/this.contentSize.width,e/this.contentSize.height),{container:{bottom:(s.clientHeight-this.contentSize.height*i)/2+"px",right:(s.clientWidth-this.contentSize.width*i)/2+"px",width:this.contentSize.width*i+"px",height:this.contentSize.height*i+"px"},content:{width:this.contentSize.width+"px",height:this.contentSize.height+"px",transform:"scale3d("+i+", "+i+", 1)"}}},minimizedStyle:function(){return{container:{bottom:"25px",right:"25px",width:"0px",height:"0px"},content:{width:this.contentSize.width+"px",height:this.contentSize.height+"px",transform:"scale3d("+this.scale+", "+this.scale+", 1)"}}},currentStyle:function(){switch(this.mode){case i.EXPANDED:return this.expandedStyle;case i.MINIMIZED:return this.minimizedStyle;default:return this.normalStyle}}},methods:{refreshViewport:function(){return this.viewport={width:window.innerWidth,height:window.innerHeight}},compress:function(){return this.mode===i.EXPANDED?this.mode=i.NORMAL:this.mode=i.MINIMIZED},expand:function(){return this.mode===i.MINIMIZED?this.mode=i.NORMAL:this.mode=i.EXPANDED},onClickAway:function(){if(this.mode===i.EXPANDED)return this.compress()}}}),t.a=o},"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/coffee-loader/index.js!/app/app/scripts/utils/components/tc-checkboxes-dropdown-glossary/index.coffee":function(e,t,s){"use strict";(function(e){var i,o=s("/app/node_modules/babel-loader/lib/index.js!/app/app/scripts/utils/search/index.js"),a=s("/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/utils/components/tc-checkboxes-dropdown-glossary/tc-checkboxes-dropdown-glossary.vue.pug"),r=s.n(a),n=s("/app/node_modules/vue-clickaway/dist/vue-clickaway.common.js"),d=s("/app/node_modules/v-tooltip/dist/v-tooltip.esm.js");i=r()({name:"tc-checkboxes-dropdown-glossary",directives:{tooltip:d.a},mixins:[n.mixin],props:{selection:{default:function(){return{type:"include",values:[]}},type:Object},values:{default:function(){return[]},type:Array},extendable:{default:!1,type:Boolean},editable:{default:!1,type:Boolean},name:{default:void 0,type:String},searchable:{default:!1,type:Boolean},requiredValues:{default:function(){return[]},type:Array}},data:function(){return{isBottom:!1,newValues:[],searchTerm:""}},computed:{editableOrExtendable:function(){return this.editable||this.extendable},elementClass:function(){return"tc-checkboxes-dropdown-glossary--"+(this.isBottom?"bottom":"top")},hasName:function(){return null!=this.name&&!this.searchable},selectableOptions:function(){return this.searchable?Object(o.a)(this.values)(this.searchTerm):this.values},t:function(){var t;return t=this.$store.getters.translateBatch(["checkboxes_dropdown.all","checkboxes_dropdown.cancel","checkboxes_dropdown.confirm","checkboxes_dropdown.none"]),e.reduce(t,function(t,s,i){return e.set(t,i,s)},{})},tCreate:function(){return this.$store.getters.translate("checkboxes_dropdown.create",{name:this.name})},tLabel:function(){return this.$store.getters.translate("checkboxes_dropdown.label",{name:this.name})},tPlaceholder:function(){return e.upperFirst(this.$store.getters.translate("checkboxes_dropdown.name",{name:this.name}))},tPlaceholderSearchable:function(){return e.upperFirst(this.$store.getters.translate("checkboxes_dropdown.search",{name:this.name}))}},mounted:function(){var e,t;if((e=this.$el.getBoundingClientRect()).top<0||e.bottom+e.height+10+(null!=(t=this.$el.parentElement)?t.offsetHeight:void 0)<=window.innerHeight)return this.isBottom=!0},methods:{checkAll:function(){return this.$emit("updated",{type:"exclude",values:[]})},close:function(){return this.$emit("closed")},createNewValue:function(){return this.editable?this.$emit("created"):this.newValues.push("")},edit:function(e){return this.$emit("edited",e)},getCheckboxClass:function(t){return{"tc-checkboxes-dropdown-glossary__checkbox--checked":"exclude"===this.selection.type!==e.includes(this.selection.values,t),"tc-checkboxes-dropdown-glossary__checkbox--required":e.includes(this.requiredValues,t)}},getCheckboxTooltip:function(t){return"Global term : you need to edit to uncheck",!!e.includes(this.requiredValues,t)&&"Global term : you need to edit to uncheck"},remove:function(t){return this.editable?this.$emit("removed",t):this.newValues=e.reject(this.newValues,function(e,s){return s===t})},submit:function(){return this.$emit("submited",e.chain(this.newValues).reject("").map(function(t){return e.trim(t)}).value())},toggle:function(t){var s;if(!e.includes(this.requiredValues,t))return e.findIndex(this.selection.values,t),s=e.includes(this.selection.values,t)?e.without(this.selection.values,t):e.concat(this.selection.values,t),this.$emit("updated",{type:this.selection.type,values:s})},unCheckAll:function(){return this.$emit("updated",{type:"include",values:[]})},updateFormValue:function(e,t){return this.$set(this.newValues,e,t)}}}),t.a=i}).call(this,s("/app/node_modules/lodash/lodash.js"))},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/slide/empty-placeholder/template.vue.pug":function(e,t){var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"charts-placeholder"},[s("div",{staticClass:"charts-placeholder__inner"},[s("h1",{staticClass:"charts-placeholder__title"},[e._v(e._s(e.t["studio.empty_story_placeholder.title"]))]),s("p",{staticClass:"charts-placeholder__txt"},[e._v(e._s(e.t["studio.empty_story_placeholder.description"])+" "),s("a",{attrs:{href:"https://docs.toucantoco.com/"}},[e._v(e._s(e.t["studio.empty_story_placeholder.description_link"]))])]),s("div",{ref:"callToAction",staticClass:"bordered-button-blueprint",on:{click:e.action}},[e._v(e._s(e.t["studio.empty_story_placeholder.action"]))]),s("div",{staticClass:"charts-placeholder__example-charts"})])])},i=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=s,t.staticRenderFns=i,e}},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/slide/tc-story-editor-sheet/story-config-editor.vue.pug":function(e,t){var s=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tc-story-config-editor"},[t("cson-editor",{staticClass:"tc-story-config-editor__code-editor",attrs:{obj:this.config,autofocus:!0,schema:this.storySchema,suggestions:this.suggestions},on:{objUpdated:this.updateConfig}}),t("preview",{attrs:{scale:.2}},[t("tc-story",{attrs:{config:this.config,dataApi:this.dataApi,debugPanelEnabled:!1,isPreview:!0}})],1)],1)},i=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=s,t.staticRenderFns=i,e}},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/slide/tc-story-editor-sheet/tc-story-editor-header/tc-story-editor-header.vue.pug":function(e,t){var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tc-story-editor__header"},[e.editingSlideTitle?e._e():s("div",{staticClass:"tc-story-editor__title",on:{click:e.editStoryTitle}},[e._v(e._s(e.storyTitleTemplated))]),e.editingSlideTitle?s("input",{directives:[{name:"model",rawName:"v-model",value:e.editedStoryTitle,expression:"editedStoryTitle"}],ref:"title",staticClass:"tc-story-editor__edit-title",attrs:{type:"text"},domProps:{value:e.editedStoryTitle},on:{blur:function(t){return e.updateStoryTitle()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateStoryTitle()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.exitStoryTitle()}],input:function(t){t.target.composing||(e.editedStoryTitle=t.target.value)}}}):e._e(),s("switch-edition-mode"),e.storyTitleTemplatingError?s("error-message",{attrs:{"error-message":e.storyTitleTemplatingError,"default-collapsed":"",left:"10px"}}):e._e()],1)},i=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=s,t.staticRenderFns=i,e}},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/slide/tc-story-editor-sheet/template.vue.pug":function(e,t){var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tc-sheet",{on:{closed:e.close}},[s("studio-side-panel",{ref:"paramsPanel",scopedSlots:e._u([{key:"body",fn:function(t){return[s("params-editor-panel",{staticClass:"studio-side-panel__body",attrs:{glossaryTerms:e.glossaryTerms,slide:e.editedStoryConfig},on:{closed:t.closePanel,slideParamsUpdated:e.updateStoryParameters,glossaryTermsUpdated:e.updateGlossaryTerms}})]}}])}),s("tc-story-editor-header",{attrs:{storyTitle:e.editedStoryConfig.title},on:{storyTitleUpdated:e.updateStoryTitle}}),e.visualModeActivated?s("div",{staticClass:"tc-story-editor__content tc-story-editor__content--visual"},[s("tc-story",{attrs:{editInPlace:!0,config:e.editedStoryConfig,dataApi:e.dataApi,debugPanelEnabled:!1},on:{storyUpdated:e.updateStoryConfig,openCommentaryEditor:e.openStoryParametersPanel}})],1):e._e(),e.codeModeActivated?s("story-config-editor",{staticClass:"tc-story-editor__content tc-story-editor__content--code",attrs:{config:e.editedStoryConfig,dataApi:e.dataApi},on:{configUpdated:e.updateStoryConfig}}):e._e(),e.error?s("studio-error-message",{attrs:{errorMessage:e.error,top:"15px",right:"140px"}}):e._e(),s("template",{slot:"footer-left"},[s("div",{staticClass:"studio-toolbar__button",on:{click:e.openStoryParametersPanel}},[e._v("Story Parameters")])]),e.hasChanges?s("div",{staticClass:"studio-toolbar__actions",attrs:{slot:"footer-actions"},slot:"footer-actions"},[s("div",{staticClass:"studio-toolbar__button studio-toolbar__button tc-story-editor__reset-button",on:{click:function(t){return e.reset()}}},[e._v("Reset")]),s("div",{staticClass:"studio-toolbar__button studio-toolbar__button--primary",on:{click:function(t){return e.save()}}},[e._v("Save")])]):e._e()],2)},i=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=s,t.staticRenderFns=i,e}},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/slide-editor/component-editor/component-editor.vue.pug":function(e,t){var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"component-editor"},[s("redimentionnable-panels",{attrs:{direction:"horizontal"}},[s("div",{staticClass:"slide-editor__panel",attrs:{slot:"panel-1"},slot:"panel-1"},[s("div",{staticClass:"slide-editor__header"},[s("div",{staticClass:"editor-manager"},[s("div",{ref:"componentOptionsEditorButton",staticClass:"editor-manager__choice",class:{"editor-manager__choice--active":e.isComponentOptionsTabActive},on:{click:function(t){return e.showEditor("componentOptions")}}},[e._v(e._s(e.t[e.componentEditorTKey]))]),s("div",{ref:"dataRequestEditorButton",staticClass:"editor-manager__choice",class:{"editor-manager__choice--active":e.isQueryOptionsTabActive},on:{click:e.displayQueryEditor}},[e._v(e._s(e.t["studio.data_request_editor.title"]))])]),s("div",{staticClass:"switch-mode__container"},[e.isVisualQueryBuilderMode?s("button",{staticClass:"switch-mode__button",on:{click:e.openSwitchToCodeModal}},[e._v("Swith to code mode")]):s("div",{staticClass:"switch-mode__code-mode"},[e._v("Code mode")])])]),s("div",{staticClass:"slide-editor__scrollable-zone"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isComponentOptionsTabActive,expression:"isComponentOptionsTabActive"}],ref:"componentOptionsEditor",staticClass:"story-editor__component-options-editor"},[e._t("default",null,{selectedDatasetId:e.selectedDatasetId,suggestions:e.suggestions,suggestionsProvider:e.provideSuggestions})],2),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isQueryOptionsTabActive&&!e.isVisualQueryBuilderMode,expression:"isQueryOptionsTabActive && !isVisualQueryBuilderMode"}],ref:"dataRequestEditor",staticClass:"datasets-editor"},[e.currentDataset?s("data-request-editor",{attrs:{"data-request":e.currentDatasetDataRequest},on:{dataRequestUpdated:e.updateDatasetDataRequest}}):e._e()],1),e.isQueryOptionsTabActive&&e.isVisualQueryBuilderMode?s("div",{staticClass:"weaverbird"},[e.isDataRequestEmpty?s("empty-placeholder",{staticClass:"data-request-editor__empty-placeholder",on:{dataRequestUpdated:e.selectDomain}}):s("query-builder")],1):e._e()])]),s("div",{staticClass:"slide-editor__panel",attrs:{slot:"panel-2"},slot:"panel-2"},[s("dataset-manager",{attrs:{config:e.story,"selected-dataset-id":e.selectedDatasetId},on:{configUpdated:function(t){return e.updateStory(t)},datasetIdSelected:function(t){return e.selectDatasetById(t)},addDataset:e.addDataset}}),e.isVisualQueryBuilderMode&&e.isQueryOptionsTabActive?s("div",{staticClass:"data-viewer--query-builder"},[s("data-viewer")],1):s("div",{staticClass:"datasets-viewer--options-editor"},[s("div",{staticClass:"datasets-viewer__header"},[s("div",{staticClass:"datasets-viewer__title"},[e._v("Dataset viewer")])]),e.currentDataset&&e.currentDataset.nestedData?s("dataset-viewer",{attrs:{dataset:e.currentDataset,precision:e.currentDatasetPrecision,sentiment:e.currentDatasetSentiment,suggestions:e.suggestions,units:e.currentDatasetUnits,isDrillable:e.currentDataset.isDrillable,isLazy:e.currentDataset.isLazy,formattable:!0},on:{mongoExport:e.transformDataQuery,precisionUpdated:e.updateStoryPrecision,sentimentUpdated:e.updateStorySentiment,unitUpdated:e.updateStoryUnits}}):e._e()],1)],1)]),e.isSwitchToCodeModalOpened?s("tc-modal",{on:{closed:e.closeSwitchToCodeModal}},[s("div",{staticClass:"tc-modal__header"},[s("div",{staticClass:"tc-modal__title"},[e._v(e._s(e.t["confirmation_modal.code_mode.title"]))])]),s("div",{staticClass:"tc-modal__section"},[s("strong",{staticClass:"tc-modal__text"},[e._v(e._s(e.t["confirmation_modal.code_mode.message"]))])]),s("div",{staticClass:"tc-modal__footer"},[s("div",{staticClass:"tc-modal__action tc-modal__action--secondary",on:{click:e.closeSwitchToCodeModal}},[e._v(e._s(e.t["confirmation_modal.cancel"]))]),s("div",{staticClass:"tc-modal__action tc-modal__action--primary",on:{click:e.switchToCodeMode}},[e._v(e._s(e.t["confirmation_modal.confirm"]))])])]):e._e(),s("preview",{attrs:{scale:.2}},[s("tc-story",{attrs:{config:e.story,dataApi:e.dataApi,debugPanelEnabled:!1,editable:!1,isPreview:!0}})],1)],1)},i=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=s,t.staticRenderFns=i,e}},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/slide-editor/filter-editor/filter-options-editor.vue.pug":function(e,t){var s=function(){var e=this.$createElement;return(this._self._c||e)("form-builder",{staticClass:"filter-editor-options",attrs:{"auto-save":"",uiSchema:this.filterUiSchema,initialValue:this.value,"suggestions-provider":this.suggestionsProvider},on:{formSaved:this.updateValue}})},i=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=s,t.staticRenderFns=i,e}},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/slide-editor/glossary-terms-editor/template.vue.pug":function(e,t){var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dropdown-button"},[s("div",{staticClass:"dropdown-button__label"},[e._v(e._s(e.t["studio.glossary_terms_editor.dropdown_label"]))]),s("div",{staticClass:"dropdown-button__display",on:{click:function(t){return e.openDropdown()}}},[e._v(e._s(e.display))]),e.isDropdownOpened?s("tc-checkboxes-dropdown-glossary",{attrs:{editable:"",name:e.t["studio.glossary_terms_editor.term_label"],searchable:"",selection:e.selection,values:e.values,requiredValues:e.requiredValues},on:{created:function(t){return e.openEditionModal()},closed:function(t){return e.closeDropdown()},edited:function(t){return e.openEditionModal(t)},updated:function(t){return e.updateSelection(t)},removed:function(t){return e.openWarningModal(t)}}}):e._e(),e.isEditionModalOpened?s("tc-modal",{attrs:{"body-style":{width:"600px"}},on:{closed:function(t){return e.closeEditionModal()}}},[s("div",{staticClass:"tc-modal__header"},[s("div",{staticClass:"tc-modal__title"},[e._v(e._s(e.t["studio.glossary_terms_editor.modal_editor_title"]))])]),s("div",{staticClass:"tc-modal__section"},[s("div",{staticClass:"tc-modal__input"},[s("label",{staticClass:"tc-modal__label",attrs:{for:"edit-glossary-term"}},[e._v(e._s(e.t["studio.glossary_terms_editor.term_label"]))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentTerm.term,expression:"currentTerm.term"}],staticClass:"tc-modal__field",attrs:{id:"edit-glossary-term",placeholder:e.t["studio.glossary_terms_editor.modal_editor_term_placeholder"],type:"text"},domProps:{value:e.currentTerm.term},on:{input:function(t){t.target.composing||e.$set(e.currentTerm,"term",t.target.value)}}})]),s("div",{staticClass:"tc-modal__input"},[s("label",{staticClass:"tc-modal__label",attrs:{for:"edit-glossary-meaning"}},[e._v(e._s(e.t["studio.glossary_terms_editor.modal_editor_definition"]))]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentTerm.meaning,expression:"currentTerm.meaning"}],staticClass:"tc-modal__field",attrs:{id:"edit-glossary-meaning",rows:"5",placeholder:e.t["studio.glossary_terms_editor.modal_editor_definition_placeholder"]},domProps:{value:e.currentTerm.meaning},on:{input:function(t){t.target.composing||e.$set(e.currentTerm,"meaning",t.target.value)}}})]),s("div",{staticClass:"tc-modal__input"},[s("input",{staticClass:"tc-modal__checkbox",attrs:{id:"edit-glossary-global",type:"checkbox"},domProps:{checked:e.isCurrentTermGlobal},on:{input:function(t){return e.toggleTermGlobal()}}}),s("label",{staticClass:"tc-modal__label",attrs:{for:"edit-glossary-global"}},[e._v(e._s(e.t["studio.glossary_terms_editor.modal_editor_label_global"]))])])]),s("div",{staticClass:"tc-modal__footer"},[s("div",{staticClass:"tc-modal__action tc-modal__action--secondary",on:{click:function(t){return e.closeEditionModal()}}},[e._v(e._s(e.t["studio.glossary_terms_editor.modal_cancel"]))]),s("div",{staticClass:"tc-modal__action tc-modal__action--primary",on:{click:function(t){return e.updateTerm()}}},[e._v(e._s(e.t["studio.glossary_terms_editor.modal_save"]))])])]):e._e(),e.isWarningModalOpened?s("tc-modal",{on:{closed:function(t){return e.closeWarningModal()}}},[s("div",{staticClass:"tc-modal__header"},[s("div",{staticClass:"tc-modal__title"},[e._v(e._s(e.t["studio.glossary_terms_editor.modal_delete_title"]))])]),s("div",{staticClass:"tc-modal__section"},[s("div",{staticClass:"tc-modal__text"},[e._v(e._s(e.tDeleteText))]),s("strong",{staticClass:"tc-modal__text"},[e._v(e._s(e.t["studio.glossary_terms_editor.modal_delete_text_part2"]))])]),s("div",{staticClass:"tc-modal__footer"},[s("div",{staticClass:"tc-modal__action tc-modal__action--secondary",on:{click:function(t){return e.closeWarningModal()}}},[e._v(e._s(e.t["studio.glossary_terms_editor.modal_cancel"]))]),s("div",{staticClass:"tc-modal__action tc-modal__action--primary",on:{click:function(t){return e.removeTerm()}}},[e._v(e._s(e.t["studio.glossary_terms_editor.modal_confirm"]))])])]):e._e()],1)},i=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=s,t.staticRenderFns=i,e}},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/slide-editor/params-editor/params-editor-panel.vue.pug":function(e,t){var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slide-params-editor-panel"},[s("div",{staticClass:"studio-side-panel__header"},[s("div",{staticClass:"studio-side-panel__title"},[e._v(e._s(e.t["studio.side-panel.title"]))]),e.changed?s("div",{staticClass:"studio-side-panel__button-bar"},[s("button",{staticClass:"studio-side-panel__cancel-button",on:{click:function(t){return e.close()}}},[e._v("cancel")]),s("button",{staticClass:"studio-side-panel__save-button",on:{click:function(t){return e.save()}}},[e._v("save")])]):s("div",{staticClass:"studio-side-panel__close",on:{click:function(t){return e.close()}}})]),s("params-editor",{staticClass:"slide-params-editor-panel__body",attrs:{"glossary-terms":e.currentGlossaryTerms,slide:e.slide},on:{glossaryTermsUpdated:function(t){return e.saveUpdatedGlossaryTerms(t)},slideParamsUpdated:e.saveUpdatedParams}})],1)},i=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=s,t.staticRenderFns=i,e}},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/slide-editor/params-editor/slide-params-editor.vue.pug":function(e,t){var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slide-params-editor"},[s("glossary-terms-editor",{attrs:{terms:e.glossaryTerms},on:{updated:function(t){return e.updateGlossaryTerms(t)}}}),s("form-builder",{staticClass:"slide-params-editor__form",attrs:{"auto-save":"",uiSchema:e.slideParamsUiSchema,initialValue:e.slideParams},on:{formSaved:e.updateSlideParams}})],1)},i=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=s,t.staticRenderFns=i,e}},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/studio-side-panel/studio-side-panel.vue.pug":function(e,t){var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"studio-side-panel",class:e.elementClass},[s("transition",{attrs:{appear:""}},[e.isOpened?s("div",{staticClass:"studio-side-panel__panel"},[s("div",{staticClass:"studio-side-panel__info",on:{click:function(t){return e.close()}}},[e._t("info")],2),e._t("body",null,{closePanel:e.close})],2):e._e()])],1)},i=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=s,t.staticRenderFns=i,e}},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/studio/utils/preview/preview.vue.pug":function(e,t){var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.onClickAway,expression:"onClickAway"}],staticClass:"preview",class:"preview--"+e.mode,style:e.currentStyle.container},[s("div",{staticClass:"preview__wrapper"},[s("div",{staticClass:"preview__content",style:e.currentStyle.content},[e.shouldDisplayContent?e._t("default"):e._e()],2)]),s("div",{staticClass:"preview__actions"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.canCompress,expression:"canCompress"}],staticClass:"preview__action preview__action--compress",on:{click:e.compress}},[s("div",{staticClass:"fa fa-compress"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.canExpand,expression:"canExpand"}],staticClass:"preview__action preview__action--expand",on:{click:e.expand}},[s("div",{staticClass:"fa fa-expand"})])])])},i=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=s,t.staticRenderFns=i,e}},"/app/node_modules/vue-template-loader/lib/template-loader.js??ref--1-oneOf-1-0!/app/node_modules/pug-plain-loader/index.js!/app/app/scripts/utils/components/tc-checkboxes-dropdown-glossary/tc-checkboxes-dropdown-glossary.vue.pug":function(e,t){var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.close,expression:"close"}],staticClass:"tc-checkboxes-dropdown-glossary",class:e.elementClass},[s("div",{staticClass:"tc-checkboxes-dropdown-glossary__header"},[e.hasName?s("div",{staticClass:"tc-checkboxes-dropdown-glossary__title"},[e._v(e._s(e.tLabel))]):e._e(),e.searchable?s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"tc-checkboxes-dropdown-glossary__field searchable",attrs:{placeholder:e.tPlaceholderSearchable},domProps:{value:e.searchTerm},on:{input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}):e._e(),s("div",{staticClass:"tc-checkboxes-dropdown-glossary__shortcut",on:{click:function(t){return e.checkAll()}}},[e._v(e._s(e.t.checkboxes_dropdown.all))]),s("div",{staticClass:"tc-checkboxes-dropdown-glossary__shortcut",on:{click:function(t){return e.unCheckAll()}}},[e._v(e._s(e.t.checkboxes_dropdown.none))])]),s("div",{staticClass:"tc-checkboxes-dropdown-glossary__checkboxes"},[e.extendable?s("div",{staticClass:"tc-checkboxes-dropdown-glossary__form"},e._l(e.newValues,function(t,i){return s("div",{key:i,staticClass:"tc-checkboxes-dropdown-glossary__input"},[s("input",{staticClass:"tc-checkboxes-dropdown-glossary__field",attrs:{placeholder:e.tPlaceholder},domProps:{value:t},on:{input:function(t){return e.updateFormValue(i,t.target.value)}}}),s("div",{staticClass:"tc-checkboxes-dropdown-glossary__remove",on:{click:function(t){return e.remove(i)}}},[s("div",{staticClass:"fa fa-times"})])])}),0):e._e(),e.editableOrExtendable?s("div",{staticClass:"tc-checkboxes-dropdown-glossary__create",on:{click:function(t){return e.createNewValue()}}},[s("div",{staticClass:"fa fa-plus"}),s("div",[e._v(e._s(e.tCreate))])]):e._e(),e._l(e.selectableOptions,function(t,i){return s("div",{staticClass:"tc-checkboxes-dropdown-glossary__checkbox-container"},[s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.getCheckboxTooltip(t),expression:"getCheckboxTooltip(value)"}],staticClass:"tc-checkboxes-dropdown-glossary__checkbox",class:e.getCheckboxClass(t),on:{click:function(s){return e.toggle(t)}}},[e._v(e._s(t))]),e.editable?s("div",{staticClass:"tc-checkboxes-dropdown-glossary__control",on:{click:function(t){return e.edit(i)}}},[s("div",{staticClass:"fa fa-pencil"})]):e._e(),e.editable?s("div",{staticClass:"tc-checkboxes-dropdown-glossary__control",on:{click:function(t){return e.remove(i)}}},[s("div",{staticClass:"far fa-trash-alt"})]):e._e()])})],2),e.extendable?s("div",{staticClass:"tc-checkboxes-dropdown-glossary__footer"},[s("div",{staticClass:"tc-checkboxes-dropdown-glossary__action tc-checkboxes-dropdown-glossary__action--secondary",on:{click:function(t){return e.close()}}},[e._v(e._s(e.t.checkboxes_dropdown.cancel))]),s("div",{staticClass:"tc-checkboxes-dropdown-glossary__action tc-checkboxes-dropdown-glossary__action--primary",on:{click:function(t){return e.submit()}}},[e._v(e._s(e.t.checkboxes_dropdown.confirm))])]):e._e()])},i=[];e.exports=function(e){var t="function"==typeof e?e.options:e;return t.render=s,t.staticRenderFns=i,e}}}]);