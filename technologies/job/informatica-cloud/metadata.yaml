version: v2
id: informatica-cloud
label: Informatica Cloud Platform
description: "Informatica Cloud Platform - Data integration"
available: false
type: EXTERNAL_JOB
icon: job

contexts:
  - id: tasks-v2
    label: Data Integration V2
    description: "Informatica Cloud Platform Data Integration V2"
    recommended: false
    trustLevel: experimental
    available: true
    connectionTypeId: informatica-cloud
    parameters:
      - type: STATIC_SELECT
        id: taskType
        label: Task type
        mandatory: true
        staticValues:
          - id: DMASK
            label: DMASK. Masking task.
          - id: DRS
            label: DRS. Replication task.
          - id: DSS
            label : DSS. Synchronization task.
          - id: MTT
            label : MTT. Mapping task.
          - id: PCS
            label : PCS. PowerCenter task.
      - type: DYNAMIC_SELECT
        id: task
        label: Task
        mandatory: true
        dynamicValues:
          script: .//dist/module.js
          function: getTasks
        dependsOn:
          - taskType
    actions:
      start:
        script: .//dist/module.js
        function: start
      stop:
        script: .//dist/module.js
        function: stop
      getStatus:
        script: .//dist/module.js
        function: getStatus
      getLogs:
        script: .//dist/module.js
        function: getLogs
  - id: tasks-v3
    label: Data Integration V3
    description: "Informatica Cloud Platform Data Integration V3"
    recommended: false
    trustLevel: experimental
    available: true
    connectionTypeId: informatica-cloud
    parameters:
      - type: DYNAMIC_SELECT
        id: project
        label: Project
        mandatory: true
        dynamicValues:
          script: .//dist/module.js
          function: getProjects
      - type: DYNAMIC_SELECT
        id: folder
        label: Folder
        mandatory: true
        dynamicValues:
          script: .//dist/module.js
          function: getFolders
        dependsOn:
          - project
      - type: STATIC_SELECT
        id: taskType
        label: Task type
        mandatory: true
        staticValues:
          - id: DMASK
            label: DMASK. Masking task.
          - id: DRS
            label: DRS. Replication task.
          - id: DSS
            label : DSS. Synchronization task.
          - id: MTT
            label : MTT. Mapping task.
          - id: PCS
            label : PCS. PowerCenter task.
        dependsOn:
          - folder
      - type: DYNAMIC_SELECT
        id: task
        label: Task
        mandatory: true
        dynamicValues:
          script: .//dist/module.js
          function: getTasks
        dependsOn:
          - taskType
    actions:
      start:
        script: .//dist/module.js
        function: start
      stop:
        script: .//dist/module.js
        function: stop
      getStatus:
        script: .//dist/module.js
        function: getStatus
      getLogs:
        script: .//dist/module.js
        function: getLogs
  - id: workflows-v2
    label: Data Integration with workflows V2
    description: "Informatica Cloud Platform Data Integration with workflows V2"
    recommended: false
    trustLevel: experimental
    available: true
    connectionTypeId: informatica-cloud
    parameters:
      - type: DYNAMIC_SELECT
        id: workflow
        label: Workflow
        mandatory: true
        dynamicValues:
          script: .//dist/module.js
          function: getWorkflows
      - type: DYNAMIC_SELECT
        id: task
        label: Specific task
        mandatory: true
        dynamicValues:
          script: .//dist/module.js
          function: getTasks
        dependsOn:
          - workflow
    actions:
      start:
        script: .//dist/module.js
        function: start
      stop:
        script: .//dist/module.js
        function: stop
      getStatus:
        script: .//dist/module.js
        function: getStatus
      getLogs:
        script: .//dist/module.js
        function: getLogs
  - id: workflows-v3
    label: Data Integration with workflows V3
    description: "Informatica Cloud Platform Data Integration with workflows V3"
    recommended: false
    trustLevel: experimental
    available: true
    connectionTypeId: informatica-cloud
    parameters:
      - type: DYNAMIC_SELECT
        id: project
        label: Project
        mandatory: true
        dynamicValues:
          script: .//dist/module.js
          function: getProjects
      - type: DYNAMIC_SELECT
        id: folder
        label: Folder
        mandatory: true
        dynamicValues:
          script: .//dist/module.js
          function: getFolders
        dependsOn:
          - project
      - type: DYNAMIC_SELECT
        id: workflow
        label: Workflow
        mandatory: true
        dynamicValues:
          script: .//dist/module.js
          function: getWorkflows
        dependsOn:
          - folder
    actions:
      start:
        script: .//dist/module.js
        function: start
      stop:
        script: .//dist/module.js
        function: stop
      getStatus:
        script: .//dist/module.js
        function: getStatus
      getLogs:
        script: .//dist/module.js
        function: getLogs
